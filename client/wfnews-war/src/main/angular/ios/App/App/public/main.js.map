{"version":3,"file":"main.js","mappings":"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ACA;AACU;AACb;AACqB;AAC1B;AACS;AACM;AACtB;AAC8C;AAClD;AACiB;AACiB;AACuC;AACvB;AACvB;AACgC;AACzB;AACV;AACR;AACK;AAChB;AACP;AACoE;AAC2C;AACM;AAC1D;AAClC;AACP;AACD;AACwB;AACX;AACpB;AACM;AACoB;AACvB;AACuD;AACf;AACvB;AAC0D;AAClD;AACvB;AACA;AACyE;AACjE;AACiE;AACQ;AACkB;AACxC;AACZ;AACzC;AACN;AACD;AACqE;AACZ;AACS;AAClB;AAC7B;AACoB;AACC;AACiC;AACM;AAClD;AACO;AAC6B;AACuB;AACM;AACd;AACjC;AACY;AAC3B;AAC/B;AACM;AACA;AAC8B;AACuB;AAChC;AAC2B;AACQ;AACpC;AACuC;AAC7B;AACqC;AACd;AAC6C;AACzF;AACgC;AAC2B;AACJ;AACL;AACA;AACY;AAC7D;AACP;AACwD;AACN;AACrE;AAC0E;AACe;AACQ;AACM;AACvF;AACqD;AACZ;AACC;AAC8C;AAC3B;AAC2D;AACW;AACR;AACA;AACvB;AACZ;AACpB;AACA;AACzB;AACQ;AAC1B;AAC6B;AAC3B;AACO;AACkB;AACW;AACpD;AAC6B;AACN;AACS;AACuB;AACxB;AACH;AAClD;;;;;;;;;;;AAGlD;AACO,MAAM0U,YAAY,GAAG;EACxBC,eAAe,EAAE,qBAAqB;EACtCC,eAAe,EAAE,YAAY;EAC7BC,eAAe,EAAE,UAAU;EAC3BC,cAAc,EAAE,SAAS;EACzBC,aAAa,EAAE,aAAa;EAC5BC,kBAAkB,EAAE;CACvB;AAmOK,MAAOC,SAAS;EAAA;qBAATA,SAAS;EAAA;EAAA;UAATA,SAAS;IAAAC,YAJdvT,wDAAY;EAAA;EAAA;eArEL;IACP;IACA;IACA;IACA6M,gEAAuB,CAACF,gDAAW,CAAC,EACpC;MACI6G,OAAO,EAAE5K,4DAAa;MACtB6K,QAAQ,EAAErS,2EAAoBsS;KACjC,EACD;MACIF,OAAO,EAAE7I,iEAAkB;MAC3BgJ,QAAQ,EAAElH,2FAAmBA;KAChC,EACDwB,gEAAW,EACX5C,wDAAY,EACZkB,o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AkB;EAC/BC,UAAU,EAAE,OAAO;EACnBC,EAAE,EAAE,OAAO;EACX,OAAO,EAAE,iBAAiB;EAC1BC,WAAW,EAAE,iBAAiB;EAC9BC,EAAE,EAAE,GAAG;EACPC,UAAU,EAAE,GAAG;EACfC,OAAO,EAAE,iBAAiB;EAC1BC,OAAO,EAAE,GAAG;EACZC,EAAE,EAAE,IAAI;EACRC,SAAS,EAAE,IAAI;EACfC,KAAK,EAAE,QAAQ;EACfC,IAAI,EAAE,kBAAkB;EACxBC,EAAE,EAAE,kBAAkB;EACtB,OAAO,EAAE,kBAAkB;EAC3BC,GAAG,EAAE,kBAAkB;EACvBC,GAAG,EAAE,kBAAkB;EACvBC,KAAK,EAAE,kBAAkB;EACzB,UAAU,EAAE,kBAAkB;EAC9B,cAAc,EAAE,KAAK;EACrB,QAAQ,EAAE,kBAAkB;EAC5B,QAAQ,EAAE,kBAAkB;EAC5BC,EAAE,EAAE,kBAAkB;EACtBC,OAAO,EAAE,kBAAkB;EAC3B,eAAe,EAAE;CAClB;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACvmBM,MAAOnoE,mBAAmB;EADhCxM;IAGE,aAAQ,GAAyC,EAAE;;EAEnD40E,YAAY,CAACht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,CAAE;MAEvE,IAAKyd,MAAM,EAAG;QAClB,IAAI,CAAC5iB,MAAM,CAACK,OAAO,CAACqmE,cAAc,CAAE34D,EAAE,CAAE,GAAG,IAAI;;IAE/C,CAAC,CAAE;IAEH,OAAO,IAAI,CAAC/N,MAAM,CAACK,OAAO,CAACsmE,mBAAmB,EAAE;EACpD;EAEAC,eAAe,CAAEl5C,OAAe,EAAE24C,KAAyB;IACvD,IAAK,CAAC,IAAI,CAACrmE,MAAM,EAAG;MAC5B;;IAGQqmE,KAAK,CAAE,IAAI,CAACrmE,MAAM,CAACK,OAAO,CAACqtB,OAAO,CAAEA,OAAO,CAAE,CAACnlC,MAAM,CAAE;EAC1D;;;;;;;;;;;;;;;;ACnDJ;AACA;AACA;AACA;AAEO,MAAMb,WAAW,GAAG;EAC1B6T,UAAU,EAAE,KAAK;EACjBsrE,iCAAiC,EAAE,EAAE;EACrCC,wBAAwB,EAAE,EAAE;EAC5BjsE,mBAAmB,EAAE,6BAA6B;EAClDb,QAAQ,EAAE,GAAG;EACV+sE,kCAAkC,EAAE;CACvC;;;;;;;;;;;;;;;;;ACZ8C;AAEF;AACY;AAEzD,IAAKr/E,6EAAsB,EAAG;EAC9Bs/E,6DAAc,EAAE;;AAGhBC,sEAAAA,EAAwB,CAACC,eAAe,CAAEttE,sDAAS,CAAE,CAAClW,KAAK,CAAEE,OAAO,CAACC,IAAI,CAAE;;;;;;;;;;ACT3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnSA","sources":["./src/app/app-initializer.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/components/active-wildfire-map/active-wildfire-map.component.ts","./src/app/components/active-wildfire-map/active-wildfire-map.component.html","./src/app/components/admin-incident-form/admin-incident-form.component.desktop.ts","./src/app/components/admin-incident-form/admin-incident-form.component.html","./src/app/components/admin-incident-form/admin-incident-form.component.ts","./src/app/components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component.html","./src/app/components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component.ts","./src/app/components/admin-incident-form/contact-us-dialog/contact-us-dialog.component.ts","./src/app/components/admin-incident-form/contact-us-dialog/contact-us-dialog.component.html","./src/app/components/admin-incident-form/contacts-details-panel/contacts-details-panel.component.ts","./src/app/components/admin-incident-form/contacts-details-panel/contacts-details-panel.component.html","./src/app/components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component.html","./src/app/components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component.html","./src/app/components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component.html","./src/app/components/admin-incident-form/image-gallery-panel/image-gallery-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/image-gallery-panel.component.html","./src/app/components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component.html","./src/app/components/admin-incident-form/incident-details-panel/custom-uploader.ts","./src/app/components/admin-incident-form/incident-details-panel/incident-details-panel.component.ts","./src/app/components/admin-incident-form/incident-details-panel/incident-details-panel.component.html","./src/app/components/admin-incident-form/incident-details-panel/incident-details-panel.constants.ts","./src/app/components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component.ts","./src/app/components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component.html","./src/app/components/admin-incident-form/maps-panel/maps-panel.component.ts","./src/app/components/admin-incident-form/maps-panel/maps-panel.component.html","./src/app/components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component.ts","./src/app/components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component.html","./src/app/components/admin-incident-form/publish-dialog/publish-dialog.component.ts","./src/app/components/admin-incident-form/publish-dialog/publish-dialog.component.html","./src/app/components/admin-incident-form/response-details-panel/response-details-panel.component.ts","./src/app/components/admin-incident-form/response-details-panel/response-details-panel.component.html","./src/app/components/admin-incident-form/summary-panel/summary-panel.component.ts","./src/app/components/admin-incident-form/summary-panel/summary-panel.component.html","./src/app/components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component.html","./src/app/components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component.html","./src/app/components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component.html","./src/app/components/admin-incident-form/video-gallery-panel/video-gallery-panel.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/video-gallery-panel.component.html","./src/app/components/base/base.component.model.ts","./src/app/components/base/base.component.ts","./src/app/components/common/alert-order-banner/alert-order-banner.component.ts","./src/app/components/common/alert-order-banner/alert-order-banner.component.html","./src/app/components/common/base-collection/collection.component.ts","./src/app/components/common/guards/unsaved-changes.guard.ts","./src/app/components/common/scroll-to-top-button/scroll-to-top.component.ts","./src/app/components/common/scroll-to-top-button/scroll-to-top.component.html","./src/app/components/common/unsaved-changes-dialog/unsaved-changes-dialog.component.ts","./src/app/components/common/unsaved-changes-dialog/unsaved-changes-dialog.component.html","./src/app/components/current-alert-component/current-alert-component.component.ts","./src/app/components/current-alert-component/current-alert-component.component.html","./src/app/components/disclaimer-dialog/disclaimer-dialog.component.ts","./src/app/components/disclaimer-dialog/disclaimer-dialog.component.html","./src/app/components/error-page/error-page.component.ts","./src/app/components/error-page/error-page.component.html","./src/app/components/incident-identify-panel/incident-identify-panel.component.ts","./src/app/components/incident-identify-panel/incident-identify-panel.component.html","./src/app/components/message-dialog/message-dialog.component.ts","./src/app/components/message-dialog/message-dialog.component.html","./src/app/components/panel-area-restrictions/panel-area-restrictions.component.ts","./src/app/components/panel-area-restrictions/panel-area-restrictions.component.html","./src/app/components/panel-bans-prohibitions/panel-bans-prohibitions.component.ts","./src/app/components/panel-bans-prohibitions/panel-bans-prohibitions.component.html","./src/app/components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component.ts","./src/app/components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component.html","./src/app/components/panel-fire-danger/panel-fire-danger.component.ts","./src/app/components/panel-fire-danger/panel-fire-danger.component.html","./src/app/components/panel-local-authority/panel-local-authority.component.ts","./src/app/components/panel-local-authority/panel-local-authority.component.html","./src/app/components/panel-road-conditions/panel-road-conditions.component.ts","./src/app/components/panel-road-conditions/panel-road-conditions.component.html","./src/app/components/panel-smoke-forecast/panel-smoke-forecast.component.ts","./src/app/components/panel-smoke-forecast/panel-smoke-forecast.component.html","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.desktop.ts","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.html","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.model.ts","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/image-panel/image-panel.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/image-panel/image-panel.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-all-media-mobile/incident-gallery-all-media-mobile.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-all-media-mobile/incident-gallery-all-media-mobile.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-images-mobile/incident-gallery-images-mobile.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-images-mobile/incident-gallery-images-mobile.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel-mobile/incident-gallery-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel-mobile/incident-gallery-panel-mobile.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-videos-mobile/incident-gallery-videos-mobile.component.html","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-videos-mobile/incident-gallery-videos-mobile.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/video-panel/video-panel.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/video-panel/video-panel.component.html","./src/app/components/public-incident-page/incident-info-header/incident-header-panel.component.ts","./src/app/components/public-incident-page/incident-info-header/incident-header-panel.component.html","./src/app/components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component.html","./src/app/components/public-incident-page/incident-info-panel/incident-info-panel.component.ts","./src/app/components/public-incident-page/incident-info-panel/incident-info-panel.component.html","./src/app/components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component.html","./src/app/components/public-incident-page/incident-maps-panel/incident-maps-panel.component.ts","./src/app/components/public-incident-page/incident-maps-panel/incident-maps-panel.component.html","./src/app/components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component.html","./src/app/components/public-incident-page/incident-overview-panel/incident-overview-panel.component.ts","./src/app/components/public-incident-page/incident-overview-panel/incident-overview-panel.component.html","./src/app/components/public-incident-page/public-incident-page.component.ts","./src/app/components/public-incident-page/public-incident-page.component.html","./src/app/components/report-of-fire/comment-page/rof-comments-page.component.ts","./src/app/components/report-of-fire/comment-page/rof-comments-page.component.html","./src/app/components/report-of-fire/compass-page/rof-compass-page.component.ts","./src/app/components/report-of-fire/compass-page/rof-compass-page.component.html","./src/app/components/report-of-fire/complex-question-page/rof-complex-question-page.component.ts","./src/app/components/report-of-fire/complex-question-page/rof-complex-question-page.component.html","./src/app/components/report-of-fire/contact-page/rof-contact-page.component.ts","./src/app/components/report-of-fire/contact-page/rof-contact-page.component.html","./src/app/components/report-of-fire/location-page/rof-location-page.component.ts","./src/app/components/report-of-fire/location-page/rof-location-page.component.html","./src/app/components/report-of-fire/permissions-page/rof-permissions-page.component.ts","./src/app/components/report-of-fire/permissions-page/rof-permissions-page.component.html","./src/app/components/report-of-fire/photo-page/rof-photo-page.component.ts","./src/app/components/report-of-fire/photo-page/rof-photo-page.component.html","./src/app/components/report-of-fire/report-of-fire.component.ts","./src/app/components/report-of-fire/report-of-fire.component.html","./src/app/components/report-of-fire/reportOfFireModel.ts","./src/app/components/report-of-fire/review-page/rof-review-page.component.ts","./src/app/components/report-of-fire/review-page/rof-review-page.component.html","./src/app/components/report-of-fire/rofPage.ts","./src/app/components/report-of-fire/simple-question-page/rof-simple-question-page.component.ts","./src/app/components/report-of-fire/simple-question-page/rof-simple-question-page.component.html","./src/app/components/report-of-fire/title-page/rof-title-page.component.ts","./src/app/components/report-of-fire/title-page/rof-title-page.component.html","./src/app/components/sign-out-page/sign-out-page.component.ts","./src/app/components/sign-out-page/sign-out-page.component.html","./src/app/components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component.ts","./src/app/components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component.html","./src/app/components/sticky-widget/sticky-widget.component.ts","./src/app/components/sticky-widget/sticky-widget.component.html","./src/app/components/weather-panel/weather-panel.component.html","./src/app/components/weather-panel/weather-panel.component.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.desktop.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.desktop.html","./src/app/components/wf-admin-panel/wf-admin-panel.component.model.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.ts","./src/app/components/wf-map-container/wf-map-container.component.ts","./src/app/components/wf-map-container/wf-map-container.component.html","./src/app/components/wf-stats-component/wf-stats.component.ts","./src/app/components/wf-stats-component/wf-stats.component.html","./src/app/components/wildfire-resources/resource-panel/resource-panel.component.html","./src/app/components/wildfire-resources/resource-panel/resource-panel.component.ts","./src/app/components/wildfire-resources/wf-resources.component.ts","./src/app/components/wildfire-resources/wf-resources.component.html","./src/app/components/wildfires-list-header/wildfires-list-header.component.ts","./src/app/components/wildfires-list-header/wildfires-list-header.component.html","./src/app/components/wildfires-list/wildfires-list.component.desktop.ts","./src/app/components/wildfires-list/wildfires-list.component.desktop.html","./src/app/components/wildfires-list/wildfires-list.component.model.ts","./src/app/components/wildfires-list/wildfires-list.component.ts","./src/app/containers/admin/admin-container.component.desktop.ts","./src/app/containers/admin/admin-container.component.ts","./src/app/containers/base/base-container.component.ts","./src/app/containers/incident/incident-container.component.desktop.ts","./src/app/containers/incident/incident-container.component.ts","./src/app/containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.desktop.ts","./src/app/containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.ts","./src/app/containers/wildfiresList/wildfiresList-container.component.desktop.ts","./src/app/containers/wildfiresList/wildfiresList-container.component.ts","./src/app/directives/singleselect.directive.ts","./src/app/interceptors/wfnews-interceptor.ts","./src/app/pipes/safe.pipe.ts","./src/app/services/AGOL-service.ts","./src/app/services/application-state.service.ts","./src/app/services/common-utility.service.ts","./src/app/services/document-management.service.ts","./src/app/services/local-storage-service.ts","./src/app/services/map-config.service/index.ts","./src/app/services/map-config.service/layer-display.config.ts","./src/app/services/map-config.service/layers/abms-municipalities.config.ts","./src/app/services/map-config.service/layers/abms-regional-districts.config.ts","./src/app/services/map-config.service/layers/active-wildfires.config.ts","./src/app/services/map-config.service/layers/active-wildfires.heatmap.config.ts","./src/app/services/map-config.service/layers/area-restrictions.config.ts","./src/app/services/map-config.service/layers/bans-and-prohibitions.config.ts","./src/app/services/map-config.service/layers/bc-fire-centres.config.ts","./src/app/services/map-config.service/layers/bc-parks-closures.config.ts","./src/app/services/map-config.service/layers/bcws-activefires-publicview-inactive.config.ts","./src/app/services/map-config.service/layers/clab-indian-reserves.config.ts","./src/app/services/map-config.service/layers/closed-recreation-sites.config.ts","./src/app/services/map-config.service/layers/danger-rating.config.ts","./src/app/services/map-config.service/layers/drive-bc-active-events.config.ts","./src/app/services/map-config.service/layers/evacuation-orders-and-alerts-wms.config.ts","./src/app/services/map-config.service/layers/fire-perimeters.config.ts","./src/app/services/map-config.service/layers/fnt-treaty-land.config.ts","./src/app/services/map-config.service/layers/fsr-safety.config.ts","./src/app/services/map-config.service/layers/hourly-currentforecast-firesmoke.config.ts","./src/app/services/map-config.service/layers/index.ts","./src/app/services/map-config.service/layers/precipitation.config.ts","./src/app/services/map-config.service/layers/weather-stations.config.ts","./src/app/services/map-config.service/layers/weather.config.ts","./src/app/services/map-config.service/map.config.ts","./src/app/services/point-id.service/index.ts","./src/app/services/published-incident-service.ts","./src/app/services/router-ext.service.ts","./src/app/services/update.service.ts","./src/app/services/util/NewsAuthGuard.ts","./src/app/services/watchlist-service.ts","./src/app/services/wf-map.service.ts","./src/app/services/wfnews-map.service/place-data.ts","./src/app/services/wfnews-map.service/util.ts","./src/app/shared/route/custom-route-reuse-strategy.ts","./src/app/shared/scopes/scopes.ts","./src/app/store/application/application.selector.ts","./src/app/store/application/application.state.ts","./src/app/store/common/page-search.reducer.ts","./src/app/store/incident/incident.action.ts","./src/app/store/incident/incident.effect.ts","./src/app/store/incident/incident.reducer.ts","./src/app/store/incident/incident.selector.ts","./src/app/store/incident/incident.stats.ts","./src/app/store/incidents/incidents.action.ts","./src/app/store/incidents/incidents.effects.ts","./src/app/store/incidents/incidents.reducer.ts","./src/app/store/incidents/incidents.selector.ts","./src/app/store/incidents/incidents.stats.ts","./src/app/store/index.ts","./src/app/store/wildfiresList/wildfiresList.action.ts","./src/app/store/wildfiresList/wildfiresList.effects.ts","./src/app/store/wildfiresList/wildfiresList.reducer.ts","./src/app/store/wildfiresList/wildfiresList.selector.ts","./src/app/store/wildfiresList/wildfiresList.stats.ts","./src/app/utils/error-messages.ts","./src/app/utils/index.ts","./src/app/utils/smk.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$","ignored|/Users/ssylver/Desktop/nr-bcws-wfnews/client/wfnews-war/src/main/angular/node_modules/object-inspect|./util.inspect"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { AppConfigService} from '@wf1/core-ui';\n\nexport function codeTableAndUserPrefFnInit(appConfig: AppConfigService, http: HttpClient, injector: Injector): () => Promise<any> {\n    return () => {\n        return appConfig.loadAppConfig().catch((e) => {\n          console.warn('Failed initializing app', e);\n        });\n    };\n}\n\nexport function getEndpointUrl(baseUrl: string, endpoint: string): string {\n  const result = '';\n  if (baseUrl && baseUrl.length > 0 && endpoint && endpoint.length > 0) {\n    return baseUrl.endsWith('/') ? `${baseUrl}${endpoint}` : `${baseUrl}/${endpoint}`;\n  } else if (baseUrl && baseUrl.length > 0) {\n    return baseUrl;\n  } else if (endpoint && endpoint.length > 0) {\n    return endpoint;\n  }\n  return result;\n}\n","import { Location } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport { RouterLink, WfApplicationConfiguration, WfApplicationState } from '@wf1/wfcc-application-ui';\nimport { WfMenuItems } from '@wf1/wfcc-application-ui/application/components/wf-menu/wf-menu.component';\nimport * as moment from 'moment';\nimport { Subscription } from 'rxjs';\nimport { DisclaimerDialogComponent } from './components/disclaimer-dialog/disclaimer-dialog.component';\nimport { ApplicationStateService } from './services/application-state.service';\nimport { UpdateService } from './services/update.service';\nimport { ResourcesRoutes, snowPlowHelper, isMobileView as mobileView } from './utils';\nimport { WFMapService } from './services/wf-map.service';\n\n\nexport const ICON = {\n  ADVISORIES: 'advisories',\n  BACK_ICON: 'back-icon',\n  BOOKMARK: 'bookmark',\n  CLOUD_SUN: 'cloud-sun',\n  CONTACT_US: 'contact-us',\n  DOT: 'dot',\n  EXCLAMATION_CIRCLE: 'exclamation-circle',\n  EXT_LINK: 'external-link',\n  FACEBOOK_SQUARE: 'fb-square',\n  FACEBOOK: 'facebook',\n  FILTER_CANCEL: \"filter-cancel\",\n  FIRE: 'fire',\n  INCIDENT: 'incident',\n  MAP_SIGNS: 'map-signs',\n  MAP: 'map',\n  TWITTER: 'twitter',\n  CAMPING: 'camping',\n  LARGER: 'larger',\n  PHONE: 'phone',\n  ARROW_FORWARD_ENABLED: 'arrow-forward-enabled',\n  ARROW_FORWARD_DISABLED: 'arrow-forward-disabled',\n  CAMERA: 'camera',\n  IMAGE: 'image',\n  CAMERA_GREY: 'camera-grey',\n  IMAGE_GREY: 'image-grey',\n};\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnDestroy, OnInit, AfterViewInit {\n  public url;\n  public snowPlowHelper = snowPlowHelper\n  public isMobileView = mobileView\n  public TOOLTIP_DELAY = 500;\n\n  title = 'News';\n\n  isLoggedIn = true;\n  hasAccess = true;\n\n  applicationConfig: WfApplicationConfiguration = {\n    title: 'Wildfire News',\n    device: this.applicationStateService.getDevice(),\n    userName: '',\n    version: {\n      long: '',\n      short: ''\n    },\n    environment: ''\n  };\n\n  applicationState: WfApplicationState = {\n    menu: 'hidden'\n  }\n\n  appMenu: WfMenuItems;\n  footerMenu: WfMenuItems;\n  orientation;\n\n  lastSuccessPollSub: Subscription;\n  lastSyncDate;\n  lastSyncValue = undefined;\n  tokenSubscription: Subscription;\n\n  constructor(\n    protected appConfigService: AppConfigService,\n    protected router: Router,\n    protected location: Location,\n    protected updateService: UpdateService,\n    protected applicationStateService: ApplicationStateService,\n    protected matIconRegistry: MatIconRegistry,\n    protected domSanitizer: DomSanitizer,\n    protected tokenService: TokenService,\n    protected cdr: ChangeDetectorRef,\n    protected dialog: MatDialog,\n    protected wfMapService:WFMapService\n  ) {\n  }\n\n  private updateMapSize = function () {\n    this.storeViewportSize();\n  };\n\n  ngOnInit() {\n    this.wfMapService.patch();\n    this.addCustomMaterialIcons();\n    this.updateService.checkForUpdates();\n    this.checkUserPermissions();\n\n    if (!this.location.path().startsWith('/(root:external')) {\n      this.appConfigService.configEmitter.subscribe((config) => {\n        this.applicationConfig.version.short = config.application.version.replace(/-snapshot/i, '');\n        this.applicationConfig.version.long = config.application.version;\n        this.applicationConfig.environment = config.application.environment.replace(/^.*prod.*$/i, ' ') || ' ';\n        this.onResize();\n      });\n    }\n    this.tokenSubscription = this.tokenService.credentialsEmitter.subscribe((creds) => {\n      let first = creds.given_name || creds.givenName;\n      let last = creds.family_name || creds.familyName;\n\n      this.applicationConfig.userName = `${first} ${last}`;\n    });\n\n\n    this.initAppMenu();\n    this.initFooterMenu();\n\n    window['SPLASH_SCREEN'].remove();\n    if (localStorage.getItem('dontShowDisclaimer') !== 'true'){\n      let dialogRef = this.dialog.open(DisclaimerDialogComponent, {\n        autoFocus: false,\n        width: '600px',\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result['dontShowAgain']) {\n          localStorage.setItem('dontShowDisclaimer', 'true');\n        } else {\n          localStorage.removeItem('dontShowDisclaimer');\n        }\n      });\n    }\n\n    const mainApp = document.getElementById('main-app')\n    if (mainApp) {\n      setTimeout(() => {\n        mainApp.classList.remove('menu-collapsed');\n        mainApp.classList.add('menu-hidden');\n        if (document.getElementsByTagName('wf-menu')[0]) {\n          (document.getElementsByTagName('wf-menu')[0] as HTMLElement).removeAttribute('style');\n        }\n      }, 200)\n    }\n  }\n\n  isIncidentsPage () {\n    return window.location.pathname === '/incidents' || window.location.pathname === '/reportOfFire'\n  }\n\n  redirectToPublicMobile () {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n\n  getAppStoreLink () {\n    if ((navigator.userAgent.toLowerCase().indexOf(\"iphone\") > -1) || (navigator.userAgent.toLowerCase().indexOf(\"ipad\") > -1)) {\n      return this.appConfigService.getConfig().externalAppConfig['appStoreUrl'].toString();\n    } else {\n      return this.appConfigService.getConfig().externalAppConfig['googlePlayUrl'].toString();\n    }\n  }\n\n  getAppStoreName () {\n    if ((navigator.userAgent.toLowerCase().indexOf(\"iphone\") > -1) || (navigator.userAgent.toLowerCase().indexOf(\"ipad\") > -1)) {\n      return 'App Store'\n    } else {\n      return 'Google Play'\n    }\n  }\n\n  download () {\n    window.open(this.getAppStoreLink(), '_blank')\n  }\n\n  initAppMenu() {\n    this.appMenu = [\n      new RouterLink('Wildfires Map', '/' + ResourcesRoutes.ACTIVEWILDFIREMAP, 'map', 'collapsed', this.router),\n      new RouterLink('Wildfires List', '/' + ResourcesRoutes.WILDFIRESLIST, 'local_fire_department', 'collapsed', this.router),\n      new RouterLink('Current Statistics', '/' + ResourcesRoutes.CURRENTSTATISTICS, 'bar_chart', 'collapsed', this.router),\n      new RouterLink('Wildfire Resources', '/' + ResourcesRoutes.RESOURCES, 'links', 'collapsed', this.router)\n    ] as unknown as WfMenuItems;\n  }\n\n  initFooterMenu() {\n    this.footerMenu = (this.applicationConfig.device == 'desktop' ?\n      [\n        new RouterLink('Home', 'https://www2.gov.bc.ca/gov/content/home', 'home', 'expanded', this.router),\n        new RouterLink('Disclaimer', 'https://www2.gov.bc.ca/gov/content/home/disclaimer', 'home', 'expanded', this.router),\n        new RouterLink('Privacy', 'https://www2.gov.bc.ca/gov/content/home/privacy', 'home', 'expanded', this.router),\n        new RouterLink('Accessibility', 'https://www2.gov.bc.ca/gov/content/home/accessible-government', 'home', 'expanded', this.router),\n        new RouterLink('Copyright', 'https://www2.gov.bc.ca/gov/content/home/copyright', 'home', 'expanded', this.router),\n        new RouterLink('Contact Us', 'https://www2.gov.bc.ca/gov/content/home/get-help-with-government-services', 'home', 'expanded', this.router),\n      ]\n      :\n      [\n        new RouterLink('Home', '/', 'home', 'hidden', this.router),\n      ]\n    ) as unknown as WfMenuItems;\n  }\n\n  ngAfterViewInit() {\n    setInterval(() => {\n      this.getLastSync();\n    }, 1000);\n\n    setTimeout(() => {\n        const headerImg = document.getElementsByClassName('bc-logo')\n        if (headerImg && headerImg[0]) {\n          const node = document.createElement(\"span\")\n          node.style.color = '#fcba19'\n          node.style.marginLeft = '20px'\n          node.append(this.applicationConfig.environment)\n          headerImg[0].appendChild(node)\n      }\n    }, 1000);\n  }\n\n  getLastSync() {\n    if (!this.lastSyncDate) {\n      return '-';\n    }\n    const now = moment();\n    const value = now.diff(this.lastSyncDate, 'second', false);\n    if (value > 240) {\n      this.lastSyncValue = '240+';\n    } else {\n      this.lastSyncValue = value.toFixed(0);\n    }\n  }\n\n\n  @HostListener('window:orientationchange', ['$event'])\n  onOrientationChange() {\n    this.onSizeChange();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.onSizeChange();\n  }\n\n  private onSizeChange() {\n    setTimeout(() => {\n      this.updateMapSize();\n      this.initAppMenu();\n      this.initFooterMenu();\n      this.cdr.detectChanges();\n\n      // on resize, ensure the right main panel css is applied\n      // Basically, we want mobile all the time on public and\n      // desktop all the time on admin\n      const classList = document.getElementById('main-app').classList\n      if (this.isAdminPage() && classList.contains('device-mobile')) {\n        classList.remove('device-mobile')\n        classList.add('device-desktop')\n      } else if(!this.isAdminPage() && this.applicationConfig.environment.toLowerCase() === '' && classList.contains('device-desktop')) {\n        classList.remove('device-desktop')\n        classList.add('device-mobile')\n      }\n    }, 250);\n  }\n\n  storeViewportSize() {\n    this.orientation = this.applicationStateService.getOrientation();\n    document.documentElement.style.setProperty('--viewport-height', `${window.innerHeight}px`);\n    document.documentElement.style.setProperty('--viewport-width', `${window.innerWidth}px`);\n  }\n\n  ngOnDestroy() {\n    if (this.lastSuccessPollSub) {\n      this.lastSuccessPollSub.unsubscribe();\n    }\n    if (this.tokenSubscription) {\n      this.tokenSubscription.unsubscribe()\n    }\n  }\n\n  checkUserPermissions() {\n    this.hasAccess = true;\n    this.isLoggedIn = true;\n  }\n\n  navigateToBcWebsite() {\n    window.open('https://www2.gov.bc.ca/gov/content/safety/wildfire-status', '_blank');\n  }\n\n  navigateToFooterPage(event: any) {\n    window.open(event.route, '_blank');\n  }\n\n  addCustomMaterialIcons() {\n    this.matIconRegistry.addSvgIcon(\n      ICON.TWITTER,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/twitter.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FACEBOOK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/facebook.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FACEBOOK_SQUARE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/facebook-square.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FIRE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/fire.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.EXCLAMATION_CIRCLE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/exclamation-circle.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.MAP_SIGNS,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/map-signs.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.INCIDENT,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/incident.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.ADVISORIES,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/bullhorn.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.EXT_LINK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/external-link.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.CLOUD_SUN,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/cloud-sun.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FILTER_CANCEL,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/filter-cancel.svg\")\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.BOOKMARK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/bookmark.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.MAP,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/map.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.BACK_ICON,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/back-icon.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.DOT,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/dot.svg\")\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.CONTACT_US,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/contact-us.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.CAMPING,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/camping.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.LARGER,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/larger.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.PHONE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/phone.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.ARROW_FORWARD_ENABLED,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/arrow-forward-enabled.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.ARROW_FORWARD_DISABLED,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/arrow-forward-disabled.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.CAMERA,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/camera.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.IMAGE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/image.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.CAMERA_GREY,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/camera-grey.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      ICON.IMAGE_GREY,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/image-grey.svg\")\n    )\n  }\n\n  isAdminPage() {\n    if (this.router.url === '/admin' || this.router.url.includes(\"/incident?\") || this.router.url.includes(\"?preview=true\") || this.router.url === '/error-page') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  navigateToBcSupport() {\n    let url = this.appConfigService.getConfig().externalAppConfig['bcWildFireSupportPage'].toString();\n    window.open(url, \"_blank\");\n  }\n\n  logOutCurrentUser() {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.SIGN_OUT]);\n    }, 100);\n  }\n}\n","<wf-application id=\"main-app\" class=\"wfnews-application\"\n    [ngClass]=\"'orientation-' + orientation\"\n    [config]=\"applicationConfig\"\n    [(state)]=\"applicationState\"\n>\n<div #topAnchor class=\"top\"></div>\n<div *ngIf=\"redirectToPublicMobile() && isIncidentsPage(); else mainPage\">\n  <router-outlet></router-outlet>\n</div>\n<ng-template #mainPage>\n  <div>\n    <wf-header\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n      [useAppLogo]=\"false\"\n      [useSystemAndUser]=\"isAdminPage()\"\n      [useSupportLink]=\"isAdminPage()\"\n      [useMenu]=\"true\"\n      [useLogoutButton]=\"isAdminPage()\"\n      (bcLogoClick)=\"navigateToBcWebsite()\"\n      (logoutClick)=\"logOutCurrentUser()\"\n      (supportLinkClick)=\"navigateToBcSupport()\"\n    ></wf-header>\n\n    <wf-menu\n      [menuItems]=\"appMenu\"\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n    ></wf-menu>\n\n    <wf-menu-bar\n      [menuItems]=\"appMenu\"\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n    ></wf-menu-bar>\n\n    <router-outlet></router-outlet>\n\n    <!-- wf-footer\n    [footerItems]=\"footerMenu\"\n    [config]=\"applicationConfig\"\n    [(state)]=\"applicationState\"\n    (activeItemChanged)=\"navigateToFooterPage($event)\"\n    ></wf-footer -->\n  </div>\n</ng-template>\n</wf-application>\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { APP_BASE_HREF, CommonModule } from '@angular/common';\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogRef, MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MAT_DIALOG_DATA, MatDialogModule as MatMdcDialogModule } from '@angular/material/dialog';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouteReuseStrategy } from '@angular/router';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { OwlNativeDateTimeModule } from '@busacca/ng-pick-datetime';\nimport { EffectsModule } from '@ngrx/effects';\nimport { FullRouterStateSerializer, StoreRouterConnectingModule } from '@ngrx/router-store';\nimport { StoreModule } from '@ngrx/store';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { AppConfigService, CoreUIModule, TokenService } from '@wf1/core-ui';\nimport { ApiModule as IncidentsApiModule, Configuration as IncidentsConfiguration } from '@wf1/incidents-rest-api';\nimport { ApiModule as OrgUnitApiModule, OrgUnitConfiguration } from '@wf1/orgunit-rest-api';\nimport { WildfireApplicationModule } from '@wf1/wfcc-application-ui';\nimport { Configuration as DocumentAPIServiceConfiguration } from '@wf1/wfdm-document-management-api';\nimport { OwlDateTimeModule, OWL_DATE_TIME_FORMATS } from 'ng-pick-datetime';\nimport { OwlMomentDateTimeModule } from 'ng-pick-datetime-moment';\nimport { environment } from '../environments/environment';\nimport { codeTableAndUserPrefFnInit } from './app-initializer';\nimport { AppComponent } from './app.component';\nimport { ROUTING } from './app.routing';\nimport { ActiveWildfireMapComponent } from './components/active-wildfire-map/active-wildfire-map.component';\nimport { PanelEvacuationOrdersAndAlertsComponent } from './components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component';\nimport { PanelWildfireStageOfControlComponentDesktop } from './components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.desktop';\nimport { WFMapContainerComponent } from './components/wf-map-container/wf-map-container.component';\nimport { MapConfigService } from './services/map-config.service';\nimport { UpdateService } from './services/update.service';\nimport { WFMapService } from './services/wf-map.service';\nimport { CustomReuseStrategy } from './shared/route/custom-route-reuse-strategy';\nimport { initialRootState, rootEffects, rootReducers } from './store';\nimport { provideBootstrapEffects } from './utils';\nimport { MatTableModule} from \"@angular/material/table\";\nimport { SingleSelectDirective } from './directives/singleselect.directive';\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { WfAdminPanelComponentDesktop } from './components/wf-admin-panel/wf-admin-panel.component.desktop';\nimport { AdminContainerDesktop } from './containers/admin/admin-container.component.desktop';\nimport { WfnewsInterceptor } from './interceptors/wfnews-interceptor';\nimport { IncidentDetailsPanel } from './components/admin-incident-form/incident-details-panel/incident-details-panel.component';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatCardModule } from '@angular/material/card';\nimport { ResponseDetailsPanel } from './components/admin-incident-form/response-details-panel/response-details-panel.component';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { ContactsDetailsPanel } from './components/admin-incident-form/contacts-details-panel/contacts-details-panel.component';\nimport { EvacOrdersDetailsPanel } from './components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component';\nimport { AreaRestrictionsDetailsPanel } from './components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component';\nimport { AdminIncidentFormDesktop } from './components/admin-incident-form/admin-incident-form.component.desktop';\nimport { IncidentContainerDesktop } from './containers/incident/incident-container.component.desktop';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { AGOLService } from './services/AGOL-service';\nimport { PanelBansAndProhibitionsComponent } from './components/panel-bans-prohibitions/panel-bans-prohibitions.component';\nimport { PanelSmokeForecastComponent } from './components/panel-smoke-forecast/panel-smoke-forecast.component';\nimport { PanelAreaRestrictionsComponent } from './components/panel-area-restrictions/panel-area-restrictions.component';\nimport { PanelFireDangerComponent } from './components/panel-fire-danger/panel-fire-danger.component';\nimport { CommonUtilityService } from \"./services/common-utility.service\";\nimport { MapsPanel } from './components/admin-incident-form/maps-panel/maps-panel.component';\nimport { MessageDialogComponent } from './components/message-dialog/message-dialog.component';\nimport { EditMapDialogComponent } from './components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component';\nimport { UploadMapDialogComponent } from './components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component';\nimport { DocumentManagementService } from './services/document-management.service';\nimport { SignOutPageComponent } from './components/sign-out-page/sign-out-page.component';\nimport { ImageGalleryPanel } from './components/admin-incident-form/image-gallery-panel/image-gallery-panel.component';\nimport { EditImageDialogComponent } from './components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component';\nimport { UploadImageDialogComponent } from './components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component';\nimport { ImageCardPanel } from './components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component';\nimport { WildfirewResourcesComponent } from './components/wildfire-resources/wf-resources.component';\nimport { ResourcePanelComponent } from './components/wildfire-resources/resource-panel/resource-panel.component';\nimport { WFStatsComponent } from './components/wf-stats-component/wf-stats.component';\nimport { NgxChartsModule } from \"@swimlane/ngx-charts\";\nimport { LightgalleryModule } from 'lightgallery/angular/13';\nimport { PointIdService } from \"./services/point-id.service\";\nimport { WeatherPanelComponent } from './components/weather-panel/weather-panel.component';\nimport { PanelRoadConditionsComponent } from './components/panel-road-conditions/panel-road-conditions.component';\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\nimport { WildFiresListComponentDesktop } from './components/wildfires-list/wildfires-list.component.desktop';\nimport { WildfiresListContainerDesktop } from './containers/wildfiresList/wildfiresList-container.component.desktop';\nimport { PublishedIncidentService } from './services/published-incident-service';\nimport { IncidentIdentifyPanelComponent } from './components/incident-identify-panel/incident-identify-panel.component';\nimport { StickyWidgetComponent } from './components/sticky-widget/sticky-widget.component';\nimport { ContactWidgetDialogComponent } from './components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component';\nimport { PanelLocalAuthorityComponent } from './components/panel-local-authority/panel-local-authority.component';\nimport { PanelWildfireStageOfControlContainerDesktop } from './containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.desktop';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { PublicIncidentPage } from './components/public-incident-page/public-incident-page.component';\nimport { IncidentGalleryPanel } from './components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component';\nimport { IncidentHeaderPanel } from './components/public-incident-page/incident-info-header/incident-header-panel.component';\nimport { IncidentInfoPanel } from './components/public-incident-page/incident-info-panel/incident-info-panel.component';\nimport { IncidentMapsPanel } from './components/public-incident-page/incident-maps-panel/incident-maps-panel.component';\nimport { IncidentOverviewPanel } from './components/public-incident-page/incident-overview-panel/incident-overview-panel.component';\nimport { LocalStorageService } from './services/local-storage-service';\nimport { WatchlistService } from './services/watchlist-service';\nimport { CurrentAlertComponentComponent } from './components/current-alert-component/current-alert-component.component';\nimport { WildfiresListHeaderComponent } from './components/wildfires-list-header/wildfires-list-header.component';\nimport { SafePipe } from './pipes/safe.pipe';\nimport { VideoGalleryPanel } from './components/admin-incident-form/video-gallery-panel/video-gallery-panel.component';\nimport { VideoCardPanel } from './components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component';\nimport { EditVideoDialogComponent } from './components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component';\nimport { UploadVideoDialogComponent } from './components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component';\nimport { YouTubePlayerModule } from \"@angular/youtube-player\"\nimport { PublishDialogComponent } from './components/admin-incident-form/publish-dialog/publish-dialog.component';\nimport { SummaryPanel } from './components/admin-incident-form/summary-panel/summary-panel.component';\nimport { DisclaimerDialogComponent } from './components/disclaimer-dialog/disclaimer-dialog.component';\nimport { IncidentInfoPanelMobileComponent } from './components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component';\nimport { ContactUsDialogComponent } from './components/admin-incident-form/contact-us-dialog/contact-us-dialog.component';\nimport { IncidentGalleryPanelMobileComponent } from './components/public-incident-page/incident-gallery-panel/incident-gallery-panel-mobile/incident-gallery-panel-mobile.component';\nimport { IncidentGalleryAllMediaMobileComponent } from './components/public-incident-page/incident-gallery-panel/incident-gallery-all-media-mobile/incident-gallery-all-media-mobile.component';\nimport { IncidentGalleryImagesMobileComponent } from './components/public-incident-page/incident-gallery-panel/incident-gallery-images-mobile/incident-gallery-images-mobile.component';\nimport { IncidentGalleryVideosMobileComponent } from './components/public-incident-page/incident-gallery-panel/incident-gallery-videos-mobile/incident-gallery-videos-mobile.component';\nimport { IncidentOverviewPanelMobileComponent } from './components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component';\nimport { IncidentMapsPanelMobileComponent } from './components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component';\nimport { VideoPanelComponent } from './components/public-incident-page/incident-gallery-panel/video-panel/video-panel.component';\nimport { ImagePanelComponent } from './components/public-incident-page/incident-gallery-panel/image-panel/image-panel.component';\nimport { ScrollToTopComponent } from './components/common/scroll-to-top-button/scroll-to-top.component';\nimport { AlertOrderBannerComponent } from './components/common/alert-order-banner/alert-order-banner.component';\nimport { CanDeactivateGuard } from './components/common/guards/unsaved-changes.guard';\nimport { UnsavedChangesDialog } from './components/common/unsaved-changes-dialog/unsaved-changes-dialog.component';\nimport { ReportOfFirePage } from './components/report-of-fire/report-of-fire.component';\nimport { RoFTitlePage } from './components/report-of-fire/title-page/rof-title-page.component';\nimport { RoFPermissionsPage } from './components/report-of-fire/permissions-page/rof-permissions-page.component';\nimport { RoFSimpleQuestionPage } from './components/report-of-fire/simple-question-page/rof-simple-question-page.component';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { RoFContactPage } from './components/report-of-fire/contact-page/rof-contact-page.component';\nimport { RoFPhotoPage } from './components/report-of-fire/photo-page/rof-photo-page.component';\nimport { RoFLocationPage } from './components/report-of-fire/location-page/rof-location-page.component';\nimport { RoFComplexQuestionPage } from './components/report-of-fire/complex-question-page/rof-complex-question-page.component';\nimport { RoFCommentsPage } from './components/report-of-fire/comment-page/rof-comments-page.component';\nimport { RoFCompassPage } from './components/report-of-fire/compass-page/rof-compass-page.component'\nimport { NgxMaskModule, IConfig } from 'ngx-mask';\n\n\n// Copied from im-external.module  TODO: consolidate in one place\nexport const DATE_FORMATS = {\n    fullPickerInput: 'YYYY-MM-DD HH:mm:ss',\n    datePickerInput: 'YYYY-MM-DD',\n    timePickerInput: 'HH:mm:ss',\n    monthYearLabel: 'YYYY-MM',\n    dateA11yLabel: 'YYYY-MMM-DD',\n    monthYearA11yLabel: 'YYYY-MMM',\n};\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        WFMapContainerComponent,\n        ActiveWildfireMapComponent,\n        PanelWildfireStageOfControlComponentDesktop,\n        PanelEvacuationOrdersAndAlertsComponent,\n        PanelBansAndProhibitionsComponent,\n        PanelSmokeForecastComponent,\n        PanelAreaRestrictionsComponent,\n        PanelFireDangerComponent,\n        WfAdminPanelComponentDesktop,\n        SingleSelectDirective,\n        AdminContainerDesktop,\n        AdminIncidentFormDesktop,\n        IncidentDetailsPanel,\n        ResponseDetailsPanel,\n        ContactsDetailsPanel,\n        EvacOrdersDetailsPanel,\n        AreaRestrictionsDetailsPanel,\n        IncidentContainerDesktop,\n        MapsPanel,\n        MessageDialogComponent,\n        EditMapDialogComponent,\n        UploadMapDialogComponent,\n        SignOutPageComponent,\n        ImageGalleryPanel,\n        EditImageDialogComponent,\n        UploadImageDialogComponent,\n        StickyWidgetComponent,\n        ContactWidgetDialogComponent,\n        PublishDialogComponent,\n        UnsavedChangesDialog,\n        ImageCardPanel,\n        WFStatsComponent,\n        WeatherPanelComponent,\n        WildfirewResourcesComponent,\n        ResourcePanelComponent,\n        PanelRoadConditionsComponent,\n        ErrorPageComponent,\n        WildFiresListComponentDesktop,\n        WildfiresListContainerDesktop,\n        IncidentIdentifyPanelComponent,\n        PanelLocalAuthorityComponent,\n        PanelWildfireStageOfControlContainerDesktop,\n        PublicIncidentPage,\n        IncidentGalleryPanel,\n        IncidentHeaderPanel,\n        IncidentInfoPanel,\n        IncidentMapsPanel,\n        IncidentOverviewPanel,\n        SummaryPanel,\n        CurrentAlertComponentComponent,\n        WildfiresListHeaderComponent,\n        SafePipe,\n        VideoGalleryPanel,\n        VideoCardPanel,\n        EditVideoDialogComponent,\n        UploadVideoDialogComponent,\n        DisclaimerDialogComponent,\n        IncidentInfoPanelMobileComponent,\n        IncidentOverviewPanelMobileComponent,\n        IncidentMapsPanelMobileComponent,\n        ContactUsDialogComponent,\n        IncidentGalleryPanelMobileComponent,\n        IncidentGalleryAllMediaMobileComponent,\n        IncidentGalleryImagesMobileComponent,\n        IncidentGalleryVideosMobileComponent,\n        VideoPanelComponent,\n        ImagePanelComponent,\n        ScrollToTopComponent,\n        AlertOrderBannerComponent,\n        ReportOfFirePage,\n        RoFTitlePage,\n        RoFPermissionsPage,\n        RoFSimpleQuestionPage,\n        RoFComplexQuestionPage,\n        RoFContactPage,\n        RoFPhotoPage,\n        RoFLocationPage,\n        RoFCommentsPage,\n        RoFCompassPage\n    ],\n    imports: [\n        MatSortModule,\n        MatProgressSpinnerModule,\n        MatProgressBarModule,\n        MatTableModule,\n        MatSnackBarModule,\n        MatButtonToggleModule,\n        HttpClientModule,\n        BrowserModule,\n        BrowserAnimationsModule,\n        CommonModule,\n        CdkTableModule,\n        DragDropModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ROUTING,\n        MatButtonModule,\n        MatDialogModule,\n        MatMdcDialogModule,\n        MatDividerModule,\n        MatIconModule,\n        MatListModule,\n        MatMenuModule,\n        MatRadioModule,\n        MatInputModule,\n        MatCheckboxModule,\n        MatFormFieldModule,\n        MatExpansionModule,\n        MatSelectModule,\n        MatGridListModule,\n        MatCardModule,\n        MatTableModule,\n        MatTabsModule,\n        MatProgressSpinnerModule,\n        OwlDateTimeModule,\n        OwlNativeDateTimeModule,\n        OwlMomentDateTimeModule,\n        CKEditorModule,\n        CoreUIModule.forRoot({ configurationPath: environment.app_config_location }),\n        IncidentsApiModule,\n        OrgUnitApiModule,\n        MatTooltipModule,\n        MatAutocompleteModule,\n        LightgalleryModule,\n        StoreModule.forRoot(rootReducers, {\n            initialState: initialRootState,\n            // metaReducers: metaReducers,\n            runtimeChecks: {\n                strictStateImmutability: false,\n                strictActionImmutability: false,\n            }\n        }),\n        StoreRouterConnectingModule.forRoot({ serializer: FullRouterStateSerializer, stateKey: 'router' }),\n        StoreDevtoolsModule.instrument({\n            maxAge: 25,\n            logOnly: environment.production, // Restrict extension to log-only mode\n        }),\n        EffectsModule.forRoot([]),\n        ServiceWorkerModule.register('wfnews-service-worker.js', { enabled: environment.production, scope: './' }),\n        ScrollingModule,\n        WildfireApplicationModule.forRoot(),\n        MatToolbarModule,\n        MatSlideToggleModule,\n        MatExpansionModule,\n        NgxPaginationModule,\n        NgxChartsModule,\n        YouTubePlayerModule,\n        NgxMaskModule.forRoot()\n    ],\n    providers: [\n        // Added provideBootstrapEffects function to handle the ngrx issue that loads effects before APP_INITIALIZER\n        // providers have finished initializing.\n        // See https://github.com/ngrx/platform/issues/931 for more information.\n        provideBootstrapEffects(rootEffects),\n        {\n            provide: APP_BASE_HREF,\n            useValue: environment.app_base\n        },\n        {\n            provide: RouteReuseStrategy,\n            useClass: CustomReuseStrategy\n        },\n        AGOLService,\n        TokenService,\n        UpdateService,\n        {\n            provide: APP_INITIALIZER,\n            useFactory: codeTableAndUserPrefFnInit,\n            multi: true,\n            deps: [AppConfigService, HttpClient, Injector]\n        },\n\n        {\n            provide: IncidentsConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new IncidentsConfiguration({ basePath: appConfig.getConfig().rest.incidents });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: OrgUnitConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new OrgUnitConfiguration({ basePath: appConfig.getConfig().rest.orgunit });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: DocumentAPIServiceConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new DocumentAPIServiceConfiguration({ basePath: appConfig.getConfig().rest.wfdm });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: OWL_DATE_TIME_FORMATS,\n            useValue: DATE_FORMATS\n        },\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: WfnewsInterceptor,\n            multi: true\n        },\n        { provide: MAT_DIALOG_DATA, useValue: {} },\n        { provide: MatDialogRef, useValue: {} },\n        WFMapService,\n        MapConfigService,\n        CommonUtilityService,\n        DocumentManagementService,\n        PublishedIncidentService,\n        LocalStorageService,\n        WatchlistService,\n        PointIdService,\n        CanDeactivateGuard,\n    ],\n    bootstrap: [\n        AppComponent\n    ]\n})\n\nexport class AppModule { }\n\n","import {RouterModule, Routes} from '@angular/router';\nimport {UnauthorizedPageComponent} from '@wf1/core-ui';\nimport { ActiveWildfireMapComponent } from './components/active-wildfire-map/active-wildfire-map.component';\nimport { AdminContainerDesktop } from './containers/admin/admin-container.component.desktop';\nimport { ResourcesRoutes } from './utils';\nimport { ROLES_UI } from './shared/scopes/scopes';\nimport { NewsAuthGuard } from './services/util/NewsAuthGuard';\nimport { IncidentContainerDesktop } from './containers/incident/incident-container.component.desktop';\nimport { SignOutPageComponent } from './components/sign-out-page/sign-out-page.component';\nimport { WildfirewResourcesComponent } from './components/wildfire-resources/wf-resources.component';\nimport { WFStatsComponent } from './components/wf-stats-component/wf-stats.component';\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\nimport { PublicIncidentPage } from './components/public-incident-page/public-incident-page.component';\nimport { WildfiresListHeaderComponent } from './components/wildfires-list-header/wildfires-list-header.component';\nimport { CanDeactivateGuard } from './components/common/guards/unsaved-changes.guard';\nimport { ReportOfFirePage } from './components/report-of-fire/report-of-fire.component';\n// Components\n\nconst PROFILE_SCOPES = [[ROLES_UI.ADMIN, ROLES_UI.IM_ADMIN]];\n\nconst PANEL_ROUTES: Routes = [\n\t// { path: '', component: ActionsPanelComponent, pathMatch: 'full', canActivate: [AuthGuard] },\n  { path: 'unauthorized', component: UnauthorizedPageComponent, pathMatch: 'full', outlet: 'root' },\n  { path: ResourcesRoutes.LANDING, redirectTo: ResourcesRoutes.ACTIVEWILDFIREMAP, pathMatch: 'full',},\n  { path: ResourcesRoutes.ACTIVEWILDFIREMAP, component: ActiveWildfireMapComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.WILDFIRESLIST, component: WildfiresListHeaderComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.CURRENTSTATISTICS, component: WFStatsComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.RESOURCES, component: WildfirewResourcesComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.ROF, component: ReportOfFirePage, pathMatch: 'full',},\n  { path: ResourcesRoutes.ADMIN, data:{scopes: PROFILE_SCOPES}, component: AdminContainerDesktop, pathMatch: 'full', canActivate: [NewsAuthGuard],},\n  { path: ResourcesRoutes.ADMIN_INCIDENT, data:{scopes: PROFILE_SCOPES}, component: IncidentContainerDesktop, pathMatch: 'full', canActivate: [NewsAuthGuard], canDeactivate: [CanDeactivateGuard]},\n  { path: ResourcesRoutes.PUBLIC_INCIDENT, component: PublicIncidentPage, pathMatch: 'full'},\n  { path: ResourcesRoutes.SIGN_OUT, component: SignOutPageComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.ERROR_PAGE, component: ErrorPageComponent, pathMatch: 'full',}\n];\n\n\nexport const ROUTING = RouterModule.forRoot(PANEL_ROUTES, {});\n","import { AfterViewInit, Component, ElementRef, Input, NgZone, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { UntypedFormControl } from '@angular/forms';\nimport { MatExpansionPanel } from '@angular/material/expansion';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { PlaceData } from '../../services/wfnews-map.service/place-data';\nimport { SmkApi } from '../../utils/smk';\nimport * as L from 'leaflet';\nimport { debounceTime } from 'rxjs/operators';\nimport { ResourcesRoutes, isMobileView as mobileView, snowPlowHelper } from '../../utils';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\n\n\nexport type SelectedLayer =\n  'evacuation-orders-and-alerts' |\n  'area-restrictions' |\n  'bans-and-prohibitions' |\n  'smoke-forecast' |\n  'fire-danger' |\n  'local-authorities' |\n  'routes-impacted' |\n  'wildfire-stage-of-control';\n\ndeclare const window: any;\n@Component({\n  selector: 'active-wildfire-map',\n  templateUrl: './active-wildfire-map.component.html',\n  styleUrls: ['./active-wildfire-map.component.scss'],\n})\nexport class ActiveWildfireMapComponent implements OnInit, AfterViewInit {\n  @Input() incidents: any;\n\n  @ViewChild('WildfireStageOfControl') wildfireStageOfControlPanel: MatExpansionPanel;\n  @ViewChild('EvacuationOrdersAndAlerts') evacuationOrdersAndAlertsPanel: MatExpansionPanel;\n  @ViewChild('AreaRestrictions') areaRestrictionsPanel: MatExpansionPanel;\n  @ViewChild('BansAndProhibitions') bansAndProhibitionsPanel: MatExpansionPanel;\n  @ViewChild('SmokeForecast') smokeForecastPanel: MatExpansionPanel;\n  @ViewChild('FireDanger') fireDangerPanel: MatExpansionPanel;\n  @ViewChild('LocalAuthorities') localAuthoritiesPanel: MatExpansionPanel;\n  @ViewChild('RoutesImpacted') routesImpactedPanel: MatExpansionPanel;\n\n  @ViewChildren(\"locationOptions\") locationOptions: QueryList<ElementRef>;\n\n  incidentsServiceUrl: string;\n  mapConfig = null;\n  smkApi: SmkApi;\n  activeFireCountPromise;\n  selectedLayer: SelectedLayer;\n  selectedPanel = 'wildfire-stage-of-control'\n  showAccordion: boolean;\n  searchText = undefined;\n  zone: NgZone;\n\n  placeData: PlaceData;\n  searchByLocationControl = new UntypedFormControl();\n  filteredOptions: any[];\n  SMK: any;\n  leafletInstance: any;\n  searchLocationsLayerGroup: any;\n  markers: any[];\n  url;\n  sortedAddressList: string[];\n\n  public isMobileView = mobileView\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(\n    protected appConfigService: AppConfigService,\n    protected router: Router,\n    protected activedRouter: ActivatedRoute,\n    private appConfig: AppConfigService,\n    private mapConfigService: MapConfigService,\n    private agolService: AGOLService,\n    private publishedIncidentService: PublishedIncidentService,\n    private commonUtilityService: CommonUtilityService,\n  ) {\n    this.incidentsServiceUrl = this.appConfig.getConfig().rest['newsLocal'];\n    this.placeData = new PlaceData();\n    this.markers = new Array();\n    let self = this;\n\n    this.searchByLocationControl.valueChanges.pipe(debounceTime(200)).subscribe((val: string) => {\n      if (!val) {\n        this.filteredOptions = [];\n        self.searchLayerGroup.clearLayers();\n        return;\n      }\n\n      if (val.length > 2) {\n        this.filteredOptions = [];\n        self.searchLayerGroup.clearLayers();\n        this.placeData.searchAddresses(val).then(function (results) {\n          if (results) {\n            results.forEach((result) => {\n              self.sortedAddressList = self.commonUtilityService.sortAddressList(results, val);\n            });\n            self.filteredOptions = self.sortedAddressList;\n          }\n        });\n      }\n    });\n  }\n\n\n  ngAfterViewInit() {\n    this.locationOptions.changes.subscribe(() => {\n      this.locationOptions.forEach((option: ElementRef) => {\n        option.nativeElement.addEventListener('mouseover', this.onLocationOptionOver.bind(this));\n        option.nativeElement.addEventListener('mouseout', this.onLocationOptionOut.bind(this));\n      });\n    });\n\n    this.appConfig.configEmitter.subscribe((config) => {\n      const mapConfig = [];\n\n      this.mapConfigService.getMapConfig()\n        .then((mapState) => {\n          this.SMK = window['SMK'];\n          mapConfig.push(mapState);\n        })\n        .then(() => {\n          const deviceConfig = { viewer: { device: 'desktop' } };\n          this.mapConfig = [...mapConfig, deviceConfig, 'theme=wf', '?'];\n        });\n    });\n    this.activedRouter.queryParams.subscribe((params: ParamMap) => {\n      if (params && params['longitude'] && params['latitude']) {\n        const long = Number(params['longitude']);\n        const lat = Number(params['latitude']);\n        this.mapConfigService.getMapConfig().then(() => {\n          const SMK = window['SMK'];\n          let viewer = null;\n          for (const smkMap in SMK.MAP) {\n            if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n              viewer = SMK.MAP[smkMap].$viewer;\n            }\n          }\n          viewer.panToFeature(window['turf'].point([long, lat]), 15)\n        })\n      }\n    })\n  }\n\n  ngOnInit() {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n    this.showAccordion = true;\n  }\n\n  getFullAddress(location) {\n    let result = \"\";\n\n    if (location.civicNumber) {\n      result += location.civicNumber\n    }\n\n    if (location.streetName) {\n      result += \" \" + location.streetName\n    }\n\n    if (location.streetQualifier) {\n      result += \" \" + location.streetQualifier\n    }\n\n    if (location.streetType) {\n      result += \" \" + location.streetType\n    }\n\n    return result;\n  }\n\n  get leaflet() {\n    if (!this.leafletInstance) this.leafletInstance = window['L'];\n    return this.leafletInstance;\n  }\n\n  get searchLayerGroup() {\n    if (!this.searchLocationsLayerGroup) this.searchLocationsLayerGroup = this.leaflet.layerGroup().addTo(this.SMK.MAP[1].$viewer.map);\n    return this.searchLocationsLayerGroup;\n  }\n\n  onLocationOptionOver(event) {\n    let long = window.jQuery(event.currentTarget).data(\"loc-long\");\n    let lat = window.jQuery(event.currentTarget).data(\"loc-lat\");\n\n    this.removeMarker([lat, long]);\n\n    if (!long || !lat) return;\n\n    let largerIcon = {\n      iconSize: [40, 38],\n      shadowAnchor: [4, 62],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    };\n\n    this.highlight({ loc: [lat, long] }, largerIcon);\n  }\n\n  onLocationOptionOut(event) {\n    let long = window.jQuery(event.currentTarget).data(\"loc-long\");\n    let lat = window.jQuery(event.currentTarget).data(\"loc-lat\");\n\n    this.removeMarker([lat, long]);\n\n    if (!long || !lat) return;\n\n    this.highlight({ loc: [lat, long] });\n  }\n\n  highlight(place, iconSettings?) {\n\n    if (!iconSettings) {\n      iconSettings = {\n        iconSize: [20, 19],\n        iconAnchor: [10, 9],\n        shadowAnchor: [4, 62],\n        popupAnchor: [-3, -76],\n        shadowSize: [21, 21]\n      }\n    }\n\n    const self = this;\n    const geojsonFeature = {\n      \"type\": \"Feature\",\n      \"geometry\": {\n        \"type\": \"Point\",\n        \"coordinates\": place.loc\n      }\n    };\n\n    const starIcon = this.leaflet.icon({\n      iconUrl: \"data:image/svg+xml,%3Csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 55.867 55.867' xml:space='preserve'%3E%3Cpath d='M55.818,21.578c-0.118-0.362-0.431-0.626-0.808-0.681L36.92,18.268L28.83,1.876c-0.168-0.342-0.516-0.558-0.896-0.558 s-0.729,0.216-0.896,0.558l-8.091,16.393l-18.09,2.629c-0.377,0.055-0.689,0.318-0.808,0.681c-0.117,0.361-0.02,0.759,0.253,1.024 l13.091,12.76l-3.091,18.018c-0.064,0.375,0.09,0.754,0.397,0.978c0.309,0.226,0.718,0.255,1.053,0.076l16.182-8.506l16.18,8.506 c0.146,0.077,0.307,0.115,0.466,0.115c0.207,0,0.413-0.064,0.588-0.191c0.308-0.224,0.462-0.603,0.397-0.978l-3.09-18.017 l13.091-12.761C55.838,22.336,55.936,21.939,55.818,21.578z' fill='%23FCBA19'/%3E%3C/svg%3E%0A\",\n      iconSize: iconSettings.iconSize,\n      iconAnchor: iconSettings.iconAnchor,\n      shadowAnchor: iconSettings.shadowAnchor,\n      popupAnchor: iconSettings.popupAnchor,\n      shadowSize: iconSettings.shadowSize,\n    });\n\n    this.leaflet.geoJson(geojsonFeature, {\n      pointToLayer: function (feature, latlng) {\n        // [0] [-123.5082451, 48.4207067]\n        let marker = self.leaflet.marker(latlng, { icon: starIcon });\n        self.markers[self.serializeLatLng(latlng)] = marker;\n        return marker;\n      }\n    }).addTo(self.searchLayerGroup);\n  }\n\n  serializeLatLng(latLng) {\n    let latRounded = Math.round((latLng['lat'] + Number.EPSILON) * 100) / 100;\n    let longRounded = Math.round((latLng['lng'] + Number.EPSILON) * 100) / 100;\n\n    let latLongRounded = {\n      latRounded, longRounded\n    };\n\n    return JSON.stringify(latLongRounded);\n  }\n\n  removeMarker(latLng) {\n    const self = this;\n    this.searchLayerGroup.clearLayers();\n\n    this.filteredOptions.forEach((result) => {\n      const first = this.serializeLatLng({ lat: latLng[0], lng: latLng[1] });\n      const second = this.serializeLatLng({ lat: result.loc[0], lng: result.loc[1] });\n      if (first != second) {\n        self.highlight(result);\n      }\n    });\n  }\n\n  onLocationSelected(selectedOption) {\n    this.snowPlowHelper(this.url, {\n      action: 'location_search',\n      text: selectedOption.address\n    })\n    const self = this;\n    self.searchLayerGroup.clearLayers();\n    let locationControlValue = selectedOption.address ? selectedOption.address : selectedOption.localityName;\n    this.searchByLocationControl.setValue(locationControlValue.trim(), { onlySelf: true, emitEvent: false });\n    this.highlight(selectedOption);\n    this.SMK.MAP[1].$viewer.panToFeature(window['turf'].point(selectedOption.loc), 8);\n  }\n\n  clearSearchLocationControl() {\n    this.searchByLocationControl.reset();\n    this.clearMyLocation()\n  }\n\n  get activeFireCount(): Promise<number> {\n    if (this.activeFireCountPromise) {\n      return this.activeFireCountPromise;\n    }\n    this.activeFireCountPromise = this.publishedIncidentService.getActiveFireCount()\n      .then((resp: any) => {\n        return resp || 0\n      }).catch((e) => {\n        console.error('COUNTSTATS-FAIL');\n        return 'loading...';\n      });\n\n    return this.activeFireCountPromise;\n  }\n\n  initMap(smk: any) {\n    this.smkApi = new SmkApi(smk);\n  }\n\n  onToggleAccordion() {\n    this.showAccordion = !this.showAccordion;\n  }\n\n  onSelectLayer(selectedLayer: SelectedLayer) {\n    this.selectedLayer = selectedLayer;\n    this.selectedPanel = selectedLayer\n    this.snowPlowHelper(this.url, {\n      action: 'feature_layer_navigation',\n      text: selectedLayer\n    })\n    const layers = [\n            /* 00 */ { itemId: 'active-wildfires', visible: true },\n            /* 01 */ { itemId: 'evacuation-orders-and-alerts-wms', visible: false },\n            /* 02 */ { itemId: 'evacuation-orders-and-alerts-wms-highlight', visible: false },\n            /* 03 */ { itemId: 'danger-rating', visible: false },\n            /* 04 */ { itemId: 'bans-and-prohibitions', visible: false },\n            /* 05 */ { itemId: 'bans-and-prohibitions-highlight', visible: false },\n            /* 06 */ { itemId: 'area-restrictions', visible: false },\n            /* 07 */ { itemId: 'area-restrictions-highlight', visible: false },\n            /* 08 */ { itemId: 'fire-perimeters', visible: false },\n            /* 09 */ { itemId: 'bcws-activefires-publicview-inactive', visible: false },\n            /* 10 */ { itemId: 'closed-recreation-sites', visible: false },\n            /* 11 */ { itemId: 'drive-bc-active-events', visible: false },\n            /* 12 */ { itemId: 'bc-fire-centres', visible: true },\n            /* 13 */ { itemId: 'prescribed-fire', visible: false },\n            /* 14 */ { itemId: 'hourly-currentforecast-firesmoke', visible: false },\n            /* 15 */ { itemId: 'clab-indian-reserves', visible: false },\n            /* 16 */ { itemId: 'fnt-treaty-land', visible: false },\n            /* 17 */ { itemId: 'abms-municipalities', visible: false },\n            /* 18 */ { itemId: 'abms-regional-districts', visible: false }\n    ];\n\n    switch (selectedLayer) {\n      case 'evacuation-orders-and-alerts':\n        layers[1].visible = true;\n        break;\n\n      case 'area-restrictions':\n        layers[6].visible = true;\n        layers[7].visible = true;\n        break;\n\n      case 'bans-and-prohibitions':\n        layers[4].visible = true;\n        layers[5].visible = true;\n        break;\n\n      case 'smoke-forecast':\n        layers[14].visible = true\n        break;\n\n      case 'fire-danger':\n        layers[0].visible = true;\n        layers[3].visible = true;\n        break;\n\n      case 'local-authorities':\n        layers[12].visible = true;\n        layers[15].visible = true;\n        layers[16].visible = true;\n        layers[17].visible = true;\n        layers[18].visible = true;\n        break;\n\n      case 'routes-impacted':\n        layers[11].visible = true;\n        break;\n    }\n\n    return this.smkApi.setDisplayContextItemsVisible(...layers);\n  }\n\n  async useMyCurrentLocation() {\n    this.snowPlowHelper(this.url, {\n      action: 'find_my_location'\n    })\n\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n\n    const long = location.coords.longitude;\n    const lat = location.coords.latitude;\n    if (lat && long) {\n      this.showAreaHighlight([long, lat], 50)\n      this.showLocationMarker({\n        type: 'Point',\n        coordinates: [long, lat]\n      });\n    }\n    this.searchByLocationControl.setValue(lat + ',' + long)\n  }\n\n  showAreaHighlight(center, radius) {\n    const circle = window.turf.circle(center, radius, { steps: 40, units: 'kilometers' });\n    this.smkApi.showFeature('near-me-highlight3x', circle);\n    this.smkApi.panToFeature(circle, 10)\n  }\n\n  showLocationMarker(point) {\n    this.smkApi.showFeature('my-location', point, {\n      pointToLayer: function (geojson, latLong) {\n        return L.marker(latLong, {\n          icon: L.divIcon({\n            className: 'wfone-my-location',\n            html: '<i class=\"material-icons\">my_location</i>',\n            iconSize: [24, 24]\n          })\n        })\n      }\n    })\n  }\n\n  clearMyLocation() {\n    this.smkApi.showFeature('near-me-highlight3x');\n    this.smkApi.showFeature('my-location')\n  }\n\n  searchTextUpdated() {\n    // will need to call News API to fetch the results\n  }\n\n  @ViewChild('grabber') grabber: ElementRef;\n  @ViewChild('resizeBox') resizeBox: ElementRef;\n\n  get grabberElement(): HTMLElement {\n    return this.grabber.nativeElement;\n  }\n\n  get resizeBoxElement(): HTMLElement {\n    return this.resizeBox.nativeElement;\n  }\n\n  private lastPointerPosition = 0\n  dragMove(event) {\n    this.resizeBoxElement.style.height = `${window.innerHeight - event.pointerPosition.y + 20}px`\n    this.lastPointerPosition = event.pointerPosition.y\n    if (this.lastTranslate) {\n      this.resizeBoxElement.style.transform = this.lastTranslate\n      this.lastTranslate = undefined\n      this.resizeBoxElement.style.top = '80vh'\n      this.resizeBoxElement.style.borderRadius = '20px'\n      this.resizeBoxElement.style.borderBottomRightRadius = '0px'\n      this.resizeBoxElement.style.borderBottomLeftRadius = '0px'\n    }\n  }\n\n  private lastTranslate = undefined\n  dragDropped(event) {\n    if (event.dropPoint.y < 65) {\n      this.lastTranslate = this.resizeBoxElement.style.transform\n      this.resizeBoxElement.style.transform = 'none'\n      this.resizeBoxElement.style.top = '50px'\n      this.resizeBoxElement.style.borderRadius = '0px'\n    } else if (event.dropPoint.y > window.innerHeight - 50) {\n      this.lastTranslate = this.resizeBoxElement.style.transform\n      this.resizeBoxElement.style.height = '50px'\n      this.resizeBoxElement.style.transform = 'none'\n      this.resizeBoxElement.style.top = window.innerHeight - 50 + 'px'\n    }\n    this.resizeBoxElement.style.height = `${window.innerHeight - this.lastPointerPosition + 20}px`\n  }\n\n  openLink(link: string) {\n    if (link === 'Disclaimer') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/disclaimer', \"_blank\");\n    }\n    else if (link === 'Privacy') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/privacy', \"_blank\");\n    }\n    else if (link === 'Copyright') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/copyright', \"_blank\");\n    }\n  }\n\n  disclaimerText() {\n    if (screen.width <= 1200) {\n      return 'Legal';\n    } else {\n      return 'Disclaimer and Legal Links';\n    }\n  }\n}\n","<div class=\"container\">\n  <div class=\"top\">\n      <div class=\"header-row\">\n          <div class=\"title\">\n              <h1>Wildfires Map</h1>\n              <h2 class=\"wildfire-count\">\n                  <span class='material-icons-outlined fire-icon'>local_fire_department</span>\n                  {{ activeFireCount | async }} Active Wildfires\n              </h2>\n          </div>\n\n        <div class=\"search-row\">\n            <div class=\"search-bar\">\n                <input type=\"text\" placeholder=\"Search by Location\" aria-label=\"Search\" matInput [formControl]=\"searchByLocationControl\" [matAutocomplete]=\"auto\" class=\"search-location\">\n                <button matSuffix mat-icon-button aria-label=\"Clear\" class=\"input-clear-button\" (click)=\"clearSearchLocationControl()\">\n                    <mat-icon>close</mat-icon>\n                </button>\n                <mat-autocomplete class=\"location-results\" #auto=\"matAutocomplete\" (optionSelected)=\"onLocationSelected($event.option.value)\">\n                    <mat-option class=\"location-mat-option\" *ngFor=\"let option of filteredOptions\"\n                        [value]=\"option\">\n                        <div class=\"location-option\" #locationOptions [attr.data-loc-long]=\"option.loc[1]\" [attr.data-loc-lat]=\"option.loc[0]\">\n                            <div *ngIf=\"option.address !== ''\">\n                                <div>\n                                    <span class=\"address\">{{option.address}}</span>\n                                </div>\n                                <div class=\"locality\">{{option.localityName}} ({{option.localityType}})</div>\n                            </div>\n                            <div *ngIf=\"option.address === ''\">\n                                <div>\n                                    <span class=\"address\">{{option.localityName}}</span> <span> ({{option.localityType}})</span>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-option>\n                </mat-autocomplete>\n            </div>\n            <div class=\"my-location-button\">\n                <button mat-raised-button (click)=\"useMyCurrentLocation()\">\n                    <mat-icon class=\"location-icon\">my_location</mat-icon>\n                    Find My Location\n                </button>\n            </div>\n            <div class=\"my-location-button-min\">\n              <button mat-icon-button (click)=\"useMyCurrentLocation()\"><mat-icon class=\"location-icon\">my_location</mat-icon></button>\n            </div>\n        </div>\n\n        <div>\n            <button mat-button [matMenuTriggerFor]=\"menu\" class=\"disclaimer-dropdown\">{{disclaimerText()}}<mat-icon>expand_more</mat-icon></button>\n            <mat-menu #menu=\"matMenu\">\n                <button mat-menu-item (click)=\"openLink('Disclaimer')\">\n                    Disclaimer\n                </button>\n                <button mat-menu-item (click)=\"openLink('Privacy')\">\n                    Privacy\n                </button>\n                <button mat-menu-item (click)=\"openLink('Copyright')\">\n                    Copyright\n                </button>\n            </mat-menu>\n        </div>\n    </div>\n      <div class=\"divider\">\n          <span>MAP LAYERS</span>\n      </div>\n\n      <div class=\"map-layers\">\n          <div matTooltip=\"Wildfires\" class=\"item\" [class.active]=\"selectedLayer === 'wildfire-stage-of-control'\"\n              (click)=\"onSelectLayer( 'wildfire-stage-of-control' )\">\n              <span class='material-icons-outlined icon'>local_fire_department</span>\n              <span class=\"hide shrink\">Wildfires</span>\n          </div>\n\n          <div matTooltip=\"Evacuation Orders and Alerts\" class=\"item\" [class.active]=\"selectedLayer === 'evacuation-orders-and-alerts'\"\n              (click)=\"onSelectLayer( 'evacuation-orders-and-alerts' )\">\n              <wf-icon class=\"icon\" iconName=\"error\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Evacuation Orders and Alerts</span>\n          </div>\n\n          <div matTooltip=\"Area Restrictions\" class=\"item\"\n              [class.active]=\"selectedLayer === 'area-restrictions'\"\n              (click)=\"onSelectLayer( 'area-restrictions' )\"\n          >\n              <span class=\"icon signpost mat-icon\"></span>\n              <span class=\"hide shrink\">Area Restrictions</span>\n          </div>\n\n          <div matTooltip=\"Bans and Prohibitions\" class=\"item\" [class.active]=\"selectedLayer === 'bans-and-prohibitions'\"\n              (click)=\"onSelectLayer( 'bans-and-prohibitions' )\">\n              <wf-icon class=\"icon\" iconName=\"block\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Bans and Prohibitions</span>\n          </div>\n\n          <div matTooltip=\"Smoke Forecast\" class=\"item\" [class.active]=\"selectedLayer === 'smoke-forecast'\"\n              (click)=\"onSelectLayer( 'smoke-forecast' )\">\n              <wf-icon class=\"icon\" iconName=\"air\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Smoke Forecast</span>\n          </div>\n\n          <div matTooltip=\"Danger Rating\" class=\"item\" [class.active]=\"selectedLayer === 'fire-danger'\" (click)=\"onSelectLayer( 'fire-danger' )\">\n              <wf-icon class=\"icon\" iconName=\"format_list_numbered\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Danger Rating</span>\n          </div>\n\n          <div matTooltip=\"Local Authorities\" class=\"item\" [class.active]=\"selectedLayer === 'local-authorities'\"\n              (click)=\"onSelectLayer( 'local-authorities' )\">\n              <wf-icon class=\"icon\" iconName=\"place\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Local Authorities</span>\n          </div>\n\n          <div matTooltip=\"Road Conditions\" class=\"item\" [class.active]=\"selectedLayer === 'routes-impacted'\"\n              (click)=\"onSelectLayer( 'routes-impacted' )\">\n              <wf-icon class=\"icon\" iconName=\"directions_car_filled\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Road Conditions</span>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"bottom\">\n      <div id=\"panel-details\" [ngClass]=\"showAccordion ? 'details' : 'details close'\">\n          <panel-wildfire-stage-of-control-container-desktop *ngIf=\"selectedPanel === 'wildfire-stage-of-control'\"></panel-wildfire-stage-of-control-container-desktop>\n          <panel-evacuation-orders-and-alerts *ngIf=\"selectedPanel === 'evacuation-orders-and-alerts'\"></panel-evacuation-orders-and-alerts>\n          <panel-area-restrictions *ngIf=\"selectedPanel === 'area-restrictions'\"></panel-area-restrictions>\n          <panel-bans-prohibitions *ngIf=\"selectedPanel === 'bans-and-prohibitions'\"></panel-bans-prohibitions>\n          <panel-smoke-forecast *ngIf=\"selectedPanel === 'smoke-forecast'\"></panel-smoke-forecast>\n          <panel-fire-danger *ngIf=\"selectedPanel === 'fire-danger'\"></panel-fire-danger>\n          <panel-road-conditions *ngIf=\"selectedPanel === 'routes-impacted'\"></panel-road-conditions>\n          <panel-local-authority *ngIf=\"selectedPanel === 'local-authorities'\"></panel-local-authority>\n      </div>\n      <div class=\"map\">\n        <div class=\"identify-panel\"></div>\n        <div class=\"mobile-wildfire-count\">\n          <span style=\"margin: auto; display: flex;\"><span class='material-icons-outlined fire-icon'>local_fire_department</span>{{ activeFireCount | async }} Active Wildfires</span>\n        </div>\n        <wf-map-container class=\"map-container\" [mapConfig]=\"mapConfig\" (mapInitialized)=\"initMap($event)\" (toggleAccordion)=\"onToggleAccordion()\"></wf-map-container>\n      </div>\n      <div #resizeBox id=\"draggable-panel\" class=\"draggable-panel\" cdkDragLockAxis=\"y\" (cdkDragMoved)=\"dragMove($event)\" (cdkDragEnded)=\"dragDropped($event)\" cdkDrag>\n        <div class=\"grab-container\" cdkDragHandle>\n          <div id=\"grabber\" class=\"drag-grabber\"></div>\n          <div style=\"text-align: center; padding: 7px;\">{{selectedPanel === 'wildfire-stage-of-control' ? 'Wildfires' :\n            selectedPanel === 'evacuation-orders-and-alerts' ? 'Evacuation Orders' :\n            selectedPanel === 'area-restrictions' ? 'Area Restrictions' :\n            selectedPanel === 'bans-and-prohibitions' ? 'Bans &amp; Prohibitions' :\n            selectedPanel === 'smoke-forecast' ? 'smoke-forecast' :\n            selectedPanel === 'fire-danger' ? 'Fire Danger' :\n            selectedPanel === 'routes-impacted' ? 'Drive BC' :\n            selectedPanel === 'local-authorities' ? 'Local Authorities' : ''}}</div>\n        </div>\n        <div class=\"panel-container\" style=\"padding-top: 10px;\">\n          <panel-wildfire-stage-of-control-container-desktop *ngIf=\"selectedPanel === 'wildfire-stage-of-control'\"></panel-wildfire-stage-of-control-container-desktop>\n          <panel-evacuation-orders-and-alerts *ngIf=\"selectedPanel === 'evacuation-orders-and-alerts'\"></panel-evacuation-orders-and-alerts>\n          <panel-area-restrictions *ngIf=\"selectedPanel === 'area-restrictions'\"></panel-area-restrictions>\n          <panel-bans-prohibitions *ngIf=\"selectedPanel === 'bans-and-prohibitions'\"></panel-bans-prohibitions>\n          <panel-smoke-forecast *ngIf=\"selectedPanel === 'smoke-forecast'\"></panel-smoke-forecast>\n          <panel-fire-danger *ngIf=\"selectedPanel === 'fire-danger'\"></panel-fire-danger>\n          <panel-road-conditions *ngIf=\"selectedPanel === 'routes-impacted'\"></panel-road-conditions>\n          <panel-local-authority *ngIf=\"selectedPanel === 'local-authorities'\"></panel-local-authority>\n        </div>\n      </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component } from \"@angular/core\";\nimport { AdminIncidentForm } from \"./admin-incident-form.component\";\n\n@Component({\n    selector: 'wf-admin-incident-desktop',\n    templateUrl: './admin-incident-form.component.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './admin-incident-form.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n  })\n\nexport class AdminIncidentFormDesktop extends AdminIncidentForm {\n}\n","<div class=\"top\">\n  <a class=\"link\" routerLink=\"../admin\" ><mat-icon svgIcon=\"back-icon\" style=\"height:13px; width: 15px;\"></mat-icon> Back to Dashboard</a>\n  <div class=\"title\">\n    <div>\n      <h1>Fire Number: <span *ngIf=\"currentAdminIncident\">{{currentAdminIncident.incidentLabel}}</span><span [ngClass]=\"{'pub-chip': incident.publishedStatus.toLowerCase() === 'published', 'unpub-chip': incident.publishedStatus.toLowerCase() !== 'published'}\">{{incident.publishedStatus}}</span></h1>\n      <h2 class=\"wildfire-count\">\n        <div *ngIf=\"incident.lastPublished\">\n        Last Published: {{getPublishedDate().toDateString()}} - {{getPublishedDate().toLocaleTimeString()}}\n        </div>\n      </h2>\n    </div>\n    <div class=\"button-holder\">\n      <button class=\"preview-btn\" mat-raised-button (click)=\"onShowPreview()\">Show Preview</button>\n      <button id=\"publish-btn\" [disabled]=\"validFormCheck() || publishDisabled\" class=\"publish-btn\" mat-raised-button color=\"primary\" (click)=\"publishChanges()\">Publish Changes</button>\n    </div>\n  </div>\n</div>\n<!-- Main Body Content -->\n<mat-tab-group mat-stretch-tabs=\"false\">\n  <mat-tab label=\"Incident Overview\">\n    <mat-accordion class=\"details\" multi>\n      <mat-expansion-panel #IncidentSummaryPanel class=\"incident-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n                <span class=\"panel-title\">Incident Summary</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <summary-panel #summaryPanelComponent [incident]=\"incident\"></summary-panel>\n    </mat-expansion-panel>\n      <mat-expansion-panel #IncidentDetailsPanel class=\"incident-details-panel\" expanded>\n          <mat-expansion-panel-header>\n              <mat-panel-title>\n                  <span class=\"panel-title\">Incident Details</span>\n              </mat-panel-title>\n          </mat-expansion-panel-header>\n          <incident-details-panel #detailsPanelComponent [incident]=\"incident\" [formGroup]=\"incidentForm\"></incident-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #ContactDetailsPanel class=\"contact-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Contact</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <contacts-details-panel [incident]=\"incident\" [formGroup]=\"incidentForm\"></contacts-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #ResponseDetailsPanel class=\"response-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Response</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <response-details-panel [incident]=\"incident\" [formGroup]=\"incidentForm\"></response-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #EvacuationDetailsPanel class=\"evacuation-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Evacuation Orders and Alerts</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <evac-orders-details-panel #EvacOrderPanel [incident]=\"incident\" [formGroup]=\"incidentForm\"></evac-orders-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #AreaRestrictionsDetailsPanel class=\"area-restrictions-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Area Restrictions</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <area-restrictions-details-panel #AreaRestrictionsPanel [incident]=\"incident\" [formGroup]=\"incidentForm\"></area-restrictions-details-panel>\n      </mat-expansion-panel>\n    </mat-accordion>\n  </mat-tab>\n  <mat-tab label=\"Incident Details\">\n    <ckeditor [editor]=\"Editor\" [(ngModel)]=\"incident.incidentOverview\" (ready)=\"onReady($event)\"></ckeditor>\n  </mat-tab>\n  <mat-tab label=\"Image Gallery\">\n    <image-gallery-panel [incident]=\"currentAdminIncident\"></image-gallery-panel>\n  </mat-tab>\n  <mat-tab label=\"Video Gallery\">\n    <video-gallery-panel [incident]=\"currentAdminIncident\"></video-gallery-panel>\n  </mat-tab>\n  <mat-tab label=\"Maps\">\n    <maps-panel [incident]=\"currentAdminIncident\"></maps-panel>\n  </mat-tab>\n</mat-tab-group>\n","import { ChangeDetectorRef, Directive, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { IncidentCauseResource, WildfireIncidentResource } from '@wf1/incidents-rest-api';\nimport * as Editor from '@ckeditor/ckeditor5-build-decoupled-document';\nimport { CustomImageUploader } from './incident-details-panel/custom-uploader';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { PublishDialogComponent } from './publish-dialog/publish-dialog.component';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { IncidentDetailsPanel } from './incident-details-panel/incident-details-panel.component';\nimport { ContactsDetailsPanel } from './contacts-details-panel/contacts-details-panel.component';\nimport { HttpClient } from '@angular/common/http';\nimport { EvacOrdersDetailsPanel } from './evac-orders-details-panel/evac-orders-details-panel.component';\nimport { AreaRestrictionsDetailsPanel } from './area-restrictions-details-panel/area-restrictions-details-panel.component';\nimport { CauseOptionDisclaimer, SizeTypeOptionDisclaimer } from './incident-details-panel/incident-details-panel.constants';\n\n@Directive()\nexport class AdminIncidentForm implements OnInit, OnChanges {\n  // This is a stub used for testing purposes only\n  // when an actual resource model is in place, use that\n  // and load from the store/api\n  @Input() adminIncident: any;\n  @Input() adminIncidentCause: any;\n  @Output() changesSavedEvent = new EventEmitter<boolean>();\n  @ViewChild('detailsPanelComponent') detailsPanelComponent: IncidentDetailsPanel;\n  @ViewChild('ContactDetailsPanel') contactDetailsPanelComponent: ContactsDetailsPanel;\n  @ViewChild('EvacOrderPanel') evacOrdersDetailsPanel: EvacOrdersDetailsPanel;\n  @ViewChild('AreaRestrictionsPanel') areaRestrictionsDetailsPanel: AreaRestrictionsDetailsPanel;\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  public Editor = Editor;\n\n  public publishDisabled = false;\n\n  public incident = {\n    aviationComments: undefined,\n    aviationInd: false,\n    cause: 0,\n    causeComments: undefined,\n    contact: {\n      isPrimary: true,\n      fireCentre: null,\n      phoneNumber: null,\n      emailAddress: null\n    },\n    crewsComments: undefined,\n    evacOrders: [],\n    fireName: undefined,\n    fireNumber: 0,\n    fireOfNote: false,\n    geometry: {\n      x: null,\n      y: null\n    },\n    heavyEquipmentComments: undefined,\n    heavyEquipmentInd: false,\n    incidentData: null,\n    incidentManagementComments: undefined,\n    incidentManagementInd: false,\n    incidentNumberSequence: 0,\n    incidentOverview: '',\n    lastPublished: undefined,\n    location: undefined,\n    mapAttachments: [],\n    publishedStatus: 'DRAFT',\n    responseComments: undefined,\n    sizeComments: undefined,\n    sizeHectares: 0,\n    sizeType: 1,\n    stageOfControlCode: undefined,\n    structureProtectionComments: undefined,\n    structureProtectionInd: false,\n    traditionalTerritory: undefined,\n    wildfireIncidentGuid: '',\n    wildfireYear: new Date().getFullYear(),\n    wildifreCrewsInd: false,\n  };\n\n  public readonly incidentForm: UntypedFormGroup;\n\n  wildFireYear: string;\n  incidentNumberSequnce: string;\n  currentAdminIncident: WildfireIncidentResource;\n  currentAdminIncidentCause: IncidentCauseResource;\n  publishedIncidentType: string;\n  publishedIncidentDetailGuid: string;\n\n  constructor(private readonly formBuilder: UntypedFormBuilder,\n    private router: ActivatedRoute,\n    private componentRouter: Router,\n    protected cdr: ChangeDetectorRef,\n    protected dialog: MatDialog,\n    private publishedIncidentService: PublishedIncidentService,\n    protected snackbarService: MatSnackBar,\n    protected http: HttpClient) {\n    this.incidentForm = this.formBuilder.group({\n      aviationComments: [],\n      aviationInd: [],\n      cause: [],\n      causeComments: [],\n      contact: this.formBuilder.group({\n        fireCentre: [],\n        phoneNumber: new UntypedFormControl('', [Validators.pattern(/^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/)]),\n        emailAddress: new UntypedFormControl(\n          '', [Validators.pattern(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/)])\n      }),\n      crewsComments: [],\n      evacOrders: this.formBuilder.array([]),\n      fireName: [],\n      fireOfNote: [],\n      heavyEquipmentComments: [],\n      heavyEquipmentInd: [],\n      incidentLocation: [],\n      incidentManagementComments: [],\n      incidentManagementInd: [],\n      incidentNumberSequence: [],\n      incidentSituation: [],\n      lastPublished: [],\n      location: [],\n      publishedStatus: [],\n      responseComments: [],\n      sizeComments: [],\n      sizeHectares: [],\n      sizeType: [],\n      structureProtectionComments: [],\n      structureProtectionInd: [],\n      traditionalTerritory: [],\n      wildifreCrewsInd: [],\n    });\n\n    this.incidentForm.valueChanges.subscribe(() => {\n      this.setIsFormDirty(this.incidentForm.dirty);\n    });\n  }\n\n  setIsFormDirty(isDirty: boolean) {\n    this.changesSavedEvent.emit(!isDirty)\n  }\n\n  getPublishedDate() {\n    return this.incident.lastPublished ? new Date(this.incident.lastPublished) : new Date(0);\n  }\n\n  validFormCheck() {\n    const contactControl = this.incidentForm.get('contact');\n    return (contactControl.get('emailAddress').hasError('required') ||\n      contactControl.get('emailAddress').hasError('pattern') ||\n      contactControl.get('phoneNumber').hasError('required') ||\n      contactControl.get('phoneNumber').hasError('pattern'));\n  }\n\n  ngOnInit() {\n    this.router.queryParams.subscribe(\n      (params: ParamMap) => {\n        if (params && params['wildFireYear'] && params['incidentNumberSequence']) {\n          this.wildFireYear = params['wildFireYear'];\n          this.incidentNumberSequnce = params['incidentNumberSequence'];\n\n          const self = this;\n\n          this.publishedIncidentService.fetchIMIncident(this.wildFireYear, this.incidentNumberSequnce).subscribe(incidentResponse => {\n            self.currentAdminIncident = incidentResponse.response;\n            this.publishedIncidentType = self.currentAdminIncident.type;\n            (self.incident as any).discoveryDate = new Date(self.currentAdminIncident.discoveryTimestamp).toLocaleString();\n            (self.incident as any).fireCentreOrgUnitName = self.currentAdminIncident.fireCentreOrgUnitName;\n            (self.incident as any).incidentStatusCode = self.currentAdminIncident.incidentStatusCode;\n            self.incident.incidentData = self.currentAdminIncident;\n            self.incident.geometry.x = self.currentAdminIncident.incidentLocation.longitude;\n            self.incident.geometry.y = self.currentAdminIncident.incidentLocation.latitude;\n            self.incident.fireNumber = self.currentAdminIncident.incidentNumberSequence;\n            self.incident.wildfireYear = self.currentAdminIncident.wildfireYear;\n            self.incident.fireOfNote = self.currentAdminIncident.fireOfNotePublishedInd;\n            self.incident.incidentNumberSequence = self.currentAdminIncident.incidentNumberSequence;\n            self.incident.fireName = self.currentAdminIncident.incidentName || self.currentAdminIncident.incidentLabel;\n            self.incident.publishedStatus = 'DRAFT';\n            self.incident.location = self.currentAdminIncident.incidentLocation.geographicDescription;\n            self.incident.wildfireIncidentGuid = self.currentAdminIncident.wildfireIncidentGuid;\n\n            self.incident.sizeType = 2;\n            self.incident.sizeHectares = self.currentAdminIncident.incidentSituation.fireSizeHectares;\n            self.incident.sizeComments = 'Fire size is based on most current information available.';\n\n            self.detailsPanelComponent.setCauseDisclaimer(self.incident.cause);\n            self.incident.causeComments = self.detailsPanelComponent.causeOptions.find(c => c.id === self.incident.cause).disclaimer;\n\n            self.incident.contact.isPrimary = true;\n\n            self.incident.contact.fireCentre = self.currentAdminIncident.fireCentreOrgUnitIdentifier;\n\n            this.areaRestrictionsDetailsPanel.getAreaRestrictions();\n\n            this.http.get('../../../../assets/data/fire-center-contacts-agol.json').subscribe(data => {\n              self.incident.contact.phoneNumber = data[self.incident.contact.fireCentre].phone;\n              self.incident.contact.emailAddress = data[self.incident.contact.fireCentre].url;\n              this.incidentForm.patchValue(this.incident);\n              this.cdr.detectChanges();\n            });\n\n            incidentResponse.getPublishedIncident.subscribe((response) => {\n              self.publishedIncidentDetailGuid = response.publishedIncidentDetailGuid;\n              self.incident.traditionalTerritory = response.traditionalTerritoryDetail;\n              self.incident.lastPublished = response.publishedTimestamp;\n              self.incident.location = response.incidentLocation;\n              \n              self.incident.sizeComments = response.incidentSizeDetail || 'Fire size is based on most current information available.';\n              Object.entries(SizeTypeOptionDisclaimer).forEach(([index, disclaimer]) => {\n                if (disclaimer === response.incidentSizeDetail) {\n                  self.incident.sizeType = Number.parseInt(index, 10);\n                }\n              });\n\n              self.incident.cause = 0;\n              self.incident.causeComments = response.incidentCauseDetail;\n              Object.entries(CauseOptionDisclaimer).forEach(([index, disclaimer]) => {\n                if (disclaimer === response.incidentCauseDetail) {\n                  self.incident.cause = Number.parseInt(index, 10);\n                }\n              });\n              if (!response.incidentCauseDetail) {\n                self.incident.causeComments = CauseOptionDisclaimer[0];\n              }\n\n              self.incident.publishedStatus = response.newsPublicationStatusCode;\n              self.incident.responseComments = response.resourceDetail;\n\n              self.incident.wildifreCrewsInd = response.wildfireCrewResourcesInd;\n              self.incident.crewsComments = response.wildfireCrewResourcesDetail;\n\n              self.incident.aviationInd = response.wildfireAviationResourceInd;\n              self.incident.aviationComments = response.wildfireAviationResourceDetail;\n\n              self.incident.incidentManagementInd = response.incidentMgmtCrewRsrcInd;\n              self.incident.incidentManagementComments = response.incidentMgmtCrewRsrcDetail;\n              self.incident.heavyEquipmentInd = response.heavyEquipmentResourcesInd;\n              self.incident.heavyEquipmentComments = response.heavyEquipmentResourcesDetail;\n              self.incident.structureProtectionInd = response.structureProtectionRsrcInd;\n              self.incident.structureProtectionComments = response.structureProtectionRsrcDetail;\n\n              self.incident.contact.fireCentre = response.contactOrgUnitIdentifer?.toString();\n              self.incident.contact.phoneNumber = response.contactPhoneNumber;\n              self.incident.contact.emailAddress = response.contactEmailAddress;\n              self.incident.incidentOverview = response.incidentOverview;\n\n              this.incidentForm.patchValue(this.incident);\n              this.incidentForm.markAsPristine();\n              this.evacOrdersDetailsPanel.getEvacOrders();\n            }, (error) => {\n              console.log('No published data found...');\n              console.error(error);\n              self.publishedIncidentDetailGuid = null;\n            });\n\n            this.incidentForm.patchValue(this.incident);\n            this.incidentForm.markAsPristine();\n            this.cdr.detectChanges();\n          },\n            (incidentResponseError) => {\n              console.error(incidentResponseError);\n              this.snackbarService.open(\n                'Failed to fetch Incident: ' + JSON.stringify(incidentResponseError),\n                'OK',\n                { duration: 10000, panelClass: 'snackbar-error' }\n              );\n            });\n        }\n      }\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // TODO: This can be removed once the onInit is updated to map the form correctly\n  }\n\n  nullEmptyStrings(value: string) {\n    return !value ? null : value;\n  }\n\n  async publishChanges() {\n    this.publishDisabled = true;\n    this.cdr.detectChanges();\n    const self = this;\n    const dialogRef = this.dialog.open(PublishDialogComponent, {\n      width: '350px',\n    });\n    const result = await dialogRef.afterClosed().toPromise();\n    if (!result?.publish) {\n      this.publishDisabled = false;\n      this.cdr.detectChanges();\n      return;\n    }\n    const publishedIncidentResource = {\n      contactEmailAddress: this.nullEmptyStrings(this.incident.contact.emailAddress),\n      contactOrgUnitIdentifer: this.incident.contact.fireCentre,\n      contactPhoneNumber: this.nullEmptyStrings(this.incident.contact.phoneNumber),\n      discoveryDate: new Date().valueOf().toString(),\n      fireOfNoteInd: this.incident.fireOfNote,\n      heavyEquipmentResourcesDetail: this.nullEmptyStrings(this.incident.heavyEquipmentComments),\n      heavyEquipmentResourcesInd: this.incident.heavyEquipmentInd,\n      incidentCauseDetail: this.nullEmptyStrings(this.incident.causeComments),\n      incidentGuid: this.currentAdminIncident['wildfireIncidentGuid'],\n      incidentLocation: this.nullEmptyStrings(this.incident.location),\n      incidentMgmtCrewRsrcDetail: this.nullEmptyStrings(this.incident.incidentManagementComments),\n      incidentMgmtCrewRsrcInd: this.incident.incidentManagementInd,\n      incidentName: this.incident.fireName,\n      incidentOverview: this.nullEmptyStrings(this.incident.incidentOverview),\n      incidentSizeDetail: this.nullEmptyStrings(this.incident.sizeComments),\n      newsCreatedTimestamp: new Date().valueOf().toString(),\n      newsPublicationStatusCode: 'PUBLISHED',\n      publishedIncidentDetailGuid: this.publishedIncidentDetailGuid,\n      publishedTimestamp: new Date(),\n      resourceDetail: this.nullEmptyStrings(this.incident.responseComments),\n      structureProtectionRsrcDetail: this.nullEmptyStrings(this.incident.structureProtectionComments),\n      structureProtectionRsrcInd: this.incident.structureProtectionInd,\n      traditionalTerritoryDetail: this.nullEmptyStrings(this.incident.traditionalTerritory),\n      type: this.publishedIncidentType,\n      wildfireAviationResourceDetail: this.nullEmptyStrings(this.incident.aviationComments),\n      wildfireAviationResourceInd: this.incident.aviationInd,\n      wildfireCrewResourcesDetail: this.nullEmptyStrings(this.incident.crewsComments),\n      wildfireCrewResourcesInd: this.incident.wildifreCrewsInd,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      '@type': 'http://wfim.nrs.gov.bc.ca/v1/publishedIncident'\n    };\n\n    try {\n      const doc = await self.publishIncident(publishedIncidentResource);\n      this.publishedIncidentDetailGuid = doc.publishedIncidentDetailGuid;\n\n      // Handle evac orders\n      await this.evacOrdersDetailsPanel.persistEvacOrders();\n\n      this.snackbarService.open('Incident Published Successfully', 'OK', { duration: 100000, panelClass: 'snackbar-success-v2' });\n\n      // Update the Draft/Publish status on incident name\n      this.incident.lastPublished = doc.publishedTimestamp;\n      this.incident.publishedStatus = doc.newsPublicationStatusCode;\n      this.incidentForm.markAsPristine();\n      this.setIsFormDirty(false);\n    } catch (err) {\n      this.snackbarService.open(\n        'Failed to Publish Incident: ' + JSON.stringify(err.message),\n        'OK',\n        { duration: 10000, panelClass: 'snackbar-error' }\n      );\n    } finally {\n      self.publishDisabled = false;\n      this.cdr.detectChanges();\n    }\n  }\n\n  publishIncident(incident): Promise<any> {\n    return this.publishedIncidentService.saveIMPublishedIncident(incident).toPromise();\n  }\n\n  onShowPreview() {\n    const mappedIncident = {\n      contactEmailAddress: (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['emailAddress'].value,\n      contactOrgUnitIdentifer: (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['fireCentre'].value,\n      contactPhoneNumber: (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['phoneNumber'].value,\n      discoveryDate: new Date(this.incident.incidentData.discoveryTimestamp).toString(),\n      fireCentre: this.currentAdminIncident.fireCentreOrgUnitIdentifier,\n      fireOfNoteInd: this.incidentForm.controls['fireOfNote'].value,\n      fireYear: this.incident.wildfireYear,\n      generalIncidentCauseCatId: this.incidentForm.controls['cause'].value,\n      heavyEquipmentResourcesDetail: this.incidentForm.controls['heavyEquipmentComments'].value,\n      heavyEquipmentResourcesInd: this.incidentForm.controls['heavyEquipmentInd'].value,\n      incidentCauseDetail: this.incidentForm.controls['causeComments'].value,\n      incidentGuid: this.currentAdminIncident['wildfireIncidentGuid'],\n      incidentLocation: this.incidentForm.controls['location'].value || this.currentAdminIncident.incidentLocation.geographicDescription,\n      incidentMgmtCrewRsrcDetail: this.incidentForm.controls['incidentManagementComments'].value,\n      incidentMgmtCrewRsrcInd: this.incidentForm.controls['incidentManagementInd'].value,\n      incidentName: this.incidentForm.controls['fireName'].value,\n      incidentNumberLabelFull: this.currentAdminIncident.incidentLabel,\n      incidentOverview: this.incident.incidentOverview,\n      incidentSizeDetail: this.incidentForm.controls['sizeComments'].value,\n      incidentSizeEstimatedHa: this.incidentForm.controls['sizeHectares'].value,\n      incidentSizeType: this.incidentForm.controls['sizeType'].value,\n      lastUpdatedTimestamp: new Date(this.incident.incidentData.lastUpdatedTimestamp).toString(),\n      latitude: this.incident.incidentData.incidentLocation.latitude,\n      longitude: this.incident.incidentData.incidentLocation.longitude,\n      resourceDetail: this.incidentForm.controls['responseComments'].value,\n      stageOfControlCode: this.currentAdminIncident.incidentSituation.stageOfControlCode,\n      structureProtectionRsrcDetail: this.incidentForm.controls['structureProtectionComments'].value,\n      structureProtectionRsrcInd: this.incidentForm.controls['structureProtectionInd'].value,\n      traditionalTerritoryDetail: this.incidentForm.controls['traditionalTerritory'].value,\n      wildfireAviationResourceDetail: this.incidentForm.controls['aviationComments'].value,\n      wildfireAviationResourceInd: this.incidentForm.controls['aviationInd'].value,\n      wildfireCrewResourcesDetail: this.incidentForm.controls['crewsComments'].value,\n      wildfireCrewResourcesInd: this.incidentForm.controls['wildifreCrewsInd'].value,\n    };\n\n    if (localStorage.getItem('preview_incident') != null) {\n      localStorage.removeItem('preview_incident');\n    }\n\n    localStorage.setItem('preview_incident', JSON.stringify(mappedIncident));\n\n    const url = this.componentRouter.serializeUrl(\n      this.componentRouter.createUrlTree(['incidents'], { queryParams: { preview: true } })\n    );\n\n    window.open(url, '_blank');\n  }\n\n  // for decoupled editor\n  public onReady(editor) {\n    editor.ui.getEditableElement().parentElement.insertBefore(\n      editor.ui.view.toolbar.element,\n      editor.ui.getEditableElement()\n    );\n\n    editor.plugins.get('FileRepository').createUploadAdapter = (loader) => new CustomImageUploader(loader);\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <div *ngIf=\"areaRestrictions === null || areaRestrictions.length === 0\">\n      There are no current Area Restrictions\n    </div>\n    <fieldset class=\"field-set\" formGroupName=\"contact\" *ngFor = \"let item of areaRestrictions\">\n      <legend>Area Restriction Fields</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Area Restriction Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [value]=\"item.name\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-two-thirds\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label\">Information Bulletin URL</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [value]=\"item.bulletinUrl\" disabled>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Input, OnInit} from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { AreaRestrictionsOption } from '../../../conversion/models';\nimport { AGOLService } from '../../../services/AGOL-service';\n\n@Component({\n  selector: 'area-restrictions-details-panel',\n  templateUrl: './area-restrictions-details-panel.component.html',\n  styleUrls: ['./area-restrictions-details-panel.component.scss'],\n\n})\nexport class AreaRestrictionsDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  areaRestrictions : AreaRestrictionsOption[] = []\n\n  constructor(private agolService: AGOLService) {\n  }\n\n  ngOnInit() {\n    this.getAreaRestrictions()\n  }\n\n\n  getAreaRestrictions () {\n    if(this.incident.geometry.x && this.incident.geometry.y){\n      this.agolService.getAreaRestrictions({ x: this.incident.geometry.x, y: this.incident.geometry.y}).subscribe(response => {\n        if (response.features) {\n          for (const element of response.features) {\n            this.areaRestrictions.push({\n              protRsSysID: element.attributes.PROT_RA_SYSID,\n              name: element.attributes.NAME,\n              accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n              fireCentre: element.attributes.FIRE_CENTRE_NAME,\n              fireZone: element.attributes.FIRE_ZONE_NAME,\n              bulletinUrl: element.attributes.BULLETIN_URL\n            })\n          }\n        }\n      })\n    }\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'contact-us-dialog',\n    templateUrl: 'contact-us-dialog.component.html',\n    styleUrls: ['./contact-us-dialog.component.scss']\n})\nexport class ContactUsDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<ContactUsDialogComponent>,\n      @Inject(MAT_DIALOG_DATA) public data\n      ) {}\n\n      callFireCentre(phoneNumber:string) {\n        const parsedPhoneNumber = parseInt(phoneNumber.replace(/-/g, \"\"));\n        window.open(`tel:${parsedPhoneNumber}`, '_system');\n      }\n\n      emailFireCentre(recipientEmail:string) {\n        const mailtoUrl = `mailto:${recipientEmail}`;\n        window.location.href = mailtoUrl;\n      }\n}\n","<div class=\"contact-us-container\">\n  <div class=\"header\">\n    <h1>Contact Us \n      <span class=\"material-icons-outlined\" [mat-dialog-close]=\"false\">clear</span> \n    </h1>\n  </div>\n  <div class=\"content\" >\n    <div class=\"fire-centre\">\n      {{data.fireCentre}}\n    </div>\n    <div class=\"contact-method\">\n      <div class=\"icon-label\"><span class=\"material-icons-outlined icon\">email</span><span>Email Address</span></div>\n      <span class=\"value\">{{data.email}}</span>\n    </div>\n    <div class=\"contact-method\">\n      <div class=\"icon-label\"><span class=\"material-icons icon\">call</span><span>Phone Number</span></div>\n      <span class=\"value\">{{data.phoneNumber}}</span>\n    </div>\n\n    <div class=\"buttons-row\">\n      <button mat-button class=\"mobile-button\" (click)=\"callFireCentre(data.phoneNumber)\">\n          <span class=\"material-icons\">call</span>\n          Call Us\n      </button>\n      <button mat-button class=\"mobile-button\" (click)=\"emailFireCentre(data.email)\">\n          <span class=\"material-icons-outlined\">email</span>\n          Email Us\n      </button>\n    </div>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { fireCentreOption } from '../../../conversion/models';\nimport { FireCentres } from '../../../utils';\n\n@Component({\n  selector: 'contacts-details-panel',\n  templateUrl: './contacts-details-panel.component.html',\n  styleUrls: ['./contacts-details-panel.component.scss',\n    '../../base/base.component.scss']\n})\nexport class ContactsDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  public contacts: any\n  public fireCentreOptions : fireCentreOption[] = []\n\n  constructor(protected http: HttpClient) {\n  }\n\n  ngOnInit() {\n    this.getFireCentres();\n    this.getFireCentreContacts().subscribe(data => {\n      this.contacts = data\n     });\n\n  }\n\n  setDefaultContactInfo (value) {\n    const control = this.formGroup.get(\"contact\")\n    if (Object.prototype.hasOwnProperty.call(this.contacts, value)) {\n      control.patchValue({\n        phoneNumber: this.contacts[value].phone,\n        emailAddress: this.contacts[value].url,\n        fireCentre: value\n      })\n    }\n  }\n\n  public getFireCentreContacts (): Observable<any> {\n    return this.http.get('../../../../assets/data/fire-center-contacts-agol.json')\n  }\n\n  getFireCentres(){\n    this.fireCentreOptions = FireCentres\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\" formGroupName=\"contact\">\n      <legend style=\"display: none\">Contact Details Card</legend>\n      <div class=\"news-form\">\n          <div class=\"field size-third\">\n            <mat-form-field class=\"item-full-width\">\n              <mat-label>Fire Centre</mat-label>\n              <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n              aria-label=\"Type\"\n              formControlName=\"fireCentre\"\n              [(ngModel)]=\"incident.contact.fireCentre\"\n              [options]=\"fireCentreOptions\"\n              (valueChange)=\"setDefaultContactInfo($event)\">\n                <mat-option value=\"\">\n                  <span class=\"placeholder\">Select...</span>\n                </mat-option>\n                <mat-option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                  <span>{{item.description}}</span>\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class=\"field size-third\">\n            <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n              <mat-label class=\"label required\">Phone Number</mat-label>\n              <input matInput type=\"text\" [(ngModel)]=\"incident.contact.phoneNumber\" formControlName=\"phoneNumber\" pattern=\"^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$\">\n              <mat-error *ngIf=\"formGroup.get('contact').get('phoneNumber').hasError('required')\">\n                Phone number is <strong>required</strong>\n              </mat-error>\n              <mat-error *ngIf=\"!formGroup.get('contact').get('phoneNumber').hasError('required') && formGroup.get('contact').get('phoneNumber').hasError('pattern')\">\n                Please enter a valid Phone Number\n              </mat-error>\n            </mat-form-field>\n          </div>\n          <div class=\"field size-third\" >\n            <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n              <mat-label class=\"label required\">Email Address</mat-label>\n              <input matInput type=\"text\" [(ngModel)]=\"incident.contact.emailAddress\" formControlName=\"emailAddress\" pattern=\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\">\n              <mat-error *ngIf=\"formGroup.get('contact').get('emailAddress').hasError('required')\">\n                EMail Address is <strong>required</strong>\n              </mat-error>\n              <mat-error *ngIf=\"!formGroup.get('contact').get('emailAddress').hasError('required') && formGroup.get('contact').get('emailAddress').hasError('pattern')\">\n                Please enter a valid Email Address\n              </mat-error>\n            </mat-form-field>\n          </div>\n        </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <div *ngIf=\"evacOrders === null || evacOrders.length === 0\">\n      There are no current Evacuation Orders or Alerts\n    </div>\n    <fieldset class=\"field-set\" formGroupName=\"contact\" *ngFor = \"let item of evacOrders\">\n      <legend>Evac Order Fields</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\">\n            <mat-label>Type</mat-label>\n            <mat-select class=\"disabled-input\" appWFSingleSelect appWFPlaceholder=\"Select...\"\n                        aria-label=\"Type\"\n                        [value]=\"item.orderAlertStatus\" disabled>\n              <mat-option value=\"Order\">\n                <span>Order</span>\n              </mat-option>\n              <mat-option value=\"Alert\">\n                <span>Alert</span>\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" placeholder=\"Evacuation Name\" [value]=\"item.eventName\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Information URL</mat-label>\n            <input matInput type=\"text\" placeholder=\"Evacuation Information URL\" disabled>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" *ngIf=\"incident.evacOrders.length > 0\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\" formArrayName=\"evacOrders\" *ngFor = \"let item of evacOrderForm.controls; let i=index\">\n      <legend>Evac Order Fields</legend>\n      <div [formGroupName]=\"i\" class=\"news-form\">\n        <div class=\"field size-quarter\">\n          <mat-form-field class=\"item-full-width\">\n            <mat-label>Type</mat-label>\n            <mat-select class=\"disabled-input\" appWFSingleSelect appWFPlaceholder=\"Select...\"\n                        aria-label=\"Type\"\n                        formControlName=\"orderAlertStatus\">\n              <mat-option value=\"Order\">\n                <span>Order</span>\n              </mat-option>\n              <mat-option value=\"Alert\">\n                <span>Alert</span>\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" placeholder=\"Evacuation Name\" formControlName=\"eventName\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Information URL</mat-label>\n            <input matInput type=\"text\" placeholder=\"Evacuation Information URL\" formControlName=\"url\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-unset\">\n          <button mat-button matSuffix mat-icon-button class=\"input-clear-button\" (click)=\"deleteEvacOrder(i)\"><mat-icon>delete</mat-icon></button>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <button mat-button color=\"primary\" (click)=\"addEvacOrder()\">Add</button>\n</ng-container>\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { UntypedFormArray, UntypedFormBuilder, UntypedFormGroup } from '@angular/forms';\nimport { EvacOrderOption } from '../../../conversion/models';\nimport { AGOLService } from '../../../services/AGOL-service';\nimport { DefaultService as ExternalUriService, ExternalUriResource } from '@wf1/incidents-rest-api';\n\n@Component({\n  selector: 'evac-orders-details-panel',\n  templateUrl: './evac-orders-details-panel.component.html',\n  styleUrls: ['./evac-orders-details-panel.component.scss']\n})\nexport class EvacOrdersDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup;\n  @Input() public incident;\n\n  evacOrders: EvacOrderOption[] = [];\n\n  constructor(\n    private agolService: AGOLService,\n    protected cdr: ChangeDetectorRef,\n    private readonly formBuilder: UntypedFormBuilder,\n    private externalUriService: ExternalUriService\n    ) {\n  }\n\n  get evacOrderForm(): UntypedFormArray {\n    return this.formGroup.get('evacOrders') as UntypedFormArray;\n  }\n\n  ngOnInit() {\n    this.getEvacOrders();\n  }\n\n  addEvacOrder() {\n    this.incident.evacOrders.push({\n      orderAlertStatus: null,\n      eventName: '',\n      url: '',\n      externalUri: {\n        externalUriDisplayLabel: null,\n        externalUri: null,\n        publishedInd: false,\n        privateInd: false,\n        archivedInd: false,\n        primaryInd: false,\n        externalUriCategoryTag: 'EVAC-ORDER',\n        sourceObjectNameCode: 'INCIDENT',\n        sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n        '@type': 'http://wfim.nrs.gov.bc.ca/v1/externalUri',\n        type: 'http://wfim.nrs.gov.bc.ca/v1/externalUri'\n      } as ExternalUriResource\n    });\n    this.evacOrderForm.push(this.formBuilder.group({\n      orderAlertStatus: [],\n      eventName: [],\n      url: []\n    }));\n  }\n\n  deleteEvacOrder(index) {\n    const evac = this.incident.evacOrders[index];\n    // remove from arrays and form builder\n    this.incident.evacOrders.splice(index, 1);\n    this.evacOrderForm.removeAt(index);\n    // delete from externalUri, if this uri already exists\n    if (evac?.externalUri?.externalUriGuid) {\n      this.externalUriService.deleteExternalUri(evac.externalUri.externalUriGuid).toPromise().catch(err => {\n        console.error(err);\n      });\n    }\n    this.cdr.detectChanges();\n  }\n\n  async persistEvacOrders() {\n    for (let i = 0; i < this.incident.evacOrders.length; i++) {\n      const evac = this.incident.evacOrders[i];\n      const evacForm = this.evacOrderForm.at(i);\n\n      evac.externalUri.externalUriCategoryTag = 'EVAC-ORDER:' + evacForm.value.orderAlertStatus;\n      evac.externalUri.externalUriDisplayLabel = evacForm.value.eventName;\n      evac.externalUri.externalUri = evacForm.value.url;\n      evac.externalUri.publishedInd = true;\n      evac.externalUri.sourceObjectUniqueId = '' + this.incident.wildfireIncidentGuid;\n\n      if (evac.externalUri?.externalUriGuid) {\n        await this.externalUriService.updateExternalUri(evac.externalUri.externalUriGuid, evac.externalUri).toPromise();\n      } else {\n        await this.externalUriService.createExternalUri(evac.externalUri).toPromise();\n      }\n    }\n  }\n\n  getEvacOrders() {\n    if (this.incident.geometry.x && this.incident.geometry.y) {\n      this.agolService.getEvacOrders(this.incident.geometry).subscribe(response => {\n        if (response.features) {\n          for (const element of response.features) {\n            this.evacOrders.push({\n              eventName: element.attributes.EVENT_NAME,\n              eventType: element.attributes.EVENT_TYPE,\n              orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n              issuingAgency: element.attributes.ISSUING_AGENCY,\n              preOcCode: element.attributes.PREOC_CODE,\n              emrgOAAsysID: element.attributes.EMRG_OAA_SYSID\n            });\n          }\n        }\n      });\n    }\n\n    this.externalUriService.getExternalUriList(\n      '' + this.incident.wildfireIncidentGuid,\n      '' + 1,\n      '' + 100,\n      'response',\n      undefined,\n      undefined\n    ).toPromise().then((response) => {\n      const externalUriList = response.body;\n      for (const uri of externalUriList.collection) {\n        if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n          const evac = {\n            orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n            eventName: uri.externalUriDisplayLabel,\n            url: uri.externalUri,\n            externalUri: uri as ExternalUriResource\n          };\n\n          this.incident.evacOrders.push(evac);\n\n          const form = this.formBuilder.group({\n            orderAlertStatus: [],\n            eventName: [],\n            url: []\n          });\n          form.patchValue(evac);\n          this.evacOrderForm.push(form);\n        }\n      }\n\n      this.cdr.detectChanges();\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'edit-image-dialog',\n    templateUrl: 'edit-image-dialog.component.html',\n    styleUrls: ['./edit-image-dialog.component.scss']\n})\nexport class EditImageDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditImageDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title>Edit Image Title</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.attachment.attachmentTitle\" [value]=\"data.attachment.attachmentTitle\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\nimport { DocumentManagementService } from '../../../../services/document-management.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as moment from 'moment';\nimport { DefaultService as IncidentAttachmentService } from '@wf1/incidents-rest-api';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditImageDialogComponent } from '../edit-image-dialog/edit-image-dialog.component';\n\n@Component({\n  selector: 'image-card-panel',\n  templateUrl: './image-card-panel.component.html',\n  styleUrls: ['./image-card-panel.component.scss']\n})\nexport class ImageCardPanel implements OnInit, OnChanges {\n  @Input() public incident\n  @Input() public attachment: AttachmentResource\n  @Output('loadPage') loadPage: EventEmitter<any> = new EventEmitter();\n  @Output('removePrimaryFlags') removePrimaryFlags: EventEmitter<any> = new EventEmitter();\n\n\n  public imageSrc = null;\n  public loaded = false;\n\n  constructor (private documentManagementService: DocumentManagementService,\n               protected incidentAttachmentService: IncidentAttachmentService,\n               protected snackbarService: MatSnackBar,\n               protected dialog: MatDialog,\n               private sanitizer: DomSanitizer,\n               protected cdr: ChangeDetectorRef) { /* Empty */}\n\n  changePrimary () {\n    try {\n      (this.attachment as any).primaryInd = !(this.attachment as any).primaryInd;\n    } catch (err) {\n      (this.attachment as any).primaryInd = true;\n    }\n\n    if ((this.attachment as any).primaryInd) {\n      this.removeFlags(this.attachment.attachmentGuid);\n      // safety catch\n      (this.attachment as any).primaryInd = true\n    }\n\n    this.updateIncidentAttachment();\n  }\n\n  get isPrimary () {\n    if (!Object.prototype.hasOwnProperty.call(this.attachment, 'primaryInd')) {\n      (this.attachment as any).primaryInd = false\n    }\n\n    return (this.attachment as any).primaryInd\n  }\n\n  set isPrimary (primary) {\n    (this.attachment as any).primaryInd = primary\n  }\n\n  get commsSuitable () {\n    return this.attachment.commsSuitable\n  }\n\n  set commsSuitable (commsSuitable) {\n    this.attachment.commsSuitable = commsSuitable\n  }\n\n  edit () {\n    let dialogRef = this.dialog.open(EditImageDialogComponent, {\n      width: '350px',\n      data: {\n        attachment: this.attachment\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.updateIncidentAttachment();\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  includeInGallery () {\n    this.attachment.commsSuitable = !this.attachment.commsSuitable;\n    this.updateIncidentAttachment();\n  }\n\n  removeFlags (guid: string) {\n    this.removePrimaryFlags.emit({ event: guid })\n  }\n\n  updateIncidentAttachment () {\n    this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, this.attachment.attachmentGuid, undefined, this.attachment)\n    .toPromise().then(() => {\n      this.snackbarService.open('Image Updated Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n      this.loaded = false;\n      this.loadPage.emit()\n    }).catch(err => {\n      this.snackbarService.open('Failed to Update Image: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n      this.loaded = false;\n    })\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    this.loadImage();\n  }\n\n  ngOnInit (): void {\n    this.loadImage();\n  }\n\n  ngDoCheck() {\n    this.loadImage();\n  }\n\n  convertToDate(value: string | number | Date): string {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD HH:mm:ss')\n    }\n  }\n  loadImage () {\n    if (!this.loaded) {\n      this.documentManagementService.downloadDocument(this.attachment.thumbnailIdentifier || this.attachment.fileIdentifier).toPromise().then(response => {\n        const blob = (response as any).body\n        if (blob) {\n          this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(blob));\n          this.cdr.detectChanges();\n          this.loaded = true;\n        } else {\n          throw Error('File could not be found')\n        }\n      })\n    }\n  }\n}\n","<div class=\"image-panel\">\n  <div class=\"image-container\">\n    <mat-spinner style=\"margin-left: 130px; margin-top: 100px;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n    <img *ngIf=\"loaded\" [src]=\"imageSrc\" alt=\"gallery image\" />\n  </div>\n  <div class=\"info-panel\">\n    <div class=\"row\">Image Title: <strong>{{attachment.attachmentTitle}}</strong></div>\n    <div class=\"row\">File Name: <strong>{{attachment.fileName}}</strong></div>\n    <div class=\"row\">Uploaded On: <strong>{{convertToDate(attachment.uploadedTimestamp)}}</strong></div>\n    <div class=\"divider action\"></div>\n    <div class=\"action\">\n      <mat-radio-button [checked]=\"isPrimary\" (change)=\"changePrimary()\">Set as Primary Image</mat-radio-button>\n    </div>\n    <div class=\"action\">\n      <mat-icon (click)=\"edit()\">edit</mat-icon> Edit Image Title\n    </div>\n    <div class=\"action\">\n      <mat-checkbox [checked]=\"commsSuitable\" (change)=\"includeInGallery()\"><span class=\"checkbox-label\">Include in Public Gallery</span></mat-checkbox>\n    </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as ExternalUriService, DefaultService as IncidentAttachmentsService, DefaultService as IncidentAttachmentService, AttachmentResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar, MatSnackBarRef, TextOnlySnackBar } from '@angular/material/snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService,  TokenService} from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { UploadImageDialogComponent } from './upload-image-dialog/upload-image-dialog.component';\nimport { DocumentManagementService } from '../../../services/document-management.service';\nimport { WatchlistService } from '../../../services/watchlist-service';\n\n@Component({\n  selector: 'image-gallery-panel',\n  templateUrl: './image-gallery-panel.component.html',\n  styleUrls: ['./image-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ImageGalleryPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar\n\n  public attachments: AttachmentResource[] = []\n  public externalUriList: any[] = []\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected watchlistService: WatchlistService,\n              protected incidentAttachmentsService: IncidentAttachmentsService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private externalUriService: ExternalUriService,\n              private documentManagementService: DocumentManagementService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    // this gets all INFO attachments. Because we dont have a proper\n    // filter for PDF maps at the moment, this means no paging as we'll\n    // have to manually filter.\n    this.incidentAttachmentsService.getIncidentAttachmentList(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      'false',\n      'false',\n      undefined,\n      ['INFO'],\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      '1000',\n      this.searchState.sortParam + ',' + this.searchState.sortDirection,\n      'body'\n    ).toPromise().then( ( docs ) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-image types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (idx && !['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load Image Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n\n    this.externalUriService.getExternalUriList('' + this.incident.wildfireIncidentGuid, '' + 1, '' + 100, 'response', undefined, undefined)\n    .toPromise().then((response) => {\n      this.externalUriList = []\n      const uris = response.body\n      for (const uri of uris.collection) {\n        if (uri.externalUriCategoryTag.includes('video') && uri.primaryInd === true) {\n          this.externalUriList.push(uri)\n        }\n      }\n      this.cdr.detectChanges()\n    }).catch(err => {\n      console.error('Failed to sync video URLs')\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadImageDialogComponent, {\n      width: '350px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.file) {\n        // upload to WFDM\n        //self.documentManagementService.makeDocumentUrl()\n        self.uploadFile(result.file, ( percent, loaded, total ) => {\n          self.uploadProgress = percent\n          self.uploadStatus = `Uploaded ${ Math.floor(loaded / 1048576) }mb of ${ Math.floor(loaded / 1048576) }mb`\n          if (!self.statusBar) {\n            self.statusBar = this.snackbarService.open(self.uploadStatus, 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          } else {\n            (self.statusBar as MatSnackBarRef<TextOnlySnackBar>).instance.data.message = self.uploadStatus\n          }\n        }).then(doc => {\n          self.attachmentCreator(doc.fileId, doc.filePath, result.file.type, 'Incident Photo', 'INFO', result.title).then(() => {\n            this.snackbarService.open('File Uploaded Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n            this.loadPage();\n          }).catch(err => {\n            this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          }).finally(() => {\n            self.loaded = false;\n            this.cdr.detectChanges();\n          })\n        }).catch(err => {\n          this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        })\n      }\n    });\n  }\n\n  uploadFile( file: File, progressCallback: ( percent: number, loaded: number, total: number ) => void ): Promise<any> {\n    return this.documentManagementService.uploadDocument( {\n        file: file,\n        onProgress: progressCallback\n    } )\n  }\n\n  attachmentCreator (fileId: string, uploadPath: string, mimeType: string, description: string, category: string, title: string) {\n    const attachment = {\n      '@type': 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      type: 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      sourceObjectNameCode: 'INCIDENT PHOTO',\n      fileName: uploadPath,\n      attachmentDescription: description,\n      attachmentTypeCode: category,\n      fileIdentifier: fileId,\n      mimeType: mimeType,\n      sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n      archived: false,\n      privateIndicator: false,\n      commsSuitable: true,\n      attachmentTitle: title\n    } as AttachmentResource;\n\n    return this.incidentAttachmentsService.createIncidentAttachment(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      attachment, 'response').toPromise()\n  }\n\n  /**\n   * This should be moved into the IM API\n   */\n  async removePrimaryFlags (guid: string) {\n    for (const attachment of this.attachments) {\n      const isPrimary = (attachment as any).primaryInd as Boolean\n      if (isPrimary && attachment.attachmentGuid !== (guid as any).event) {\n        (attachment as any).primaryInd = false\n        await this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, attachment.attachmentGuid, undefined, attachment)\n        .toPromise().catch(err => {\n          // Ignore this\n          console.error(err)\n        })\n      }\n    }\n\n    for (const videoLink of this.externalUriList) {\n      if (videoLink.primaryInd === true) {\n        videoLink.primaryInd = false\n        await this.externalUriService.updateExternalUri(videoLink.externalUriGuid, videoLink)\n        .toPromise().catch(err => {\n          // Ignore this\n          console.error(err)\n        })\n      }\n    }\n\n    this.loadPage()\n  }\n}\n","<ng-container class=\"wfone-base-container\">\n  <div class=\"header-panel\">\n    <span style=\"font-size: 24px;\">Images</span>\n    <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Upload Image</button>\n  </div>\n  <div class=\"image-gallery\">\n    <image-card-panel *ngFor=\"let image of attachments\" [attachment]=\"image\" [incident]=\"incident\" (loadPage)=\"loadPage()\" (removePrimaryFlags)=\"removePrimaryFlags($event)\"></image-card-panel>\n  </div>\n</ng-container>\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-image-dialog',\n    templateUrl: 'upload-image-dialog.component.html',\n    styleUrls: ['./upload-image-dialog.component.scss']\n})\nexport class UploadImageDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadImageDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        title: this.title,\n        file: this.file\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title>Upload Image</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <input #pdfInput hidden=\"true\" type=\"file\" onclick=\"this.value=null\" (change)=\"pdfInputChange($event)\" accept=\"image/*\"/>\n    <button mat-flat-button color=\"primary\" (click)=\"pdfInput.click()\">Browse</button>\n    <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" (disabled)=\"file === null\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","\nexport class CustomImageUploader {\n  private loader\n  private reader\n\n  constructor( loader ) {\n    this.loader = loader\n  }\n\n  // Starts the upload process.\n  // Note that this current writes a data url to the html directly\n  // we could replace this in the future to write to the document store\n  // and use URL's to our aws bucket to fetch, to save on size.\n  upload() {\n    return new Promise((resolve, reject) => {\n      const reader = this.reader = new window.FileReader()\n\n      reader.addEventListener('load', () => {\n        resolve({ default: reader.result })\n      })\n\n      reader.addEventListener('error', err => {\n        reject(err)\n      })\n\n      reader.addEventListener('abort', () => {\n        reject()\n      })\n\n      this.loader.file.then(file => {\n        reader.readAsDataURL(file)\n      })\n    })\n  }\n\n  // Aborts the upload process.\n  abort() {\n    this.reader.abort()\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { CauseOptionDisclaimer, SizeTypeOptionDisclaimer } from './incident-details-panel.constants';\n\nexport class OptionDisclaimer {\n  public id: number;\n  public optionValue: string;\n  public disclaimer: string;\n}\n\n@Component({\n  selector: 'incident-details-panel',\n  templateUrl: './incident-details-panel.component.html',\n  styleUrls: ['./incident-details-panel.component.scss']\n})\nexport class IncidentDetailsPanel {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  sizeTypeOptions: OptionDisclaimer[] = [\n    {id: 2, optionValue: \"Select...\", disclaimer: SizeTypeOptionDisclaimer[2]},\n    {id: 0, optionValue: \"Mapped\", disclaimer: SizeTypeOptionDisclaimer[0]},\n    {id: 1, optionValue: \"Estimated\", disclaimer: SizeTypeOptionDisclaimer[1]}\n  ]\n\n  // IM db only contains \"Human\", \"Natural\" and \"Undetermined\", but in ticket https://apps.nrs.gov.bc.ca/int/jira/browse/WFNEWS-510\n  // was requested to add \"General\", \"Human\", \"Lightning\" and \"Under Investigation\"\n  // We resolved to keep the IM values in the UI\n  causeOptions: OptionDisclaimer[] = [\n    {id: 0, optionValue: \"Select...\", disclaimer: CauseOptionDisclaimer[0]},\n    {id: 1, optionValue: \"Human\", disclaimer: CauseOptionDisclaimer[1]},\n    {id: 2, optionValue: \"Lightning\", disclaimer: CauseOptionDisclaimer[2]},\n    {id: 3, optionValue: \"Under Investigation\", disclaimer: CauseOptionDisclaimer[3]}\n  ]\n\n  setSizeTypeDisclaimer (value) {\n    this.formGroup.controls['sizeComments'].setValue(this.sizeTypeOptions.find(c => c.id === Number(value))?.disclaimer);\n  }\n\n  setCauseDisclaimer (value) {\n    this.formGroup.controls['causeComments'].setValue(this.causeOptions.find(c => c.id === Number(value))?.disclaimer);\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label\">Fire Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [(ngModel)]=\"incident.fireName\" formControlName=\"fireName\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n            <mat-label class=\"label\">Traditional Territory</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [(ngModel)]=\"incident.traditionalTerritory\" formControlName=\"traditionalTerritory\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third radio-checkbox-group\">\n            <mat-label id=\"fireOfNote\">Wildfire Of Note</mat-label>\n            <span class='material-icons-outlined fire-icon'>local_fire_department</span>\n            <mat-radio-group matInput aria-label=\"Wildfire of Note\" formControlName=\"fireOfNote\" [(ngModel)]=\"incident.fireOfNote\">\n              <mat-radio-button [value]=\"false\">No</mat-radio-button>\n              <mat-radio-button [value]=\"true\">Yes</mat-radio-button>\n            </mat-radio-group>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Location</mat-label>\n            <input matInput type=\"text\" formControlName=\"location\" [(ngModel)]=\"incident.location\" [placeholder]=\"incident.incidentData ? incident.incidentData.incidentLocation.geographicDescription : ''\">\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Size Type</mat-label>\n            <mat-select appWFSingleSelect\n              aria-label=\"Size Type\"\n              formControlName=\"sizeType\"\n              [options]=\"sizeTypeOptions\"\n              [(ngModel)]=\"incident.sizeType\"\n              (valueChange)=\"setSizeTypeDisclaimer($event)\"\n              >\n                <mat-option *ngFor = \"let item of sizeTypeOptions\" [value]=\"item.id\">\n                  <span>{{item.optionValue}}</span>\n                </mat-option>\n              </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-unset\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Size</mat-label>\n            <input matInput class=\"disabled-input mat-form-field-disabled\" type=\"text\" [(ngModel)]=\"incident.sizeHectares\" formControlName=\"sizeHectares\" readonly>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.sizeComments\"\n                formControlName=\"sizeComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label required\">Cause</mat-label>\n            <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n              aria-label=\"Cause\"\n              formControlName=\"cause\"\n              [(ngModel)]=\"incident.cause\"\n              [options]=\"causeOptions\"\n              (valueChange)=\"setCauseDisclaimer($event)\"\n              disabled>\n                <mat-option *ngFor = \"let item of causeOptions\" [value]=\"item.id\">\n                  <span>{{item.optionValue}}</span>\n                </mat-option>\n              </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.causeComments\"\n                formControlName=\"causeComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","export const CauseOptionDisclaimer = {\n    0: \"A wildfire of undetermined cause, including a wildfire that is currently under investigation, as well as one where the investigation has been completed.\",\n    1: \"Humans start wildfires in several ways, either by accident or intentionally.\",\n    2: \"When lightning strikes an object it can release enough heat to ignite a tree or other fuels.\",\n    3: \"Wildfire investigations often take time and can be very complex. Investigations may be carried out by one or more agencies, including the BC Wildfire Service, the Compliance and Enforcement Branch, the RCMP, or other law enforcement agencies, and may be cross jurisdictional.\"\n}\n\nexport const SizeTypeOptionDisclaimer = {\n    0: \"Fire size is based on the last known mapped size in hectares.\",\n    1: \"Fire size is based on the last known estimated size in hectares.\",\n    2: \"Fire size is based on most current information available.\"\n}","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'edit-map-dialog',\n    templateUrl: 'edit-map-dialog.component.html',\n    styleUrls: ['./edit-map-dialog.component.scss']\n})\nexport class EditMapDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditMapDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title>Edit Map Title</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.attachment.attachmentTitle\" [value]=\"data.attachment.attachmentTitle\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\" [disabled]=\"data.attachment.attachmentTitle === null || data.attachment.attachmentTitle === ''\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as IncidentAttachmentsService, DefaultService as IncidentAttachmentService, AttachmentResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport * as moment from 'moment';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar, MatSnackBarRef, TextOnlySnackBar } from '@angular/material/snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { MessageDialogComponent } from '../../message-dialog/message-dialog.component';\nimport { EditMapDialogComponent } from './edit-map-dialog/edit-map-dialog.component';\nimport { UploadMapDialogComponent } from './upload-map-dialog/upload-map-dialog.component';\nimport { DocumentManagementService } from '../../../services/document-management.service';\nimport { WatchlistService } from '../../../services/watchlist-service';\n\n@Component({\n  selector: 'maps-panel',\n  templateUrl: './maps-panel.component.html',\n  styleUrls: ['./maps-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MapsPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar\n\n  public columnsToDisplay = [\"fileName\", \"attachmentTitle\", \"uploadedTimestamp\", \"edit\", \"download\", \"delete\"];\n  public attachments: AttachmentResource[] = []\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected incidentAttachmentsService: IncidentAttachmentsService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private documentManagementService: DocumentManagementService,\n              protected watchlistService: WatchlistService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    // this gets all INFO attachments. Because we dont have a proper\n    // filter for PDF maps at the moment, this means no paging as we'll\n    // have to manually filter.\n    this.incidentAttachmentsService.getIncidentAttachmentList(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      'false',\n      'false',\n      undefined,\n      ['INCID_MAP'],\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      '1000',\n      this.searchState.sortParam + ',' + this.searchState.sortDirection,\n      'body'\n    ).toPromise().then( ( docs ) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-pdf types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (idx && !doc.mimeType.toLowerCase().includes('pdf')) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load Map Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD HH:mm:ss')\n    }\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadMapDialogComponent, {\n      width: '350px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.file) {\n        // upload to WFDM\n        //self.documentManagementService.makeDocumentUrl()\n        self.uploadFile(result.file, ( percent, loaded, total ) => {\n          self.uploadProgress = percent\n          self.uploadStatus = `Uploaded ${ Math.floor(loaded / 1048576) }mb of ${ Math.floor(loaded / 1048576) }mb`\n          if (!self.statusBar) {\n            self.statusBar = this.snackbarService.open(self.uploadStatus, 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          } else {\n            (self.statusBar as MatSnackBarRef<TextOnlySnackBar>).instance.data.message = self.uploadStatus\n          }\n        }).then(doc => {\n          self.attachmentCreator(doc.fileId, doc.filePath, result.file.type, 'Perimeter Map', 'INCID_MAP', result.title).then(() => {\n            this.snackbarService.open('File Uploaded Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n            this.loadPage()\n          }).catch(err => {\n            this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          }).finally(() => {\n            self.loaded = false;\n            this.cdr.detectChanges();\n          })\n        }).catch(err => {\n          this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        })\n      }\n    });\n  }\n\n  uploadFile( file: File, progressCallback: ( percent: number, loaded: number, total: number ) => void ): Promise<any> {\n    return this.documentManagementService.uploadDocument( {\n        file: file,\n        onProgress: progressCallback\n    } )\n  }\n\n  attachmentCreator (fileId: string, uploadPath: string, mimeType: string, description: string, category: string, title: string) {\n    const attachment = {\n      '@type': 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      type: 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      sourceObjectNameCode: 'INCIDENT',\n      fileName: uploadPath,\n      attachmentDescription: description,\n      attachmentTypeCode: category,\n      fileIdentifier: fileId,\n      mimeType: mimeType,\n      commsSuitable: true,\n      attachmentTitle: title\n    } as AttachmentResource;\n\n    return this.incidentAttachmentsService.createIncidentAttachment(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      attachment, 'response').toPromise()\n  }\n\n  edit (item: AttachmentResource) {\n    let dialogRef = this.dialog.open(EditMapDialogComponent, {\n      width: '350px',\n      data: {\n        attachment: item\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, item.attachmentGuid,undefined, item)\n        .toPromise().then(() => {\n          this.snackbarService.open('Attachment Updated Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loaded = false;\n        }).catch(err => {\n          this.snackbarService.open('Failed to Update Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          this.loaded = false;\n        })\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  download (item: AttachmentResource) {\n    this.documentManagementService.downloadDocument(item.fileIdentifier).toPromise().then(response => {\n      const blob = (response as any).body\n      if (blob) {\n        let fileName = item.attachmentTitle || item.fileName;\n        if (!fileName.endsWith('.pdf')) {\n          fileName += '.pdf'\n        }\n\n        const url = window.URL.createObjectURL(blob);\n        const anchor = document.createElement(\"a\");\n        anchor.download = fileName;\n        anchor.href = url;\n        anchor.click();\n        anchor.remove();\n      } else {\n        throw Error('File could not be found')\n      }\n    }).catch(err => {\n      this.snackbarService.open('Failed to Download Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  delete (item: AttachmentResource) {\n    let dialogRef = this.dialog.open(MessageDialogComponent, {\n      width: '350px',\n      data: {\n          title: 'Are you sure you want to continue?',\n          message: 'This will permenantly delete this attachment. This action cannot be undone.',\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.incidentAttachmentService.deleteIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, item.attachmentGuid)\n        .toPromise().then(() => {\n          this.snackbarService.open('Attachment Deleted Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loaded = false;\n          this.cdr.detectChanges();\n        }).catch(err => {\n          this.snackbarService.open('Failed to Delete Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          this.loaded = false;\n        })\n      }\n    });\n  }\n}\n","<ng-container class=\"wfone-base-container\">\n  <div class=\"header-panel\">\n    <span style=\"font-size: 24px;\">Maps</span>\n    <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Upload Map</button>\n  </div>\n  <div class=\"table-wrapper flex-y-grow\" *ngIf=\"attachments; else loading\">\n    <table style = \"width: fit-content;\" mat-table matSort [dataSource]=\"attachments\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Map PDF Table\">\n        <ng-container matColumnDef = \"fileName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>File Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" [matTooltip]=\"item.fileName\"><span #el >{{item.fileName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"attachmentTitle\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>Map Title</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><span #el >{{item.attachmentTitle}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"uploadedTimestamp\">\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Uploaded</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><span #el >{{convertToDate(item.uploadedTimestamp)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"edit\">\n            <th mat-header-cell *matHeaderCellDef>Edit</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"edit(item)\">edit</mat-icon></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"download\">\n          <th mat-header-cell *matHeaderCellDef>Download</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"download(item)\">download</mat-icon></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"delete\">\n          <th mat-header-cell *matHeaderCellDef>Delete</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"delete(item)\">delete</mat-icon></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n</ng-container>\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-map-dialog',\n    templateUrl: 'upload-map-dialog.component.html',\n    styleUrls: ['./upload-map-dialog.component.scss']\n})\nexport class UploadMapDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadMapDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        title: this.title,\n        file: this.file\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title>Upload Map</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <input #pdfInput hidden=\"true\" type=\"file\" onclick=\"this.value=null\" (change)=\"pdfInputChange($event)\" accept=\".pdf\"/>\n    <button mat-flat-button color=\"primary\" (click)=\"pdfInput.click()\">Browse</button>\n    <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" [disabled]=\"file === null || title === null || title === ''\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'publish-dialog',\n    templateUrl: 'publish-dialog.component.html',\n    styleUrls: ['./publish-dialog.component.scss']\n})\nexport class PublishDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<PublishDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        publish: true\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title class=\"dialog-title\">Publish incident</h1>\n  <div mat-dialog-content class=\"dialog-content\" >\n    Are you sure you want to publish?\n  </div>\n  <div mat-dialog-actions class=\"dialog-actions\">\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\">Publish</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Keep Editing</button>\n  </div>\n</div>\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'response-details-panel',\n  templateUrl: './response-details-panel.component.html',\n  styleUrls: ['./response-details-panel.component.scss']\n})\nexport class ResponseDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup;\n  @Input() public incident;\n\n  @ViewChild(\"initialAttackCrews\") initialAttackCrews: ElementRef;\n  @ViewChild(\"unitCrews\") unitCrews: ElementRef;\n  @ViewChild(\"helicopters\") helicopters: ElementRef;\n  @ViewChild(\"airtankers\") airtankers: ElementRef;\n  @ViewChild(\"pieces\") pieces: ElementRef;\n  @ViewChild(\"structure\") structure: ElementRef;\n\n  responseDisclaimer: string = `The BC Wildfire Service relies on thousands of people each year to respond to wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more information on resources assigned to this incident, please contact the information officer listed for this incident.`;\n  incidentManagementComments: string = `An Incident Management Team has been assigned to this wildfire.`;\n\n  ngOnInit() {\n    this.formGroup.controls['responseComments'].setValue(this.responseDisclaimer);\n  }\n\n  onWildfireCrewsChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"crewsComments\"].setValue(this.crewCommentsValue(this.initialAttackCrews.nativeElement.value, this.unitCrews.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"crewsComments\"].setValue(\"\");\n    }\n  }\n\n  onAviationChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"aviationComments\"].setValue(this.aviationCommentsValue(this.helicopters.nativeElement.value, this.airtankers.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"aviationComments\"].setValue(\"\");\n    }\n  }\n\n  onIncidentManagementTeamsChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"incidentManagementComments\"].setValue(this.incidentManagementComments);\n    } else {\n      this.formGroup.controls[\"incidentManagementComments\"].setValue(\"\");\n    }\n  }\n\n  onHeavyEquipmentChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(this.heavyEquipmentCommentsValue(this.pieces.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(\"\");\n    }\n  }\n\n  onStructureProtectionChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(this.structureProtectionCommentsValue());\n    } else {\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(\"\");\n    }\n  }\n\n  crewCommentsValue(initialAttack, unityCrews) {\n    if (initialAttack || unityCrews){\n      return `There are currently ${initialAttack && initialAttack > 0 ? initialAttack : 0} Initial Attack and ${unityCrews && unityCrews > 0 ? unityCrews : 0} Unit Crews responding to this wildfire.`;\n    }\n  }\n\n  aviationCommentsValue(helicopters, airtankers) {\n    if (helicopters || airtankers) {\n      return `There are currently ${helicopters && helicopters > 0 ? helicopters : 0} helicopters and ${airtankers && airtankers > 0 ? airtankers : 0} airtankers responding to this wildfire.`;\n    }\n  }\n\n  heavyEquipmentCommentsValue(pieces) {\n    if (pieces && pieces > 0) {\n      return `There are currently ${pieces} pieces of heavy equipment responding to this wildfire.`;\n    }\n  }\n\n  structureProtectionCommentsValue() {\n    //if (structure && structure > 0) {\n      return `Structure protection is responding to this incident.`;\n    //}\n  }\n\n  crewsValueChange() {\n    if(this.incident.wildifreCrewsInd){\n      this.formGroup.controls[\"crewsComments\"].setValue(this.crewCommentsValue(this.initialAttackCrews.nativeElement.value, this.unitCrews.nativeElement.value));\n    }\n  }\n\n  aviationValueChange() {\n    if(this.incident.aviationInd){\n      this.formGroup.controls[\"aviationComments\"].setValue(this.aviationCommentsValue(this.helicopters.nativeElement.value, this.airtankers.nativeElement.value));\n    }\n  }\n\n  heavyEquipmentValueChange() {\n    if(this.incident.heavyEquipmentInd){\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(this.heavyEquipmentCommentsValue(this.pieces.nativeElement.value));\n    }\n  }\n\n  structuretValueChange() {\n    if(this.incident.structureProtectionInd){\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(this.structureProtectionCommentsValue());\n    }\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">General Disclaimer Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.responseComments\"\n                formControlName=\"responseComments\"\n                ></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <mat-card-title>\n      Wildfire Crews\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Response card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Initial Attack Crews</mat-label>\n            <input matInput type=\"number\" #initialAttackCrews (change)=\"crewsValueChange()\">\n          </mat-form-field>\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Unit Crews</mat-label>\n            <input matInput type=\"number\" #unitCrews (change)=\"crewsValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.wildifreCrewsInd\" formControlName=\"wildifreCrewsInd\" class=\"example-margin\" (change)=\"onWildfireCrewsChecked($event)\">Crews</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.crewsComments\"\n                formControlName=\"crewsComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <mat-card-title>\n      Aviation\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Arial Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Helicopters</mat-label>\n            <input matInput type=\"number\" #helicopters (change)=\"aviationValueChange()\">\n          </mat-form-field>\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Airtankers</mat-label>\n            <input matInput type=\"number\" #airtankers (change)=\"aviationValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.aviationInd\" formControlName=\"aviationInd\" class=\"example-margin\" (change)=\"onAviationChecked($event)\">Wildfire Aviation</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.aviationComments\"\n                formControlName=\"aviationComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <mat-card-title>\n      Incident Management Team\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Incident Management Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.incidentManagementInd\" formControlName=\"incidentManagementInd\" class=\"example-margin\" (change)=\"onIncidentManagementTeamsChecked($event)\">Incident Management Team</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.incidentManagementComments\"\n                formControlName=\"incidentManagementComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <mat-card-title>\n      Heavy Equipment\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Equipment Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field floatLabel=\"always\">\n            <mat-label class=\"label\">Heavy Equipment Pieces</mat-label>\n            <input matInput type=\"number\" #pieces (change)=\"heavyEquipmentValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.heavyEquipmentInd\"  formControlName=\"heavyEquipmentInd\" class=\"example-margin\" (change)=\"onHeavyEquipmentChecked($event)\">Heavy Equipment</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.heavyEquipmentComments\"\n                formControlName=\"heavyEquipmentComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <mat-card-title>\n      Structure Protection\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Structure Protection Response Card</legend>\n      <div class=\"news-form\">\n        <!-- div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Structure protection</mat-label>\n            <input matInput type=\"number\" #structure (change)=\"structuretValueChange()\">\n          </mat-form-field>\n        </div -->\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.structureProtectionInd\" formControlName=\"structureProtectionInd\" class=\"example-margin\"  (change)=\"onStructureProtectionChecked($event)\">Structure Protection</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.structureProtectionComments\"\n                formControlName=\"structureProtectionComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Input } from '@angular/core';\nimport { convertToStageOfControlDescription } from '../../../utils';\n\n@Component({\n  selector: 'summary-panel',\n  templateUrl: './summary-panel.component.html',\n  styleUrls: ['./summary-panel.component.scss']\n})\nexport class SummaryPanel {\n  @Input() public incident;\n\n  public convertToStageOfControlDescription = convertToStageOfControlDescription\n}\n","<ng-container class=\"incident-form\">\n  <mat-card appearance=\"outlined\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Tombstone Details Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Discovery Date</div>\n          <div><strong>{{incident.discoveryDate}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Fire Centre</div>\n          <div><strong>{{incident.fireCentreOrgUnitName}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Stage of Control</div>\n          <div><strong>{{incident.incidentData ? convertToStageOfControlDescription(incident.incidentData.incidentSituation.stageOfControlCode) : ''}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Response Type</div>\n          <div><strong style=\"text-transform: capitalize;\">{{incident.incidentData && incident.incidentData.responseTypeCode ? incident.incidentData.responseTypeCode.toLowerCase() : ''}}</strong></div>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport class DialogData {\n    public video: any;\n}\n\n@Component({\n    selector: 'edit-video-dialog',\n    templateUrl: 'edit-video-dialog.component.html',\n    styleUrls: ['./edit-video-dialog.component.scss']\n})\nexport class EditVideoDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditVideoDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n\n}","<div class=\"dialog-container\">\n    <h1 mat-mdc-dialog-title>Edit Video Details</h1>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video Title (150 character limit)</mat-label>\n        <input matInput type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.video.externalUriDisplayLabel\" [value]=\"data.video.externalUriDisplayLabel\" required>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video URL</mat-label>\n        <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.video.externalUri\" [value]=\"data.video.externalUri\" required>\n        <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-actions\" mat-dialog-actions>\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data.video\">Save</button>\n        <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n    </div>\n  </div>\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-video-dialog',\n    templateUrl: 'upload-video-dialog.component.html',\n    styleUrls: ['./upload-video-dialog.component.scss']\n})\nexport class UploadVideoDialogComponent {\n  public title = ''\n  public url = '';\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadVideoDialogComponent>\n    ) {}\n\n    returnResult () {\n      return {\n        title: this.title,\n        url: this.url\n      }\n    }\n}","<div class=\"dialog-container\">\n    <h1 mat-mdc-dialog-title>Add Video</h1>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video Title (150 character limit)</mat-label>\n        <input matInput type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      </mat-form-field>\n      <mat-form-field class=\"item-full-width\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video URL</mat-label>\n        <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"URL\" [(ngModel)]=\"url\" [value]=\"url\" required>\n        <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-actions\" mat-dialog-actions>\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" [disabled]=\"url === null || title === null\">Save</button>\n        <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n    </div>\n  </div>\n","import { ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\nimport * as moment from 'moment';\nimport { DefaultService as ExternalUriService } from '@wf1/incidents-rest-api';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditVideoDialogComponent } from '../edit-video-dialog/edit-video-dialog.component';\nimport { convertToYoutubeId } from '../../../../utils';\n\n@Component({\n  selector: 'video-card-panel',\n  templateUrl: './video-card-panel.component.html',\n  styleUrls: ['./video-card-panel.component.scss']\n})\nexport class VideoCardPanel{\n  @Input() public incident\n  @Input() public video: any\n  @Output('loadPage') loadPage: EventEmitter<any> = new EventEmitter();\n  @Output('removePrimaryFlags') removePrimaryFlags: EventEmitter<any> = new EventEmitter();\n\n  public convertToYoutubeId = convertToYoutubeId\n\n  public includeInPublicGallery = false;\n\n  public imageSrc = null;\n  public loaded = false;\n\n  constructor (protected externalUriService: ExternalUriService,\n               protected snackbarService: MatSnackBar,\n               protected dialog: MatDialog,\n               protected cdr: ChangeDetectorRef) { /* Empty */}\n\n  changePrimary () {\n    this.video.primaryInd = !this.video.primaryInd;\n    if (this.video.primaryInd) {\n      this.removePrimaryFlags.emit({ event: this.video.externalUriGuid })\n      // safety catch\n      this.video.primaryInd = true\n    }\n    this.updateExternalUri(this.video.externalUri, this.video.externalUriDisplayLabel);\n  }\n\n  get isPrimary () {\n    if (!Object.prototype.hasOwnProperty.call(this.video, 'primaryInd')) {\n      this.video.primaryInd = false\n    }\n\n    return this.video.primaryInd\n  }\n\n  set isPrimary (primary) {\n    (this.video as any).primaryInd = primary\n  }\n\n  edit () {\n    let dialogRef = this.dialog.open(EditVideoDialogComponent, {\n      width: '600px',\n      data: {\n        video: this.video\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.updateExternalUri(result.externalUri, result.externalUriDisplayLabel);\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  remove() {\n      this.externalUriService.deleteExternalUri(this.video.externalUriGuid,'response').toPromise().then(() => {\n        this.snackbarService.open('Video Deleted Successfully', 'OK', { duration: 0, panelClass: 'snackbar-success' });\n        this.loaded = false\n        this.loadPage.emit()\n      }).catch(err => {\n        this.snackbarService.open('Failed to Delete Video: ' + JSON.stringify(err.message), 'OK', { duration: 0, panelClass: 'snackbar-error' });\n        this.loaded = false;\n      })\n  }\n\n  updateExternalUri (externalUri: string, externalUriDisplayLabel: string) {\n    this.video.externalUri = externalUri\n    this.video.externalUriDisplayLabel = externalUriDisplayLabel\n\n      this.externalUriService.updateExternalUri(this.video.externalUriGuid,this.video,'response').toPromise().then(() => {\n        this.snackbarService.open('Video Updated Successfully', 'OK', { duration: 0, panelClass: 'snackbar-success' });\n        this.loaded = false\n        this.loadPage.emit()\n      }).catch(err => {\n        this.snackbarService.open('Failed to Update Video: ' + JSON.stringify(err.message), 'OK', { duration: 0, panelClass: 'snackbar-error' });\n        this.loaded = false;\n      })\n  }\n\n  convertToDate(value: string | number | Date): string {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD HH:mm:ss')\n    }\n  }\n\n  navigateToYoutube (attachment: any) {\n    window.open(attachment.videoUrl, \"_blank\");\n  }\n}\n","<div class=\"image-panel\">\n    <div class=\"image-container\">\n      <div style=\"width: 650px;\">\n        <youtube-player\n          videoId={{convertToYoutubeId(video.externalUri)}}\n          suggestedQuality=\"highres\"\n          [startSeconds]=\"1\"\n          [height]=\"250\"\n          [width]=\"400\">\n        </youtube-player>\n      </div>\n    </div>\n    <div class=\"info-panel\">\n      <div class=\"row\">Video Title: <strong>{{video.externalUriDisplayLabel}}</strong></div>\n      <div class=\"row\">Date Uploaded: <strong>{{convertToDate(video.createdTimestamp)}}</strong></div>\n      <div class=\"divider action\"></div>\n      <div class=\"action\">\n        <mat-icon (click)=\"edit()\">edit</mat-icon> Edit Video Details\n      </div>\n      <div class=\"action\">\n        <mat-icon (click)=\"remove()\">delete</mat-icon> Remove Video\n      </div>\n      <div class=\"action\">\n        <mat-radio-button [checked]=\"isPrimary\" (change)=\"changePrimary()\">Set as Primary Video</mat-radio-button>\n      </div>\n    </div>\n\n  </div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as ExternalUriService, DefaultService as  IncidentAttachmentService, ExternalUriResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { TokenService, AppConfigService } from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { UploadVideoDialogComponent } from './upload-video-dialog/upload-video-dialog.component';\nimport { WatchlistService } from '../../../services/watchlist-service';\nimport { PagedCollection } from '../../../conversion/models';\n\n@Component({\n  selector: 'video-gallery-panel',\n  templateUrl: './video-gallery-panel.component.html',\n  styleUrls: ['./video-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class VideoGalleryPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar;\n  public pageNumber = 1;\n  public pageRowCount = 20;\n\n\n  public attachments: any[] = [];\n  public externalUriList: PagedCollection = {\n    pageNumber: 1,\n    pageRowCount: 20,\n    totalRowCount: null,\n    totalPageCount: null,\n    collection: []\n  };\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected externalUriService: ExternalUriService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private watchListServce: WatchlistService,\n\n              ) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchListServce);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    this.externalUriService.getExternalUriList(\n      '' + this.incident.wildfireIncidentGuid,\n      '' + 1,\n      '' + 100,\n      'response',\n      undefined,\n      undefined\n    ).toPromise().then( (response) => {\n      this.externalUriList.collection = []\n      const uris = response.body;\n      for (const uri of uris.collection) {\n        if (uri.externalUriCategoryTag.includes('video')) {\n          this.externalUriList.collection.push(uri)\n        }\n      }\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load videos links: ' + err, 'OK', { duration: 0, panelClass: 'snackbar-error' });\n    })\n\n    this.incidentAttachmentService.getIncidentAttachmentList('' + this.incident.wildfireYear, '' + this.incident.incidentNumberSequence, undefined, 'false', 'false', undefined, ['INFO'], undefined, undefined, undefined, undefined, '1000', this.searchState.sortParam + ',' + this.searchState.sortDirection, 'body')\n    .toPromise().then((docs) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-image types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (!(doc as any).primaryInd && idx && !['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      console.error('Failed to sync with Primary Images')\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadVideoDialogComponent, {\n      width: '600px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result.title && result.url) {\n        self.uploadVideoLink (result.title, result.url).then(() => {\n          this.snackbarService.open('Video Added Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loadPage()\n        }).catch(err => {\n          this.snackbarService.open('Failed to Added Video: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        }).finally(() => {\n          self.loaded = false;\n          this.cdr.detectChanges();\n        })\n      }\n\n    });\n  }\n\n  uploadVideoLink( title: string, url: string) {\n    if(!this.matchYoutubeUrl(url)){\n      this.snackbarService.open('This is not a youtube link', 'OK', { duration: 0, panelClass: 'snackbar-error' });\n    }\n    else{\n      const resource = {\n        externalUriDisplayLabel: title,\n        externalUri: url,\n        publishedInd: false,\n        privateInd: false,\n        archivedInd: false,\n        primaryInd: false,\n        externalUriCategoryTag: 'video',\n        sourceObjectNameCode: 'INCIDENT',\n        sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n        '@type': 'http://wfim.nrs.gov.bc.ca/v1/externalUri',\n        type: 'http://wfim.nrs.gov.bc.ca/v1/externalUri'\n      } as ExternalUriResource;\n\n      return this.externalUriService.createExternalUri(\n        resource,\n        'response'\n       ).toPromise()\n      }\n    }\n\n    matchYoutubeUrl(url) {\n      const p = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n      if(url.match(p)){\n          return url.match(p)[1];\n      }\n      else{\n        return false;\n      }\n    }\n\n  /**\n   * This should be moved into the IM API\n   */\n    async removePrimaryFlags (guid: string) {\n      for (const attachment of this.attachments) {\n        const isPrimary = (attachment as any).primaryInd as Boolean\n        if (isPrimary) {\n          (attachment as any).primaryInd = false\n          await this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, attachment.attachmentGuid, undefined, attachment)\n          .toPromise().catch(err => {\n            // Ignore this\n            console.error(err)\n          })\n        }\n      }\n\n      for (const videoLink of this.externalUriList.collection) {\n        if (videoLink.primaryInd && videoLink.externalUriGuid !== (guid as any).event) {\n          videoLink.primaryInd = false\n          await this.externalUriService.updateExternalUri(videoLink.externalUriGuid, videoLink)\n          .toPromise().catch(err => {\n            // Ignore this\n            console.error(err)\n          })\n        }\n      }\n\n      this.loadPage()\n    }\n}\n","<ng-container class=\"wfone-base-container\">\n    <div class=\"header-panel\">\n      <span style=\"font-size: 24px;\">Videos</span>\n      <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Add Video</button>\n    </div>\n    <div class=\"image-gallery\">\n      <video-card-panel *ngFor=\"let video of externalUriList.collection\" [video]=\"video\" [incident]=\"incident\" (loadPage)=\"loadPage()\" (removePrimaryFlags)=\"removePrimaryFlags($event)\"></video-card-panel>\n    </div>\n  </ng-container>\n","import {DomSanitizer} from '@angular/platform-browser';\nimport {UntypedFormGroup} from '@angular/forms';\nimport { ErrorState, ValidationError } from '../../store/application/application.state';\nimport { getDisplayErrorMessage } from '../../utils/error-messages';\n\nexport class BaseComponentModel {\n    public base = [];\n    DISPLAY_ERROR_MESSAGE = getDisplayErrorMessage;\n\n    formControlNameErrorMap = new Map();\n    formControlNameErrors = new Map();\n    errorState: ErrorState[];\n    validationErrors: ValidationError[];\n    formGroup: UntypedFormGroup;\n\n    constructor(protected sanitizer: DomSanitizer) {\n        this.sanitizer.bypassSecurityTrustResourceUrl('');\n    }\n\n    public clone(): BaseComponentModel {\n        const clonedModel: BaseComponentModel = new BaseComponentModel(this.sanitizer);\n        clonedModel.base = this.base;\n        return clonedModel;\n    }\n\n    public setErrorState(errorState: ErrorState[]) {\n        this.errorState = errorState;\n        this.validationErrors = [];\n        for (const error of this.errorState) {\n            if (error.validationErrors) {\n                this.validationErrors.push.apply(this.validationErrors, error.validationErrors);\n            }\n        }\n        this.formControlNameErrors = new Map();\n        Object.keys(this.formGroup.controls).forEach(element => {\n            const elementErrors = this.setErrors(element);\n            if (elementErrors) {\n                this.formControlNameErrors.set(element, elementErrors);\n            }\n        });\n        this.updateValidators();\n    }\n\n\n    setErrors(formControl: string) {\n        const formControlErrorTemplates = this.formControlNameErrorMap.get(formControl) as string[];\n        if (this.validationErrors && formControlErrorTemplates && formControlErrorTemplates.length > 0) {\n            const formControlValidationErrors = this.validationErrors.filter(validationError => formControlErrorTemplates.includes(validationError.message));\n            const valErrors = formControlValidationErrors.map(validationError => this.DISPLAY_ERROR_MESSAGE(validationError));\n            if (valErrors && valErrors.length > 0) {\n                return {msgs: '<span>' + valErrors.join('</span><br/><span>') + '</span>'};\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    public getErrors(formControl: string) {\n        return this.formControlNameErrors.get(formControl);\n    }\n\n    protected updateValidators() {\n        this.formControlNameErrorMap.forEach((value: string[], key: string) => {\n            this.formGroup.controls[key].updateValueAndValidity({onlySelf: true, emitEvent: false});\n            this.formGroup.controls[key].markAsTouched({onlySelf: true});\n        });\n    }\n}\n","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Directive,\n    Injectable,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges\n} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {Store} from '@ngrx/store';\nimport {BaseComponentModel} from './base.component.model';\nimport {\n    DATE_FORMATS,\n    getElementInnerText,\n    hasValues,\n    isElementTruncated,\n    ResourcesRoutes\n} from '../../../app/utils';\nimport {AbstractControl, UntypedFormBuilder, UntypedFormGroup} from '@angular/forms';\nimport {Overlay} from '@angular/cdk/overlay';\nimport {ApplicationStateService} from '../../services/application-state.service';\nimport {AppConfigService, TokenService} from '@wf1/core-ui';\nimport {HttpClient} from '@angular/common/http';\nimport {MatDialog} from '@angular/material/dialog';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {PaginationInstance} from 'ngx-pagination';\nimport { RootState } from '../../store';\nimport { ErrorState, LoadState } from '../../store/application/application.state';\nimport { CONSTANTS } from \"../../../app/utils/index\";\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\n\n@Directive()\n@Injectable()\nexport class BaseComponent implements OnInit, OnChanges, AfterViewInit {\n    @Input() loadState: LoadState;\n    @Input() errorState: ErrorState[];\n    @Input() saveErrorState: ErrorState[];\n    @Input() severeErrorState?: ErrorState[];\n    displayLabel = 'Data';\n    showingErrorDialog = false;\n    backRoute: ResourcesRoutes = null;\n    backRouteQueryParams: any;\n    backRouteLabel: string = null;\n    summaryString: string = null;\n    isConnected = true;\n    protected model: BaseComponentModel;\n    public viewModel: BaseComponentModel;\n    isLoading: boolean;\n    componentId = '';\n    mobile = this.getIsMobileResolution();\n\n    CONSTANTS = CONSTANTS;\n\n\n\n    SAVE_FAIL_TEXT = 'Save failed';\n    SAVE_SUCCESS_TEXT = 'Saved Successfully';\n\n\n    DATE_FORMATS = DATE_FORMATS;\n\n\n    unsavedChangesMessage = 'Unsaved Changes';\n\n    isUnsaved = false;\n    getElementInnerText = getElementInnerText;\n    isElementTruncated = isElementTruncated;\n\n    config: PaginationInstance = {\n        id: 'Paginator',\n        itemsPerPage: 5,\n        currentPage: 1,\n        totalItems: 0\n    };\n\n    public paginatorLabels: any = {\n        previousLabel: '',\n        nextLabel: '',\n    };\n\n    public simplePaginatorLabels: any = {\n        previousLabel: 'Back',\n        nextLabel: 'Next',\n    };\n\n    constructor(protected router: Router,\n                protected route: ActivatedRoute,\n                protected sanitizer: DomSanitizer,\n                protected store: Store<RootState>,\n                protected fb: UntypedFormBuilder,\n                protected dialog: MatDialog,\n                protected applicationStateService: ApplicationStateService,\n                protected tokenService: TokenService,\n                protected snackbarService: MatSnackBar,\n                protected overlay: Overlay,\n                protected cdr: ChangeDetectorRef,\n                protected appConfigService: AppConfigService,\n                protected http: HttpClient,\n                protected watchlistService: WatchlistService,\n                protected commonUtilityService?: CommonUtilityService) {\n        this.initModels();\n    }\n\n    getPagingConfig(): PaginationInstance {\n        return this.config;\n    }\n\n    initModels() {\n      /* empty, for override purposes only */\n    }\n\n    loadPage() {\n      /* empty, for override purposes only */\n    }\n\n    reload() {\n      /* empty, for override purposes only */\n    }\n\n    ngOnInit() {\n        this.loadPage();\n    }\n\n    ngAfterViewInit() {\n      /* empty */\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.loadState && changes.loadState.currentValue) {\n            this.isLoading = changes.loadState.currentValue.isLoading;\n            const previousValue = changes.loadState.previousValue;\n            if (!this.isLoading && previousValue && previousValue.isLoading) {\n                this.invokeAfterLoaded();\n            }\n        }\n        if (changes.errorState) {\n            this.errorState = changes.errorState.currentValue as ErrorState[];\n            if (this.viewModel.formGroup) {\n                this.viewModel.setErrorState(this.errorState);\n            }\n        }\n    }\n\n\n    invokeAfterLoaded() {\n      /* empty, for override purposes only */\n    }\n\n    protected updateView(): void {\n        this.viewModel = this.model.clone();\n    }\n\n    getIsMobileResolution(): boolean {\n        return this.applicationStateService.getIsMobileResolution();\n    }\n\n    redirectWithOAuth(redirectRoutePath: string) {\n        const baseUrl = this.appConfigService.getConfig().application.baseUrl;\n        const url = baseUrl;\n        window.location.href = url;\n    }\n\n    getAsFormGroup(ac: AbstractControl): UntypedFormGroup {\n        return ac as UntypedFormGroup;\n    }\n\n    disableSaveForm(form?: UntypedFormGroup): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        return !fg.dirty || !fg.valid;\n    }\n\n    disableBatchSaveForm(arrayProperty: string, form?: UntypedFormGroup): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        //Check form array for dirty flag\n        const fgArray: UntypedFormGroup[] = fg?.controls[arrayProperty]['controls'];\n\n        const arrayHasDirtyFlag = fgArray.some(contactFg => contactFg.dirty);\n        const arrayHasInvalidFlag = fgArray.some(contactFg => !contactFg.valid);\n\n        /*\n         * Disable if\n         * 1) the form array and main form is not dirty OR\n         * 2) a form array form group is invalid\n         */\n        if (!arrayHasDirtyFlag && !fg.dirty) {\n            return true;\n        }\n        if (arrayHasInvalidFlag) {\n            return true;\n        }\n\n        return false;\n    }\n\n    unsavedForm(form?: UntypedFormGroup, arrayProperty?: string): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        if (arrayProperty) {\n            this.unsavedBatchForm(arrayProperty);\n        } else {\n            this.doUnsavedStateUpdateIfNeeded(this.componentId, fg.dirty);\n        }\n        return fg.dirty;\n    }\n\n    unsavedBatchForm(arrayProperty: string): boolean {\n        const fg = this.viewModel.formGroup;\n        //Check form array for dirty flag\n        const fgArray: UntypedFormGroup[] = fg?.controls[arrayProperty]['controls'];\n        const arrayHasDirtyFlag = fgArray.some(contactFg => contactFg.dirty);\n        const hasAddedUnsavedItem = this.hasAddedUnsavedItemNotBlank(fg, arrayProperty);\n        this.doUnsavedStateUpdateIfNeeded(this.componentId, arrayHasDirtyFlag || fg.dirty || hasAddedUnsavedItem);\n        return this.isUnsaved;\n    }\n\n    doUnsavedStateUpdateIfNeeded(componentId: string, newUnsavedState: boolean) {\n        this.isUnsaved = newUnsavedState;\n    }\n\n    hasAddedUnsavedItemNotBlank(fgMain: UntypedFormGroup, arrayProperty: string) {\n        const controls = fgMain?.controls[arrayProperty]['controls'];\n        const ret = controls.some(ac => {\n                const fg: UntypedFormGroup = <UntypedFormGroup>ac;\n                if (!fg.get('id').value && controls.length > 1) { //not a default empty entry\n                    return true;\n                } else if (!fg.get('id').value && controls.length == 1) { //check if empty entry\n                    const item = fg.getRawValue();\n                    if (!hasValues(item)) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                } else {\n                    return false;\n                }\n            }\n        );\n        return ret;\n    }\n\n    getActionRowClass() {\n        return 'space-between';\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { AreaRestrictionsOption, EvacOrderOption } from '../../../conversion/models';\n\n@Component({\n  selector: 'alert-order-banner',\n  templateUrl: './alert-order-banner.component.html',\n  styleUrls: ['./alert-order-banner.component.scss']\n})\nexport class AlertOrderBannerComponent {\n  @Input() evacuation: EvacOrderOption;\n  @Input() areaRestriction: AreaRestrictionsOption;\n  @Input() isCard: boolean;\n\n  isOrder = () => this.evacuation?.orderAlertStatus === 'Order'\n  isArea = () => !!this.areaRestriction\n\n  color = () => {\n    if (this.isOrder() || this.isArea()) {\n      return 'red';\n    }\n    return 'yellow';\n  }\n\n  shape = () => this.isCard ? 'card' : 'banner';\n  \n  icon = () => {\n    if (this.isArea()) {\n      return 'signpost';\n    }\n    if (this.isOrder()) {\n      return 'error';\n    }\n    return 'warning';\n  }\n\n  message = () => {\n    if (this.isArea()) {\n      return `Area Restriction: ${this.areaRestriction?.name}`;\n    }\n    if (this.isOrder()) {\n      return `Evacuation Order: ${this.evacuation?.eventName} issued by ${this.evacuation?.issuingAgency}`;\n    }\n    return `Evacuation Alert: ${this.evacuation?.eventName} issued by ${this.evacuation?.issuingAgency}`;\n  }\n}\n","<span [ngClass]=\"[color(), shape()]\">\n    <span class=\"material-icons\">{{icon()}}</span>\n    <span>{{message()}}</span>\n</span>","import { AfterViewInit, Directive, Injectable, Input, OnChanges, SimpleChanges } from \"@angular/core\";\nimport { BaseComponent } from \"../../base/base.component\";\nimport { PaginationInstance } from \"ngx-pagination\";\nimport { PagedCollection } from \"../../../conversion/models\";\nimport { PagingInfoRequest, PagingSearchState } from \"../../../store/application/application.state\";\nimport { NavigationEnd } from \"@angular/router\";\n\n@Directive()\n@Injectable()\nexport class CollectionComponent extends BaseComponent implements OnChanges, AfterViewInit {\n  @Input() collection: PagedCollection;\n  @Input() searchState: PagingSearchState;\n  baseRoute = undefined;\n  searchText = undefined;\n  collectionData: any[];\n  initPagingRequest: PagingInfoRequest;\n  currentSort;\n  currentSortLabel;\n  currentSortDirection;\n  currentPage;\n  columnsToSortBy = [];\n  showEntriesSelection = 20; // default\n  showEntriesOptions = [\n    { label: \"5\", value: 5 },\n    { label: \"10\", value: 10 },\n    { label: \"20\", value: 20 },\n    { label: \"50\", value: 50 },\n    { label: \"100\", value: 100 },\n  ];\n\n  summaryString = \"\";\n\n\n  isFirstLoad = true;\n\n  initSortingAndPaging(initPaging: PagingInfoRequest) {\n    // extending class needs to call this to init\n    this.initPagingRequest = initPaging;\n    this.currentSort = this.searchState.sortParam;\n    this.currentSortDirection = this.searchState.sortDirection;\n\n    const currentSortObj = this.columnsToSortBy.find(col => col.def == this.currentSort);\n    if (currentSortObj) {\n      this.currentSortLabel = currentSortObj.label;\n    }\n    this.currentPage = this.searchState && this.searchState.pageIndex ? this.searchState.pageIndex : this.initPagingRequest.pageNumber;\n    this.showEntriesSelection = Number(this.searchState && this.searchState.pageSize ? this.searchState.pageSize : this.initPagingRequest.pageRowCount);\n  }\n\n  getPagingConfig(): PaginationInstance {\n    return {\n      ...super.getPagingConfig(),\n      id: this.componentId + \"Paginator\",\n      itemsPerPage: this.showEntriesSelection,\n      totalItems: this.collection && this.collection.totalRowCount ? this.collection.totalRowCount : 0\n    };\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.baseRoute = this.router.url;\n    if (this.isFirstLoad && this.baseRoute && this.router.url == this.baseRoute) {\n      this.isFirstLoad = false;\n      this.router.events.forEach((event) => {\n        if (event instanceof NavigationEnd) {\n          if (event.url == this.baseRoute) {\n            this.doSearch();\n          }\n        }\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (changes.collection && changes.collection.currentValue) {\n      this.updateCollection(changes.collection.currentValue);\n      setTimeout(() => {\n        this.fixPaginationA11y();\n      });\n    }\n    if (changes.searchState) {\n      this.searchState = changes.searchState.currentValue ? changes.searchState.currentValue : this.initPagingRequest;\n      this.searchText = this.searchState.query;\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n    }\n  }\n\n  fixPaginationA11y() {\n    let paginationUlEls = document.getElementsByClassName(\"ngx-pagination\");\n    if (paginationUlEls && paginationUlEls.length) {\n      let el = <HTMLUListElement>paginationUlEls[0];\n      let aEls = el.getElementsByTagName(\"a\");\n      for (let i = 0; i < aEls.length; i++) {\n        aEls.item(i).removeAttribute(\"aria-label\");\n      }\n      el.removeAttribute(\"role\");\n      el.removeAttribute(\"aria-label\");\n      el.parentElement.setAttribute(\"role\", \"navigation\");\n      el.parentElement.setAttribute(\"aria-label\", \"Pagination\");\n    }\n  }\n\n  updateCollection(collection: PagedCollection) {\n    this.collection = collection;\n    this.collectionData = this.collection.collection;\n    this.config = this.getPagingConfig();\n    this.config.currentPage = this.collection.pageNumber;\n    this.summaryString = this.getSummaryString(this.config.id);\n  }\n\n  onPageChange(number: number) {\n    if (number >= 1) {\n      this.config.currentPage = number;\n    }\n    else {\n      this.config.currentPage += (number === -1 && this.config.currentPage > 1) ? -1 : 1\n    }\n    this.doSearch();\n  }\n\n  onShowEntriesChange() {\n    this.config.itemsPerPage = this.showEntriesSelection;\n    this.config.currentPage = 1;\n    this.doSearch();\n  }\n\n  sortData(data) {\n    this.currentSort = data.active;\n    this.currentSortDirection = data.direction;\n    const currentSortObj = this.columnsToSortBy.find(col => col.def == this.currentSort);\n    if (currentSortObj) {\n      this.currentSortLabel = currentSortObj.label;\n    }\n    this.doSearch();\n  }\n\n  searchTextUpdated() {\n    this.config.currentPage = 1;\n    this.doSearch();\n  }\n\n  onChangeFilters() {\n    this.config.currentPage = 1;\n  }\n\n  doSearch() {\n    // extending class needs to override this to dispatch a search action\n  }\n\n  doSort() {\n    this.columnsToSortBy = this.columnsToSortBy.map(col => {\n      const newCol = { ...col };\n      newCol.dir = this.currentSortDirection == \"DESC\" ? \"ASC\" : \"DESC\";\n      if (col.def == this.currentSort) {\n        this.currentSortLabel = col.label;\n      }\n      return newCol;\n    });\n    this.doSearch();\n  }\n\n  getSummaryString(configId?: string) {\n    let showNum = Number(this.showEntriesSelection);\n    if (configId === 'loadWildfiresPaginator') {\n      showNum = 10;\n    }\n    if (this.collection && this.collection.totalRowCount && this.collection.totalRowCount > 0) {\n      let start = (this.collection.pageNumber - 1) * showNum + 1;\n      let end = (start + showNum) - 1;\n      const total = this.collection.totalRowCount ? this.collection.totalRowCount : 0;\n\n      if (start < 0) {\n        start = 0;\n      }\n      if (end < 0) {\n        end = 0;\n      }\n      if (end > total) {\n        end = total;\n      }\n      return `Showing ${start} to ${end} of ${total}`;\n\n    } else {\n      return this.CONSTANTS.NO_RECORDS_MESSAGE;\n    }\n  }\n\n  selectFilterUpdated(property, value) {\n    this[property] = value;\n    this.cdr.detectChanges();\n    this.onChangeFilters();\n  }\n\n  selectShowEntriesUpdated(property, value) {\n    this[property] = value;\n    this.onShowEntriesChange();\n  }\n\n  selectSortParamUpdated(property, value) {\n    this[property] = value;\n    this.doSort();\n  }\n\n  //click and enter key handling for item level action (support for accessibility)\n  defaultItemClickAction(item) {\n    if (this.defaultItemActionPermitted(item)) {\n      this.doDefaultItemAction(item);\n    }\n  }\n\n  defaultItemKeyEnterAction(event, item) {\n    let enterKey = \"Enter\";\n    let spaceKey = \" \";\n    if (this.defaultItemActionPermitted(item) && (event.key == enterKey || event.key == spaceKey)) {\n      this.doDefaultItemAction(item);\n    }\n  }\n\n  defaultItemActionPermitted(item) {\n    return false; //implementing classes need to override if they have a item level action\n  }\n\n  doDefaultItemAction(item) {\n    return; //implementing classes need to override if they have a item level action\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CanDeactivate } from '@angular/router'\nimport { Observable, of } from 'rxjs'\n\nexport interface CheckUnsavedChanges {\n  changesSaved: () => boolean | Observable<boolean>\n  confirmDialog: () => boolean | Observable<boolean>\n}\n\n@Injectable()\nexport class CanDeactivateGuard implements CanDeactivate<CheckUnsavedChanges> {\n  constructor(\n    public dialog: MatDialog,\n  ) { }\n\n  canDeactivate(component: CheckUnsavedChanges): boolean | Observable<boolean> {\n    if (!component.changesSaved()) {\n      return component.confirmDialog();\n    }\n\n    return of(true);\n  }\n}","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { isMobileView } from '../../../utils';\n\n@Component({\n    // eslint-disable-next-line @angular-eslint/component-selector\n    selector: 'scroll-to-top-button',\n    templateUrl: './scroll-to-top.component.html',\n    styleUrls: ['./scroll-to-top.component.scss']\n})\n\nexport class ScrollToTopComponent implements OnInit, OnDestroy {\n\n    isMobileView = isMobileView;\n    isButtonVisible = false;\n\n    ngOnInit() {\n        window.addEventListener('scroll', this.scrollEvent, true);\n    }\n\n    ngOnDestroy() {\n        window.removeEventListener('scroll', this.scrollEvent, true);\n    }\n\n    onScrollToTop(): void {\n        document.getElementsByClassName('top')[0].scrollIntoView({ behavior: 'smooth' });\n    }\n\n    scrollEvent = (): void => {\n        const offset = document.getElementsByClassName('top')[0].getBoundingClientRect().y;\n        this.isButtonVisible = offset < -100 && isMobileView();\n    };\n\n}\n","<div>\n    <button mat-fab class=\"mat-white-48 bottom-right animations\"\n        [ngClass]=\"{'show': isButtonVisible, 'hide': !isButtonVisible}\" (click)=\"onScrollToTop()\">\n        <mat-icon>expand_less</mat-icon>\n    </button>\n</div>","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'unsaved-changes-dialog',\n  templateUrl: 'unsaved-changes-dialog.component.html',\n  styleUrls: ['./unsaved-changes-dialog.component.scss']\n})\nexport class UnsavedChangesDialog {\n  constructor(\n    protected dialogRef: MatDialogRef<UnsavedChangesDialog>,\n  ) { }\n\n  returnResult(value: boolean) {\n    return value;\n  }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-mdc-dialog-title class=\"dialog-title\">Warning</h1>\n  <div mat-dialog-content class=\"dialog-content\">\n    <p class=\"subtitle\">Are you sure you would like to leave this page?</p>\n    If you leave this page without publishing, the information you have entered will be lost.\n  </div>\n  <div mat-dialog-actions class=\"dialog-actions\">\n    <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult(true)\">Discard Changes</button>\n    <button mat-raised-button [mat-dialog-close]=\"returnResult(false)\">Keep Editing</button>\n  </div>\n</div>\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { AreaRestrictionsOption, BansAndProhibitionsOption, EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { haversineDistance } from '../../services/wfnews-map.service/util';\nimport { convertToDateWithDayOfWeek as DateTimeConvert } from '../../utils';\nimport * as L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\n\n@Component({\n  selector: 'current-alert-component',\n  templateUrl: './current-alert-component.component.html',\n  styleUrls: ['./current-alert-component.component.scss']\n})\nexport class CurrentAlertComponentComponent implements OnInit, AfterViewInit {\n  public evacOrders : EvacOrderOption[] = []\n  public areaRestrictions: AreaRestrictionsOption[] = []\n  public bansAndProhibitions: BansAndProhibitionsOption[] = []\n  public currentLat: number;\n  public currentLong: number;\n  public nearmeChecked: boolean;\n  public alertTypeOptions = [\n    'All',\n    'Area Restrictions',\n    'Bans & Prohibitions',\n    'Evacuation Orders and Alerts',\n  ]\n  public selectedAlertType = 'All'\n\n  constructor(private agolService: AGOLService, private commonUtilityService: CommonUtilityService, private appConfigService: AppConfigService) {}\n  public convertToDateWithDayOfWeek = DateTimeConvert;\n\n  ngOnInit() {\n    this.useMyCurrentLocation()\n  }\n\n  createMap (id: string, item: any, type: string) {\n    const location = item && item.centroid ? [Number(item.centroid.y || 0), Number(item.centroid.x || 0)] : [0, 0]\n    const map = L.map(id, {\n      attributionControl: false,\n      zoomControl: false,\n      dragging: false,\n      doubleClickZoom: false,\n      boxZoom: false,\n      trackResize: false\n    }).setView(location, 12)\n\n    if (item.geometry) {\n      map.fitBounds(new L.LatLngBounds([item.geometry.ymin, item.geometry.xmin], [item.geometry.ymax, item.geometry.xmax]));\n    }\n\n    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map)\n\n    let databcUrl = this.appConfigService.getConfig()['mapServices']['openmapsBaseUrl'].toString()\n\n    if (type.toLocaleLowerCase() === 'evac') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n        styles: '6885',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    } else if (type.toLocaleLowerCase() === 'ban') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n        styles: '7733',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    } else if (type.toLocaleLowerCase() === 'area') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n        styles: '7735',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    }\n  }\n\n  async ngAfterViewInit () {\n    await Promise.all([this.getEvacOrders(), this.getBansProhibitions(), this.getAreaRestrictions()])\n  }\n\n  selectAlertUpdated(event:string){\n    this.evacOrders = [];\n    this.areaRestrictions = [];\n    this.bansAndProhibitions = [];\n    let long = null;\n    let lat = null\n    if(this.nearmeChecked){\n      long = this.currentLong\n      lat = this.currentLat\n    }\n    switch(event) {\n      case 'All': {\n        this.getEvacOrders(long, lat);\n        this.getBansProhibitions(long, lat);\n        this.getAreaRestrictions(long, lat)\n        break;\n      }\n      case 'Area Restrictions': {\n        this.getAreaRestrictions(long, lat)\n        break;\n      }\n      case 'Bans & Prohibitions': {\n        this.getBansProhibitions(long, lat);\n        break;\n      }\n      case 'Evacuation Orders and Alerts': {\n        this.getEvacOrders(long, lat);\n        break;\n      }\n      default: {\n         break;\n      }\n   }\n  }\n\n  nearmeToggleChanged(){\n    this.selectAlertUpdated(this.selectedAlertType)\n  }\n\n  async getEvacOrders (currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getEvacOrders((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: false}).toPromise()\n\n    if (response.features) {\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getEvacOrdersByEventNumber(element.attributes.EVENT_NUMBER, { returnExtent: true}).toPromise()\n\n        this.evacOrders.push({\n          eventName: element.attributes.EVENT_NAME,\n          eventType: element.attributes.EVENT_TYPE,\n          orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n          issuingAgency: element.attributes.ISSUING_AGENCY,\n          preOcCode: element.attributes.PREOC_CODE,\n          emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          dateModified: element.attributes.DATE_MODIFIED,\n          noticeType: 'evac'\n        })\n      }\n    }\n  }\n\n  async getAreaRestrictions(currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getAreaRestrictions((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: false}).toPromise()\n    if (response.features) {\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getAreaRestrictionsByID(element.attributes.PROT_RA_SYSID, { returnExtent: true}).toPromise()\n        this.areaRestrictions.push ({\n          protRsSysID: element.attributes.PROT_RA_SYSID,\n          name: element.attributes.NAME,\n          accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n          fireCentre: element.attributes.FIRE_CENTRE_NAME,\n          fireZone: element.attributes.FIRE_ZONE_NAME,\n          bulletinUrl: element.attributes.BULLETIN_URL,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          noticeType: 'area'\n        })\n      }\n    }\n  }\n\n  async getBansProhibitions(currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getBansAndProhibitions((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: true}).toPromise()\n    if (response.features) {\n      // there is no Status column in BanAndProhibitions\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getBansAndProhibitionsById(element.attributes.PROT_BAP_SYSID, { returnExtent: true }).toPromise()\n        this.bansAndProhibitions.push({\n          protBsSysID: element.attributes.PROT_BAP_SYSID,\n          type: element.attributes.TYPE,\n          accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n          fireCentre: element.attributes.FIRE_CENTRE_NAME,\n          fireZone: element.attributes.FIRE_ZONE_NAME,\n          bulletinUrl: element.attributes.BULLETIN_URL,\n          accessProhibitionDescription: element.attributes.ACCESS_PROHIBITION_DESCRIPTION,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          noticeType: 'bans'\n        })\n      }\n    }\n  }\n\n  async useMyCurrentLocation() {\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    if( location ){\n        this.currentLat = Number(location.coords.latitude);\n        this.currentLong = Number(location.coords.longitude);\n    }\n  }\n\n  calculateDistance (lat: number, long: number): string {\n    let result = '---';\n    if (lat && long && this.currentLat && this.currentLong) {\n      result = (haversineDistance(lat, this.currentLat, long, this.currentLong) / 1000).toFixed(2);\n    }\n    return result;\n  }\n\n  openBcGovGuide() {\n    let url = 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions'\n    window.open(url, \"_blank\");\n  }\n\n  convertRestriction(value: string) {\n    let text = value.split(', ')\n    for (let i = 0; i < text.length; i++) {\n      if((text[i] === 'Category 2') || (text[i] === 'Category 3')) {\n        text[i] = text[i] + ' Open Fire'\n      }\n    }\n    return text.toString()\n  }\n}\n","<div class=\"container\">\n  <div class=\"headers\">\n      <div class=\"field\">\n          <mat-label class=\"label\">Notice Type</mat-label>\n          <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                  aria-label=\"Type\"\n                  [options]=\"alertTypeOptions\"\n                  [(ngModel)]=\"selectedAlertType\"\n                  (updated)=\"selectAlertUpdated($event)\">\n              <option *ngFor = \"let item of alertTypeOptions\" value=\"{{item}}\">\n                  <span>{{item}}</span>\n              </option>\n          </select>\n      </div>\n\n      <div class=\"field\">\n          <div class=\"toggle-bar\">\n              <span>All Notices</span>\n              <mat-slide-toggle [(ngModel)]=\"nearmeChecked\" (change)=\"nearmeToggleChanged()\" [disabled] = \"!(currentLat && currentLong)\">Notices Near Me</mat-slide-toggle>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"contents\">\n      <div class=\"left-panels\">\n          <div class=\"panel-title\">Definitions and Details</div>\n          <mat-expansion-panel [expanded]=\"true\">\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Evacuation Orders and Alerts\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-evacuation-orders-and-alerts></panel-evacuation-orders-and-alerts>\n          </mat-expansion-panel>\n\n          <mat-expansion-panel>\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Bans and Prohibitions\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-bans-prohibitions></panel-bans-prohibitions>\n          </mat-expansion-panel>\n\n          <mat-expansion-panel>\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Area Restrictions\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-area-restrictions></panel-area-restrictions>\n          </mat-expansion-panel>\n      </div>\n\n      <div class=\"notice-list\">\n        <div class=\"panel-title\">Current Notices</div>\n        <div *ngIf=\"!(evacOrders.length || bansAndProhibitions.length || areaRestrictions.length)\">\n            There is currently no notice available in your area.\n        </div>\n        <mat-expansion-panel (opened)=\"createMap('evac-' + evac.emrgOAAsysID, evac, 'evac')\" [expanded]=\"false\" *ngFor=\"let evac of evacOrders\">\n          <mat-expansion-panel-header class=\"exp-panel\">\n            <div class=\"notice-item\">\n              <div class=\"item-header\">{{evac.eventName}}</div>\n              <span class=\"label\"><wf-icon class=\"icon\" iconName=\"error\" iconSize=\"small\"></wf-icon><span style=\"padding-left: 10px; margin-top: 5px;\">Evacuation Orders and Alerts</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(evac.dateModified)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Agency: </span>\n                  <span class=\"item-content\">{{evac.issuingAgency}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Status: </span>\n                  <span class=\"item-content\">{{evac.orderAlertStatus}}</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(evac.centroid.y, evac.centroid.x)}} km from My Location</span>\n              </div>\n            </div>\n          </mat-expansion-panel-header>\n          <div [id]=\"'evac-' + evac.emrgOAAsysID\" class=\"mini-map\"></div>\n        </mat-expansion-panel>\n\n        <mat-expansion-panel (opened)=\"createMap('ban-' + ban.protBsSysID, ban, 'ban')\" [expanded]=\"false\" *ngFor=\"let ban of bansAndProhibitions\">\n          <mat-expansion-panel-header class=\"exp-panel\">\n            <div class=\"notice-item\">\n              <div class=\"item-header\" style=\"background: url('../../../assets/images/external-link.svg') center right no-repeat; background-size: 18px;\" (click)=\"openBcGovGuide()\">{{ban.type}}</div>\n              <span class=\"label\"><wf-icon class=\"icon\" iconName=\"block\" iconSize=\"small\"></wf-icon><span style=\"padding-left: 10px; margin-top: 5px;\">Bans and Prohibitions</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(ban.accessStatusEffectiveDate)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Fire Centre: </span>\n                  <span class=\"item-content\">{{ban.fireCentre}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Restrictions: </span>\n                  <span class=\"item-content\">{{convertRestriction(ban.accessProhibitionDescription)}}</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(ban.centroid.y, ban.centroid.x)}} km from My Location</span>\n              </div>\n          </div>\n        </mat-expansion-panel-header>\n        <div [id]=\"'ban-' + ban.protBsSysID\" class=\"mini-map\"></div>\n      </mat-expansion-panel>\n      <mat-expansion-panel (opened)=\"createMap('area-' + area.protRsSysID, area, 'area')\" [expanded]=\"false\" *ngFor=\"let area of areaRestrictions\">\n        <mat-expansion-panel-header class=\"exp-panel\">\n          <div class=\"notice-item\">\n              <div class=\"item-header\">{{area.name}} </div>\n              <span class=\"label\"><span class=\"icon signpost mat-icon\"></span><span style=\"padding-left: 10px;\">Area Restrictions</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(area.accessStatusEffectiveDate)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Fire Centre: </span>\n                  <span class=\"item-content\">{{area.fireCentre}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Status: </span>\n                  <span class=\"item-content\">Active</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(area.centroid.y, area.centroid.x)}} km from My Location</span>\n              </div>\n          </div>\n        </mat-expansion-panel-header>\n        <div [id]=\"'area-' + area.protRsSysID\" class=\"mini-map\"></div>\n      </mat-expansion-panel>\n    </div>\n  </div>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport class DialogData {\n    public title: string;\n    public message: string;\n}\n\n@Component({\n    selector: 'disclaimer-dialog',\n    templateUrl: 'disclaimer-dialog.component.html',\n    styleUrls: ['./disclaimer-dialog.component.scss']\n})\nexport class DisclaimerDialogComponent {\n    dontShowAgain = false;\n\n    constructor(\n        public dialogRef: MatDialogRef<DisclaimerDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: any\n    ) {\n    }\n\n    cancel() {\n        this.dialogRef.close({dontShowAgain: this.dontShowAgain})\n    }\n\n}\n","<ng-container>\n    <div class=\"dialog-container\">\n        <div class=\"header\">\n            <div class=\"pm-logo\">\n                <img src=\"/assets/images/logo/bcwfservice-logo.png\" width=\"160\" height=\"60\" alt=\"image\">\n            </div>\n        </div>\n        <div class=\"dialog-content\" mat-dialog-content>\n            <div class=\"panel\">\n                <div class=\"disclaimer-content\">\n                    <span>BC Wildfire Service Disclaimer.</span>\n                    <div class=\"text\">\n                        <div>The wildfire incident data described below is updated when practicable and the occurrence of individual fire updates will vary.  The information is intended for general purposes only and should not be relied on as accurate, because fires are dynamic and circumstances may change quickly. This map was designed to keep people in B.C. informed about the current wildfire situation. It is not intended to be used as a risk assessment tool for insurance purposes.</div>\n\n                        <div>Wildfire perimeters for the current fire season, including both active fires and fires that have been declared out, are obtained from various sources. When data becomes available, it is refreshed from operational systems every five minutes to the public map.  The levels of current fire activity within the mapped fire perimeters can vary widely, so therefore the data may not reflect the current fire situation. This information should only be used for reference purposes. In the event that the fire perimeters overlay areas where private property or infrastructure is present, the perimeters do not indicate what level of damage (if any) may have occurred.</div> \n\n                        <div>The Province receives Evacuation Orders and Alerts information from local governments and First Nations when it becomes available. The BC Wildfire Service and GeoBC make no warranties or guarantees, either expressed or implied, as to the completeness, accuracy or correctness of the data, nor accept any liability arising from any incorrect, incomplete or misleading information contained therein. Emergency data may not reflect the current emergency situation, and therefore should only be used for reference purposes. \n                            <b>For the latest Evacuation Orders and Alerts information, please consult the appropriate local government. For further information regarding the Evacuation Orders and Alerts data, please contact the individual(s) identified in the </b>\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/7efd46d0-b5d3-4dff-af80-d376c42aec33\" target=\"_blank\" rel=\"noopener\">\n                                data catalogue.\n                            </a>\n                        </div>\n\n                        <div>Fire prohibitions and restrictions apply to all public and private land, unless specified otherwise (in a local government bylaw, for example). Please check with local government authorities for any other restrictions before lighting any fire. The \"Fire Danger Rating\" layer on this map is intended for general information only and should not be relied on as accurate for a specific location due to variability in local site and weather conditions. Information is updated on a daily basis as soon as is practicable. Where discrepancies exist between this layer and the source information located on the \n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger\" target=\"_blank\" rel=\"noopener\">\n                                Fire Danger Rating\n                            </a>\n                            webpage, the source information shall take precedence.  For regulated forest operations, the danger class value must be derived from weather data representative of the site on which operations are being conducted. Where discrepancies exist between the colour display on the weather maps and the numerical values posted for the weather stations, the posted numerical values shall take precedence .</div> \n\n                        <div>More information regarding the\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/ofts\" target=\"_blank\" rel=\"noopener\">\n                                Open Fire Tracking System \n                            </a>\n                            (OFTS),\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention/for-industry-commercial-operators/hazard-assessment-abatement\" target=\"_blank\" rel=\"noopener\">\n                                Fuel Hazard Assessment and Abatement,\n                            </a>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention/vegetation-and-fuel-management/prescribed-burning\" target=\"_blank\" rel=\"noopener\">\n                                Prescribed Burning,\n                            </a>\n                            and\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger/fire-weather\" target=\"_blank\" rel=\"noopener\">\n\n                                Weather Stations\n                            </a>\n                            can be found on the corresponding webpages.</div> \n\n                        <div>Coordinates provided within the datasets are approximate (based on information provided by outside sources and agencies) and are updated when practicable. The actual extent of wildfires and treatment areas may be different than what is indicated by the provided coordinates.</div> \n\n                        <div>\n                            - Data Catalogue:\n                        </div>\n                        <div style=\"padding-left: 1rem\">\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/2790e3f7-6395-4230-8545-04efb5a18800\" target=\"_blank\" rel=\"noopener\">\n                            - Fire Points\n                            </a>\n                        </div>\n                        <div style=\"padding-left: 1rem\">\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/cdfc2d7b-c046-4bf0-90ac-4897232619e1\" target=\"_blank\" rel=\"noopener\">\n                            - Fire Perimeters\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.drivebc.ca/\" target=\"_blank\" rel=\"noopener\">\n                            -         DriveBC\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">\n                            -         EmergencyInfoBC\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/data/geographic-data-services/web-based-mapping/agol/terms-of-use\" target=\"_blank\" rel=\"noopener\">\n                            -         B.C. Map Hub Terms of Use\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status\" target=\"_blank\" rel=\"noopener\">\n                                https://www2.gov.bc.ca/gov/content/safety/wildfire-status\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\">\n                                https://www.facebook.com/BCForestFireInfo/\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://twitter.com/BCGovFireInfo\" target=\"_blank\" rel=\"noopener\">\n                                https://twitter.com/BCGovFireInfo\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://firesmartbc.ca/\" target=\"_blank\" rel=\"noopener\">\n                                https://firesmartbc.ca/\n                            </a>\n                        </div>\n\n                        To report a wildfire, call 1 800 663-5555 toll-free OR *5555 on most cellular networks. \n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class=\"button-wrapper\">\n            <mat-checkbox [(ngModel)]=\"dontShowAgain\" style=\"flex: 1; text-align: left;\">Don't show again</mat-checkbox>\n            <button mat-raised-button color=\"primary\" class=\"cancel-button\" (click)=\"cancel()\" >OK</button>\n        </div>\n    </div>\n</ng-container>","import {AfterViewInit, Component} from \"@angular/core\";\nimport { AppConfigService } from \"@wf1/core-ui/public_api\";\nimport {BaseComponent} from \"../base/base.component\";\n\n@Component({\n  selector: 'wfnews-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: ['./error-page.component.scss']\n})\nexport class ErrorPageComponent extends BaseComponent implements AfterViewInit {\n  appConfig: AppConfigService\n}","<div class=\"unauthorized-page\">\n  <div>\n    <h1>WFNEWS Error Page</h1>\n  </div>\n  <div>\n    <h2 style=\"color:red\">You do not have sufficient permissions to access this application</h2>\n  </div>\n</div>","import { ChangeDetectorRef, Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { convertToFireCentreDescription, ResourcesRoutes, convertFireNumber } from '../../utils';\n\n\n@Component({\n    selector: 'incident-identify-panel',\n    templateUrl: './incident-identify-panel.component.html',\n    styleUrls: ['./incident-identify-panel.component.scss'],\n})\nexport class IncidentIdentifyPanelComponent {\n  public incident: any\n  public evacOrders : EvacOrderOption[] = []\n  public loaded = false\n  public failedToLoad = false\n\n  public featureSet\n  public identifiedFeatures = []\n  public index = 0\n  convertToFireCentreDescription = convertToFireCentreDescription\n  convertFireNumber = convertFireNumber\n\n  constructor (protected cdr: ChangeDetectorRef,\n               private agolService: AGOLService,\n               private publishedIncidentService: PublishedIncidentService,\n               private router: Router,\n               private watchlistService: WatchlistService,\n               private mapConfigService: MapConfigService,\n               ) {}\n\n  // if we want the \"next\" functionality, pass in the identify set\n  async setIncident (incidentRef, identifyList, setIndex = true) {\n    this.loaded = false;\n    this.featureSet = identifyList;\n    // clear the feature list\n    this.identifiedFeatures = [];\n    let count = 1 // index counter for the next/previous buttons\n    for (const fid in identifyList) {\n      if (Object.prototype.hasOwnProperty.call(identifyList, fid)) {\n        const feature = identifyList[fid];\n        if (['active-wildfires-fire-of-note', 'active-wildfires-out-of-control', 'active-wildfires-holding', 'active-wildfires-under-control', 'bcws-activefires-publicview-inactive'].includes(feature.layerId)) {\n          this.identifiedFeatures.push(feature)\n          // if we want to reset the index, we need to compare the input feature ID to the identified feature ID\n          if (setIndex) {\n            const sourceId = feature.properties.FIRE_NUMBER ? feature.properties.FIRE_NUMBER : feature.properties.incident_number_label\n            const compareId = incidentRef.FIRE_NUMBER ? incidentRef.FIRE_NUMBER : incidentRef.incident_number_label\n            if (sourceId && compareId && sourceId === compareId) {\n              this.index = count;\n            }\n            count++;\n          }\n        }\n      }\n    }\n\n    // get the fire number, either from a perimeter or active fire feature\n    const id = incidentRef.FIRE_NUMBER ? incidentRef.FIRE_NUMBER : incidentRef.incident_number_label\n    const year = incidentRef.fire_year\n\n    this.publishedIncidentService.fetchPublishedIncident(id, year).toPromise().then(async result => {\n      this.incident = result;\n\n      this.incident.geometry = {\n        x: result.longitude,\n        y: result.latitude\n      };\n\n      // date formatting\n      const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n      this.incident.discoveryDate = this.incident.discoveryDate? new Date(this.incident.discoveryDate).toLocaleTimeString(\"en-US\", options) : 'Pending';\n      this.incident.declaredOutDate = this.incident.declaredOutDate ? new Date(this.incident.declaredOutDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n      this.incident.lastUpdatedTimestamp = this.incident.lastUpdatedTimestamp ? new Date(this.incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options) : 'Pending';\n\n      // load evac orders nearby\n      await this.getEvacOrders().catch(e => console.error(e))\n      await this.getExternalUriEvacOrders().catch(e => console.error(e))\n      // then, set loaded to true and refresh the page\n      this.loaded = true;\n\n      this.cdr.detectChanges();\n    }).catch(err => {\n      console.error('Failed to load Fire Info', err);\n      this.loaded = true;\n      this.failedToLoad = true;\n    });\n  }\n\n  close () {\n    (document.getElementsByClassName('incident-details').item(0) as HTMLElement).remove();\n    (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n  }\n\n  goToIncidentDetail () {\n    // this.router.navigate([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { incidentNumber: this.incident.incidentNumberLabel } })\n    const url = this.router.serializeUrl(\n      this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: this.incident.fireYear, incidentNumber: this.incident.incidentNumberLabel } })\n    )\n    window.open(url, '_blank')\n  }\n\n  next () {\n    this.index = this.index + 1;\n    if (this.index > this.identifiedFeatures.length) {\n      this.index = 1;\n    }\n\n    this.setIncident(this.identifiedFeatures[this.index - 1].properties, this.featureSet, false).catch(e => console.error(e))\n  }\n\n  previous () {\n    this.index = this.index - 1;\n    if (this.index <= 0) {\n      this.index = this.identifiedFeatures.length;\n    }\n\n    this.setIncident(this.identifiedFeatures[this.index - 1].properties, this.featureSet, false).catch(e => console.error(e))\n  }\n\n  onWatchlist (): boolean {\n    return this.watchlistService.getWatchlist().includes(this.incident.fireYear + ':' + this.incident.incidentNumberLabel)\n  }\n\n  addToWatchlist () {\n    this.watchlistService.saveToWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist () {\n    this.watchlistService.removeFromWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  getEvacOrders () {\n    return this.agolService.getEvacOrdersByEventNumber(this.incident.incidentNumberLabel, { returnCentroid: true, returnGeometry: false}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n\n  async getExternalUriEvacOrders () {\n    return this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.evacOrders.push({\n              eventName: uri.externalUriDisplayLabel,\n              eventType: uri.externalUriCategoryTag.split(':')[1],\n              orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n              issuingAgency: 'Pending',\n              preOcCode: 'NA',\n              emrgOAAsysID: 0,\n              uri: uri.externalUri,\n              centroid: [0, 0]\n            })\n          }\n        }\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  ZoomIn() {\n    const long = Number(this.incident.longitude);\n    const lat = Number(this.incident.latitude);\n\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([long, lat]), 15)\n    })\n\n  }\n}\n","<div *ngIf=\"!loaded\" class=\"loading-spinner\">\n  <mat-spinner [diameter]=\"40\"></mat-spinner>\n</div>\n<div class=\"incident-details\" *ngIf=\"loaded && failedToLoad\">\n  <div class=\"header\">\n    <div class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em title=\"Close Panel\" (click)=\"close()\" class=\"material-icons button\">close</em></div></div>\n  </div>\n  <div class=\"loading-spinner\">\n    <div>The Incident could not be found.</div>\n  </div>\n</div>\n<div class=\"incident-details\" *ngIf=\"loaded && !failedToLoad\">\n  <div class=\"header\">\n    <div class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em title=\"Close Panel\" (click)=\"close()\" class=\"material-icons button\">close</em></div></div>\n    <button class=\"zoom-to-button\"(click)=\"ZoomIn()\">Zoom to</button>\n    <div *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em (click)=\"next()\" class=\"button material-icons\">navigate_next</em></div></div>\n    <span *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-position\" style=\"margin-top: 6px;\">{{identifiedFeatures.length}}</span> <span *ngIf=\"identifiedFeatures.length > 1\" style=\"margin-top: 5px;\">of</span> <span *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-position\" style=\"margin-top: 6px;\">{{index}}</span>\n    <div *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em (click)=\"previous()\" class=\"button material-icons\">navigate_before</em></div></div>\n  </div>\n  <div class=\"title-bar\">\n    <div class=\"title\">{{incident.incidentName}} <span *ngIf=\"incident.fireOfNoteInd\" #el class=\"fire-icon-container\"><img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\"></span> <span #el style=\"cursor: pointer;\" (click)=\"onWatchlist() ? removeFromWatchlist() : addToWatchlist()\"><mat-icon style=\"color:#1A5A96\">{{onWatchlist() ? 'bookmark' : 'bookmark_border'}}</mat-icon></span></div>\n    <div class=\"subtitle\"><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres\" rel=\"noopener\" target=\"_blank\">{{convertToFireCentreDescription(incident.fireCentreName || incident.fireCentre || incident.fireCentreCode)}}</a></div>\n  </div>\n  <div class=\"nav-button\" *ngIf=\"incident.stageOfControlCode !== 'OUT'\">\n    <button style=\"background: #1a5a96; color: white;\" mat-button color=\"primary\" (click)=\"goToIncidentDetail()\">Full Incident Details</button>\n  </div>\n  <div class=\"info-panel\">\n    <div><span class=\"label\">Fire Number: </span><span class=\"paragraph-format\">{{convertFireNumber(incident)}}</span></div>\n    <div><span class=\"label\">Last Updated: </span><span class=\"paragraph-format\">{{incident.lastUpdatedTimestamp}}</span></div>\n    <div><span class=\"label\">Discovered On: </span><span class=\"paragraph-format\">{{incident.discoveryDate}}</span></div>\n    <div *ngIf=\"incident.stageOfControlCode === 'OUT'\"><span class=\"label\">Declared Out: </span><span>{{incident.declaredOutDate}}</span></div>\n  </div>\n  <div class=\"divider\"></div>\n  <div class=\"info-panel\">\n    <div class=\"gutter\"><span class=\"label\">Size: </span><span class=\"paragraph-format\">{{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares</span></div>\n    <div class=\"paragraph-format\">{{incident.incidentSizeDetail || 'Fire size is estimated and based on the most current information available.'}}</div>\n    <div *ngIf=\"incident.incidentLocation\">\n      <div class=\"gutter\"><span class=\"label\">Location</span></div>\n      <div class=\"paragraph-format\">{{incident.incidentLocation}}</div>\n    </div>\n    <div *ngIf=\"incident.traditionalTerritoryDetail\">\n      <div class=\"gutter\"><span class=\"label\">Traditional Territory</span></div>\n      <div class=\"paragraph-format\">{{incident.traditionalTerritoryDetail}}</div>\n    </div>\n  </div>\n  <!-- Evac Orders-->\n  <div *ngIf=\"evacOrders.length > 0\" class=\"divider\"></div>\n  <div style=\"padding-top: 7px;\" *ngIf=\"evacOrders.length > 0\">\n    <h4>Active Evacuation Orders and Alerts</h4>\n    <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n      <mat-icon [class]=\"evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" style=\"text-decoration: none;\">{{ evac.orderAlertStatus === 'Alert' ? 'warning' : 'error' }} </mat-icon>\n      <a *ngIf=\"evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" [href]=\"evac.uri\" target=\"_blank\" rel=\"noopener\">{{ evac.orderAlertStatus }}: {{evac.eventName}}</a>\n      <div *ngIf=\"!evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\">{{ evac.orderAlertStatus }}: {{evac.eventName}}</div>\n      <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n    </div>\n  </div>\n  <div class=\"divider\"></div>\n  <!-- Response Icons-->\n  <div *ngIf=\"incident.fireOfNoteInd && (incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd)\">\n    <h4>Current Resources on Response</h4>\n    <div class=\"icon-bar\">\n      <div *ngIf=\"incident.wildfireCrewResourcesInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n        <div class=\"image-label\">Wildfire Crews</div>\n      </div>\n      <div *ngIf=\"incident.wildfireAviationResourceInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n        <div class=\"image-label\">Aviation</div>\n      </div>\n      <div *ngIf=\"incident.incidentMgmtCrewRsrcInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Incident Management Team\" />\n        <div class=\"image-label\">Incident Management Team</div>\n      </div>\n      <div *ngIf=\"incident.heavyEquipmentResourcesInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Heavy Equipment\" />\n        <div class=\"image-label\">Heavy Equipment</div>\n      </div>\n      <div *ngIf=\"incident.structureProtectionRsrcInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Structure Protection\" />\n        <div class=\"image-label\">Structure Protection</div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport class DialogData {\n    public title: string;\n    public message: string;\n}\n\n@Component({\n    selector: 'message-dialog',\n    templateUrl: 'message-dialog.component.html',\n    styleUrls: ['./message-dialog.component.scss']\n})\nexport class MessageDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<MessageDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"error-dialog\">\n  <h1>{{data.title}}</h1>\n\t<div class=\"message\">\n\t\t<strong>{{data.message}}</strong>\n\t</div>\n  <div mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\">Ok</button>\n\t  <button mat-raised-button color=\"warn\" [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AreaRestrictionsOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { snowPlowHelper } from '../../utils';\nimport L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'panel-area-restrictions',\n    templateUrl: './panel-area-restrictions.component.html',\n    styleUrls: ['./panel-area-restrictions.component.scss'],\n})\nexport class PanelAreaRestrictionsComponent implements OnInit {\n  areaRestrictions : AreaRestrictionsOption[] = []\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(private agolService: AGOLService,\n              private mapConfigService: MapConfigService,\n              private appConfigService: AppConfigService,\n              private router: Router) {\n  }\n\n  ngOnInit() {\n    this.getAreaRestrictions();\n  }\n\n  zoomToArea (area) {\n    this.snowplow('area_restriction_map_click', `${area.protRsSysID}:${area.name}`)\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([area.centroid.x, area.centroid.y]), 10)\n\n      const map = viewer.map;\n      let latlngPoint = new L.LatLng(area.centroid.y, area.centroid.x);\n      map.fireEvent('click', {\n        latlng: latlngPoint,\n        layerPoint: map.latLngToLayerPoint(latlngPoint),\n        containerPoint: map.latLngToContainerPoint(latlngPoint)\n      });\n\n      setTimeout(() => {\n        for (const set in viewer.identified.featureSet) {\n          if (Object.prototype.hasOwnProperty.call(viewer.identified.featureSet, set)) {\n            const feature = viewer.identified.featureSet[set]\n            if (feature.type === 'Feature' && feature.layerId === 'area-restrictions') {\n              viewer.identified.pick(feature.id)\n              break;\n            }\n          }\n        }\n      }, 1000)\n      viewer.identified.remove('weather-stations')\n    })\n  }\n\n  async snowplow (action: string, link: string) {\n    const url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(url, {\n      action: action,\n      text: link\n    })\n  }\n\n  getAreaRestrictions () {\n    this.agolService.getAreaRestrictions(null, { returnCentroid: true, returnGeometry: false}).subscribe(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.areaRestrictions.push({\n            protRsSysID: element.attributes.PROT_RA_SYSID,\n            name: element.attributes.NAME,\n            accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n            fireCentre: element.attributes.FIRE_CENTRE_NAME,\n            fireZone: element.attributes.FIRE_ZONE_NAME,\n            bulletinUrl: element.attributes.BULLETIN_URL,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n}\n","<div class=\"panel-header\">Area Restrictions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"black\">Area Restrictions</h2>\n      <h3>Forest Use Restrictions</h3>\n      <p class=\"paragraph-format\">\n        Forest Use Restrictions refer to area closures or restrictions and activity restrictions necessary or desirable to limit the risk of a fire, to address a public safety concern, or to avoid interference with fire control.\n      </p>\n      <h3>Regulations</h3>\n      <p class=\"paragraph-format\">\n        A person must not remain in or enter the restricted area without the prior written authorization of an official designated for the purposes of the Wildfire Act, unless the person enters the area only in the course of:\n      </p>\n      <div class=\"list-rows paragraph-format\">\n        <ul>\n          <li>Travelling to or from his or her residence;</li>\n          <li>Using a highway as defined in the transportation act;</li>\n          <li>Travelling through or entering the area as a person acting in an official capacity that is connected or involved in incident operations; or</li>\n          <li>Travelling through or entering the area for a purpose approved by an official of supporting wildfire suppression activities</li>\n        </ul>\n      </div>\n    </article>\n</section>\n<section>\n  <h1>CURRENT AREA RESTRICTIONS</h1>\n  <article>\n    <div class=\"restriction-list\" *ngFor=\"let area of areaRestrictions\">\n      <div class=\"label\" (mouseup)=\"zoomToArea(area)\">{{area.name}}</div>\n      <div *ngIf=\"area.bulletinUrl\" style=\"margin-left: auto;\"><a (click)=\"snowplow('area_restriction_outbound_click', area.bulletinUrl)\" [href]=\"area.bulletinUrl\"><mat-icon>link</mat-icon></a></div>\n    </div>\n    <div *ngIf=\"areaRestrictions.length === 0\" class=\"paragraph-format\">There are no current Area Restrictions</div>\n  </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions')\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\" target=\"_blank\" rel=\"noopener\">Current Restrictions Information</a></p>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'http://www.sitesandtrailsbc.ca/closures.aspx')\" href=\"http://www.sitesandtrailsbc.ca/closures.aspx\" target=\"_blank\" rel=\"noopener\">Recreation Sites and Trails Closures</a></p>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'https://bcparks.ca/wildfire/')\" href=\"https://bcparks.ca/wildfire/\" target=\"_blank\" rel=\"noopener\">BC Parks Closures</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-bans-prohibitions',\n    templateUrl: './panel-bans-prohibitions.component.html',\n    styleUrls: ['./panel-bans-prohibitions.component.scss'],\n})\nexport class PanelBansAndProhibitionsComponent {\n\n}\n","<div class=\"panel-header\">Bans and Prohibitions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <h2 class=\"yellow\">Bans and Prohibitions</h2>\n        <h3>Category 3 Open Fires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>Any fire larger than 2 metres high and 3 metres wide</li>\n            <li>3 or more concurrently burning piles each no larger than 2 metres high and 3 metres wide</li>\n            <li>1 or more burning windrows</li>\n            <li>Stubble or grass burning over an area greater than 0.2 hectares</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/Category 3 Image.svg\" alt=\"Category 3\" />\n        </div>\n        <h3>Category 2 Open Fires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>1 to 2 concurrently burning piles each no larger than 2 metres high and 3 metres wide</li>\n            <li>Stubble or grass burning over an area greater than 0.2 hectares</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/Category 2 Size.svg\" alt=\"Category 2\" />\n        </div>\n        <h3>Category 1 Campfires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>Any fire smaller than 0.5 metres high by 0.5 metres wide</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/CampFireSize.svg\" alt=\"Campfire Size\" />\n        </div>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\" target=\"_blank\" rel=\"noopener\">Current Fire Bans and Restrictions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\" target=\"_blank\" rel=\"noopener\">Learn more about Forest Use Restrictions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/open-burning\" target=\"_blank\" rel=\"noopener\">Learn more about Open Burning</a></p>\n    </article>\n</section>\n","import { Component, OnInit } from '@angular/core';\nimport { EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { snowPlowHelper } from '../../utils';\nimport L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'panel-evacuation-orders-and-alerts',\n    templateUrl: './panel-evacuation-orders-and-alerts.component.html',\n    styleUrls: ['./panel-evacuation-orders-and-alerts.component.scss'],\n})\nexport class PanelEvacuationOrdersAndAlertsComponent implements OnInit {\n  public evacOrders : EvacOrderOption[] = []\n\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(private agolService: AGOLService,\n              private mapConfigService: MapConfigService,\n              private appConfigService: AppConfigService,\n              private router: Router) {\n  }\n\n  ngOnInit() {\n    this.getEvacOrders();\n  }\n\n  async snowplow (action: string, link: string, area: string | null = null) {\n    const url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    const snowPlowPackage = {\n      action: action.toLowerCase(),\n      text: link\n    }\n\n    if (area) {\n      snowPlowPackage['area'] = area\n    }\n\n    this.snowPlowHelper(url, snowPlowPackage)\n  }\n\n  zoomToEvac (evac) {\n    this.snowplow(`${evac.orderAlertStatus}_list_click`, `${evac.emrgOAAsysID}:${evac.eventName}`, evac.issuingAgency)\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([evac.centroid.x, evac.centroid.y]), 10)\n\n      const map = viewer.map;\n      let latlngPoint = new L.LatLng(evac.centroid.y, evac.centroid.x);\n      map.fireEvent('click', {\n        latlng: latlngPoint,\n        layerPoint: map.latLngToLayerPoint(latlngPoint),\n        containerPoint: map.latLngToContainerPoint(latlngPoint)\n      });\n\n      setTimeout(() => {\n        for (const set in viewer.identified.featureSet) {\n          if (Object.prototype.hasOwnProperty.call(viewer.identified.featureSet, set)) {\n            const feature = viewer.identified.featureSet[set]\n            if (feature.type === 'Feature' && feature.layerId === 'evacuation-orders-and-alerts-wms' && feature.properties.ISSUING_AGENCY === evac.issuingAgency) {\n              viewer.identified.pick(feature.id)\n              break;\n            }\n          }\n        }\n      }, 1000)\n      viewer.identified.remove('weather-stations')\n    })\n  }\n\n  getEvacOrders () {\n    this.agolService.getEvacOrders(null, { returnCentroid: true, returnGeometry: false}).subscribe(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n}\n","<div class=\"panel-header\">Evacuation Orders and Alerts</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <h2 class=\"orange\">Evacuation Alert</h2>\n        <p class=\"paragraph-format\">\n            An Evacuation Alert is a warning about a potential threat to life and/or property.\n            It is intended to give you time to be ready for a possible evacuation.\n            Residents will be given as much advance notice as possible prior to evacuation, however, you may receive limited notice due to changing conditions.\n        </p>\n    </article>\n    <article>\n        <h2 class=\"red\">Evacuation Order</h2>\n        <p class=\"paragraph-format\">\n            You are at risk.\n            Leave the area immediately.\n            You are encouraged to register all family members at the nearest reception centre so emergency responders know you are safe.\n        </p>\n    </article>\n</section>\n<section class=\"current-orders\">\n  <h1>CURRENT ORDERS / ALERTS</h1>\n  <article>\n    <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n      <div [ngClass]=\"evac.orderAlertStatus === 'Alert' ? 'status orange' : ' status red'\">{{evac.orderAlertStatus}}</div>\n      <div class=\"label\" (mouseup)=\"zoomToEvac(evac)\">{{evac.eventName}}</div>\n      <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n    </div>\n    <div *ngIf=\"evacOrders.length === 0\" class=\"paragraph-format\">There are no current Evacuation Orders or Alerts</div>\n  </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www.emergencyinfobc.gov.bc.ca/')\" href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">Current Evacuation Advisory Information</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance')\" href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance\" target=\"_blank\" rel=\"noopener\">Evacuee Guidance</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems')\" href=\"https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems\" target=\"_blank\" rel=\"noopener\">Local Government System in B.C</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts')\"href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts\" target=\"_blank\" rel=\"noopener\">B.C. Emergency Alerts</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-fire-danger',\n    templateUrl: './panel-fire-danger.component.html',\n    styleUrls: ['./panel-fire-danger.component.scss'],\n})\nexport class PanelFireDangerComponent {\n\n}\n","<div class=\"panel-header\">Fire Danger</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"red\">Extreme</h2>\n      <p class=\"paragraph-format\">\n        Extremely dry forest fuels and the fire risk is very serious. New fires will start easily, spread rapidly, and challenge fire suppression efforts. General forest activities may be restricted, including open burning, industrial activities and campfires\n      </p>\n      <h2 class=\"orange\">High</h2>\n      <p class=\"paragraph-format\">\n        Forest Fuels are very dry and the fire risk is serious. New fires may start easily, burn vigorously, and challenge fire suppression efforts. Extreme caution must be used in any forest activities. Open burning and industrial activities may be restricted.\n      </p>\n      <h2 class=\"yellow\">Moderate</h2>\n      <p class=\"paragraph-format\">\n        Forest fuels are drying and there is an increased risk of surface fires starting. Carry out any forest activities with caution.\n      </p>\n      <h2 class=\"green\">Low</h2>\n      <p class=\"paragraph-format\">\n        Fires may start easily and spread quickly but there will be minimal involvement of deeper fuel layers or larger fuels.\n      </p>\n      <h2 class=\"blue\">Very Low</h2>\n      <p class=\"paragraph-format\">\n        Dry forest fuels are at a very low risk of catching fire.\n      </p>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger \" target=\"_blank\" rel=\"noopener\">Learn more about Fire Danger Rating</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-local-authority',\n    templateUrl: './panel-local-authority.component.html',\n    styleUrls: ['./panel-local-authority.component.scss'],\n})\nexport class PanelLocalAuthorityComponent {\n\n}\n","<div class=\"panel-header\">Local Authorities</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <p class=\"paragraph-format\">\n        If a wildfire is directly threatening your community, the best information sources related to evacuations are your municipality, regional district, Indigenous community or local authority. Evacuation Alerts or Orders must be authorized and are implemented by local authorities.\n      </p>\n    </article>\n</section>\n<section>\n  <h1>MORE INFORMATION</h1>\n  <article>\n      <p><a href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">Current Evacuation Advisory Information</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance\" target=\"_blank\" rel=\"noopener\">Evacuee Guidance</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems\" target=\"_blank\" rel=\"noopener\">Local Government System in B.C</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts\" target=\"_blank\" rel=\"noopener\">B.C. Emergency Alerts</a></p>\n  </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-road-conditions',\n    templateUrl: './panel-road-conditions.component.html',\n    styleUrls: ['./panel-road-conditions.component.scss'],\n})\nexport class PanelRoadConditionsComponent {\n\n}\n","<div class=\"panel-header\">Current Road Conditions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"road-conditions\">Road Conditions</h2>\n      <p class=\"paragraph-format\">\n        Road conditions could include flooding, slippery sections and compact snow.\n      </p>\n      <h2 class=\"incidents\">Incidents</h2>\n      <p class=\"paragraph-format\">\n        Incidents affecting traffic such as a stalled vehicle, hydro lines down or a collision.\n      </p>\n      <h2 class=\"planned-events\">Current Planned Events</h2>\n      <p class=\"paragraph-format\">\n        Planned events that are presently in progress such as maintenance, construction or utility work.\n      </p>\n      <h2 class=\"future-events\">Future Planned Events</h2>\n      <p class=\"paragraph-format\">\n        Events scheduled to occur at a specific future time and location such as maintenance, construction work, special events, etc.\n      </p>\n      <h2 class=\"weather-conditions\">Weather Conditions</h2>\n      <p class=\"paragraph-format\">\n        Environment Canada Weather warnings and forecast information for a specific location.\n      </p>\n      <h2 class=\"major-severity-event\">Major Severity - Events or Incidents</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"major-severity-road-op\">Major Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"moderate-severity-road-op\">Moderate Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"minor-severity-road-op\">Minor Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n    </article>\n    <article>\n      <h2 class=\"curret-conditions\">Current Highway Conditions</h2>\n      <div class=\"conditions-content\">\n        <p class=\"phone\"></p><p class=\"paragraph-format\">1 800 550-4997</p>\n      </div>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www.drivebc.ca/#mapView&ll=53.461646%2C-119.621042&z=6\" target=\"_blank\" rel=\"noopener\">Drive BC Road Conditions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/industry/natural-resource-use/resource-roads/local-road-safety-information\" target=\"_blank\" rel=\"noopener\">Resource Road Safety Information</a></p>\n        <p><a href=\"https://www.tranbc.ca/current-travel-advisories/\" target=\"_blank\" rel=\"noopener\">TranBC: Current Road Advisories and Information</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-smoke-forecast',\n    templateUrl: './panel-smoke-forecast.component.html',\n    styleUrls: ['./panel-smoke-forecast.component.scss'],\n})\nexport class PanelSmokeForecastComponent {\n}\n","<div class=\"panel-header\">Smoke Forecast</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <img alt=\"Firesmoke Legend\" src=\"../../../assets/images/firesmoke-legend.png\" />\n        <h3>Smoke Forecast</h3>\n        <p class=\"paragraph-format\">\n          The unit of measure for our smoke forecasts is \"micrograms of PM2.5 per cubic meter (µg/m³)\" at ground level. PM2.5 (particulate matter 2.5) is fine inhalable particles that are 2.5 micrometers and smaller. PM2.5 poses the highest risk to health from smoke, and the Canadian Council of Ministers of the Environment (CCME) in their most recent air quality report has set the following standards for exposure to this carcinogen:\n        </p>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>27 µg/m³ (daily average),</li>\n            <li>8.8 µg/m³ (annual mean).</li>\n          </ul>\n        </div>\n        <h3>Wildfire Smoke and Your Health</h3>\n        <p class=\"paragraph-format\">\n          Forest fire smoke is a complex and dynamic mixture of gases and very small particles that can irritate the respiratory system and cause systemic inflammation.\n        </p>\n        <p>Advice to minimize health effects:</p>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>If you have a chronic condition, have rescue medication on hand at all times and a plan to follow if your rescue medication cannot bring your condition under control.</li>\n            <li>Look for indoor environments that might be less smoky, such as shopping malls, community centres and libraries.</li>\n            <li>Avoid physical exertion because the amount of smoke you breathe increases as your breathing rate increases.</li>\n            <li>Keep hydrated as it helps your body deal with inflammation.</li>\n          </ul>\n        </div>\n        <p class=\"paragraph-format\">\n          If you are feeling unwell, remember you can call 8-1-1, a free-of-charge provincial health information and advice phone line available in British Columbia. If you or a loved one is experiencing a medical emergency, please call 9-1-1.\n        </p>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/environment/air-land-water/air/air-quality/aqhi\" target=\"_blank\" rel=\"noopener\">BC Air Quality Health Index</a></p>\n        <p><a href=\"https://firesmoke.ca/forecasts/ \" target=\"_blank\" rel=\"noopener\">Smoke Forecast Map</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/air-quality\" target=\"_blank\" rel=\"noopener\">Wildfires and Air Quality</a></p>\n    </article>\n</section>\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { PanelWildfireStageOfControlComponent } from './panel-wildfire-stage-of-control.component';\n\n@Component({\n    selector: 'panel-wildfire-stage-of-control',\n    templateUrl: './panel-wildfire-stage-of-control.component.html',\n    styleUrls: [\n        '../common/base-collection/collection.component.scss',\n        './panel-wildfire-stage-of-control.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n\n})\nexport class PanelWildfireStageOfControlComponentDesktop extends PanelWildfireStageOfControlComponent {\n\n}\n","<mat-tab-group mat-stretch-tabs=\"false\" mat-align-tabs=\"center\" [(selectedIndex)]=\"tabIndex\" (selectedTabChange)=\"onTabChanged($event);\">\n        <mat-tab label=\"Legend\">\n            <div class=\"panel-header\">Wildfire Stages of Control</div>\n\n            <section>\n                <h1>LEGEND & DEFINITIONS</h1>\n                <article>\n                    <p class=\"paragraph-format\">\n                        The BC Wildfire Service uses stages of control to report on wildfire progress.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"black\">\n                        <div class=\"fire-icon-container\">\n                          <img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\">\n                        </div>\n                        Wildfire of Note\n                    </h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is highly visible or poses a potential threat to public safety.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"red\">Out of Control</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is continuing to spread and is not responding to suppression efforts.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"yellow\">Being Held</h2>\n                    <p class=\"paragraph-format\">\n                        A  wildfire that is not likely to spread beyond predetermined boundaries under current conditions.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"green\">Under Control</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that will not spread any further due to suppression efforts.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"grey\">Out</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is extinguished.  Suppression efforts are complete.\n                    </p>\n                </article>\n            </section>\n            <section>\n                <h1>MORE INFORMATION</h1>\n                <article>\n                    <p>\n                        <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies/stages-of-control\" target=\"_blank\" rel=\"noopener\">Wildfire Stages of Control</a>\n                    </p>\n                    <p>\n                        <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/plan-prepare-stay-informed\" target=\"_blank\" rel=\"noopener\">Plan, Prepare, Stay Informed</a>\n                    </p>\n                </article>\n            </section>\n        </mat-tab>\n    <mat-tab label=\"Wildfires List\">\n        <div class=\"wildfire-list-toggle-title\" style=\"display:flex\">\n            <div style=\"width: 80%\">Choose Wildfires to display</div>\n            <div>{{collection? collection.totalRowCount: 0}} Results</div>\n        </div>\n        <div class=\"wildfire-checkboxs\">\n            <mat-checkbox aria-label=\"active\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"activeWildfiresInd\">Active Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"out\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"outWildfiresInd\">Out Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"new\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"newFires\">New Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"fire-of-note\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"wildfiresOfNoteInd\">Wildfires of Note</mat-checkbox>\n        </div>\n        <div *ngIf=\"loading\">\n          <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n        </div>\n        <div *ngIf=\"!loading\">\n          <div *ngIf=\"collectionData\">\n            <div class = \"incident-item\" *ngFor=\"let incident of collectionData\" (click)=\"openPreview(incident)\" (mouseenter)=\"onPanelMouseEnter(incident)\" (mouseleave)=\"onPanelMouseExit(incident)\">\n              <mat-progress-bar [id]=\"incident.incidentName\" mode=\"determinate\" [value]=\"progressValues.get(incident.incidentName)\"></mat-progress-bar>\n              <div class=\"item-header\" style=\"color: #1a5a96\">{{incident.incidentName}}\n                <span #el style=\"cursor: pointer;\" (click)=\"onWatchlist(incident) ? removeFromWatchlist(incident) : addToWatchlist(incident)\" (click)=\"onClickBookmark($event)\">\n                    <mat-icon style=\"color:#1A5A96; vertical-align: middle;\">{{onWatchlist(incident) ? 'bookmark' : 'bookmark_border'}}</mat-icon>\n                </span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Last Updated: </span>\n                    <span class=\"item-content\">{{convertToDateWithDayOfWeek(incident.newsCreatedTimestamp)}}</span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Fire Centre: </span>\n                    <span class=\"item-content\">{{convertToFireCentreDescription(incident.fireCentreName || incident.fireCentre || incident.fireCentreCode)}}</span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Distance from My Location: </span>\n                    <span class=\"item-content\">{{calculateDistance(Number(incident.latitude), Number(incident.longitude))}} km</span>\n                </div>\n                <div class=\"tags\">\n                    <span *ngIf=\"incident.fireOfNoteInd\" class=\"wildifire-of-note-tag\">\n                        <span class='material-icons-outlined fire-icon' style=\"vertical-align:middle\">local_fire_department</span>\n                        Wildfire of Note\n                    </span>\n                    <span class=\"stage-of-control-status-indicator {{incident.stageOfControlCode}}\">\n                        <span class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                        {{convertToStageOfControlDescription(incident.stageOfControlCode)}}\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"bottom-summary flex-y-fixed\">\n          <div class=\"showing-summary\" style=\"flex: 75%;\">{{summaryString}}</div>\n          <span class=\"paging-control {{isFirstPage}}\" (click)=\"onPageChange(-1)\"><mat-icon>chevron_left</mat-icon>Back</span>\n          <span class=\"paging-control {{isLastPage}}\" (click)=\"onPageChange(0)\">Next<mat-icon>chevron_right</mat-icon></span>\n        </div>\n      </div>\n    </mat-tab>\n\n</mat-tab-group>\n<ng-template #listIdentifyContainer></ng-template>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class PanelWildfireStageOfControlComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): PanelWildfireStageOfControlComponentModel {\n        let clonedModel: PanelWildfireStageOfControlComponentModel = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { ChangeDetectorRef, ComponentFactoryResolver, ComponentRef, Directive, Injector, Input, NgZone, OnChanges, OnDestroy, OnInit, SimpleChanges, Type, ViewChild, ViewContainerRef } from '@angular/core';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { TokenService, AppConfigService } from '@wf1/core-ui';\nimport { PagedCollection } from '../../conversion/models';\nimport { ApplicationStateService } from '../../services/application-state.service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { haversineDistance } from '../../services/wfnews-map.service/util';\nimport { RootState } from '../../store';\nimport { searchWildfires } from '../../store/wildfiresList/wildfiresList.action';\nimport { LOAD_WILDFIRES_COMPONENT_ID } from '../../store/wildfiresList/wildfiresList.stats';\nimport { snowPlowHelper, convertToDateWithDayOfWeek as DateTimeConvert, convertToStageOfControlDescription as StageOfControlConvert, convertToFireCentreDescription } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { IncidentIdentifyPanelComponent } from '../incident-identify-panel/incident-identify-panel.component';\nimport { PanelWildfireStageOfControlComponentModel } from './panel-wildfire-stage-of-control.component.model';\nimport * as L from 'leaflet'\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { MatTabChangeEvent } from '@angular/material/tabs';\nconst delay = t => new Promise(resolve => setTimeout(resolve, t));\n\n@Directive()\nexport class PanelWildfireStageOfControlComponent extends CollectionComponent implements OnChanges, OnInit, OnDestroy {\n  @ViewChild('listIdentifyContainer', { read: ViewContainerRef }) listIdentifyContainer: ViewContainerRef;\n  @Input() collection: PagedCollection\n\n  public snowPlowHelper = snowPlowHelper\n\n  activeWildfiresInd = true;\n  outWildfiresInd = false;\n  wildfiresOfNoteInd = false;\n  newFires = false;\n  currentLat: number;\n  currentLong: number;\n\n  private zone: NgZone;\n  private componentRef: ComponentRef<any>;\n  private mapPanProgressBar;\n  private progressValues = new Map<string, number>();\n  private lastPanned = '';\n\n  private viewer\n  private map\n\n  private handlePanelEnterTimeout\n  private handlePanelExitTImeout\n  private markerAnimation\n  private highlightLayer\n  private initInterval\n  private mapEventDebounce\n  private ignorePan = true\n  private ignorePanDebounce\n\n  private marker: any\n  public isFirstPage: string;\n  public isLastPage: string;\n\n  public loading = true\n  public tabIndex = 0\n\n  public readonly url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n\n  public convertToDateWithDayOfWeek = DateTimeConvert;\n  public convertToStageOfControlDescription = StageOfControlConvert;\n  public convertToFireCentreDescription = convertToFireCentreDescription;\n\n  constructor(protected injector: Injector, protected componentFactoryResolver: ComponentFactoryResolver, router: Router, route: ActivatedRoute, sanitizer: DomSanitizer, store: Store<RootState>, fb: UntypedFormBuilder, dialog: MatDialog, applicationStateService: ApplicationStateService, tokenService: TokenService, snackbarService: MatSnackBar, overlay: Overlay, cdr: ChangeDetectorRef, appConfigService: AppConfigService, http: HttpClient, watchlistService: WatchlistService, commonUtilityService?: CommonUtilityService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService, commonUtilityService);\n    this.zone = this.injector.get(NgZone)\n  }\n\n  ngOnDestroy(): void {\n    const panel = document.getElementsByClassName('incident-details')\n    if (panel && panel.length !== 0) {\n      (panel.item(0) as HTMLElement).remove();\n    }\n\n    (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n\n    const SMK = window['SMK'];\n    for (const smkMap in SMK.MAP) {\n      if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n        if (this.highlightLayer && this.highlightLayer._leaflet_id) {\n          SMK.MAP[smkMap].$viewer.map.removeLayer(this.highlightLayer);\n        }\n      }\n    }\n\n    clearInterval(this.initInterval)\n    clearInterval(this.mapPanProgressBar)\n    clearInterval(this.markerAnimation)\n    clearTimeout(this.ignorePanDebounce)\n  }\n\n  initModels() {\n    this.model = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n    this.viewModel = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n  }\n\n  getViewModel(): PanelWildfireStageOfControlComponentModel {\n    return <PanelWildfireStageOfControlComponentModel>this.viewModel;\n  }\n\n  private mapEventHandler(ignorePan) {\n    if (!ignorePan) {\n      if (this.mapEventDebounce) {\n        clearTimeout(this.mapEventDebounce);\n        this.mapEventDebounce = null;\n      }\n      this.mapEventDebounce = setTimeout(() => {\n        if (this.tabIndex === 1) {\n          this.doSearch();\n        }\n      }, 500);\n    }\n  }\n\n  bindMapEvents() {\n    this.initInterval = setInterval(() => {\n      try {\n        const SMK = window['SMK'];\n        this.viewer = null;\n        for (const smkMap in SMK.MAP) {\n          if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n            this.viewer = SMK.MAP[smkMap].$viewer;\n          }\n        }\n        this.map = this.viewer.map;\n        if (!this.highlightLayer) {\n          this.highlightLayer = window['L'].layerGroup().addTo(this.map);\n          this.map.on('zoomend', () => {\n            this.mapEventHandler(false);\n          });\n          this.map.on('moveend', () => {\n            this.mapEventHandler(this.ignorePan);\n          });\n\n          console.warn('... Hooking list to map ...')\n          clearInterval(this.initInterval);\n          this.initInterval = null;\n          this.onChangeFilters();\n          this.doSearch();\n        }\n      } catch (err) {\n        console.warn('... Waiting on SMK init to hook map events ...')\n      }\n    }, 1000)\n  }\n\n  onTabChanged (event: MatTabChangeEvent) {\n    this.onChangeFilters();\n    this.doSearch();\n\n    this.snowPlowHelper(this.url, {\n      action: 'incident_tab_change',\n      text: `${event.index}:${event.tab.textLabel}`\n    })\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (changes.collection && changes.collection.currentValue) {\n      this.isFirstPage = null;\n      this.isLastPage = null;\n      let collection = changes.collection.currentValue;\n      if (collection.pageNumber === 1 && collection.pageNumber === collection.totalPageCount) {\n        //total results less than pageRowCount:10, no need for pagination\n        this.isFirstPage = 'FIRST';\n        this.isLastPage = 'LAST';\n      }\n      else if (collection.pageNumber === 1) {\n        //first page\n        this.isFirstPage = 'FIRST';\n        this.isLastPage = null;\n\n      }\n      else if (collection.pageNumber === collection.totalPageCount) {\n        //last page\n        this.isFirstPage = null;\n        this.isLastPage = 'LAST'\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.updateView();\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.componentId = LOAD_WILDFIRES_COMPONENT_ID\n    this.useMyCurrentLocation();\n    // trigger the bind events after a slight delay\n    // otherwise the interval for syncing with SMK\n    // won't always fire\n    setTimeout(() => {\n      this.bindMapEvents()\n    }, 3000)\n  }\n\n  async useMyCurrentLocation() {\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    if (location) {\n      this.currentLat = Number(location.coords.latitude);\n      this.currentLong = Number(location.coords.longitude);\n    }\n  }\n\n  doSearch() {\n    if (!this.activeWildfiresInd && !this.outWildfiresInd && !this.newFires && !this.wildfiresOfNoteInd) {\n      this.collectionData = []\n      this.collection = null\n      this.searchState = null\n      this.loading = false\n      this.summaryString = 'No records to display.'\n      this.isFirstPage = 'FIRST'\n      this.isLastPage = 'LAST'\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n      return;\n    }\n\n    let bbox = undefined\n    // Fetch the maps bounding box\n    this.loading = true\n    try {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      const map = viewer.map;\n      const bounds = map.getBounds();\n      bbox = `${bounds._northEast.lng},${bounds._northEast.lat},${bounds._southWest.lng},${bounds._southWest.lat}`\n      // this.onChangeFilters()  // why is this here? It will reset the pagination?!?\n    } catch (err) {\n      console.log('SMK initializing... wait to fetch bounds.')\n    }\n\n    // set stages of control to return\n    const stageOfControlList = []\n    if (this.outWildfiresInd) {\n      stageOfControlList.push('OUT')\n    }\n    if(this.activeWildfiresInd) {\n      stageOfControlList.push('OUT_CNTRL')\n      stageOfControlList.push('HOLDING')\n      stageOfControlList.push('UNDR_CNTRL')\n    }\n\n    // We use a boolean in the postgres model so this shouldn't be needed\n    //if(this.wildfiresOfNoteInd) {\n    //  stageOfControlList.push('FIRE_OF_NOTE')\n    //}\n\n    this.store.dispatch(searchWildfires(this.componentId, {\n      pageNumber: this.config.currentPage,\n      pageRowCount: 10,\n      sortColumn: this.currentSort,\n      sortDirection: this.currentSortDirection,\n      query: undefined\n    }, undefined, this.wildfiresOfNoteInd, stageOfControlList, this.newFires, bbox, this.displayLabel, undefined, undefined, undefined,\n      () => {\n        this.loading = false\n        this.cdr.detectChanges()\n      }));\n\n    // set a timeout to turn of the loading indicator\n    setTimeout(() => {\n      this.loading = false\n      this.cdr.detectChanges()\n    }, 5000)\n  }\n\n  stageOfControlChanges(event: MatCheckboxChange) {\n    this.snowPlowHelper(this.url, {\n      action: 'incident_list_options',\n      text: `${event.source.ariaLabel.toUpperCase()}-${event.checked}`\n    })\n    this.onChangeFilters()\n    this.doSearch()\n  }\n\n  calculateDistance(lat: number, long: number): string {\n    let result = '---';\n    if (lat && long && this.currentLat && this.currentLong) {\n      result = (haversineDistance(lat, this.currentLat, long, this.currentLong) / 1000).toFixed(2);\n    }\n    return result;\n  }\n\n  public Number(value: string): number {\n    return Number(value);\n  }\n\n  private handlePanelEnter(incident: any) {\n    // force an exit cleanup\n    this.onPanelMouseExit(null)\n    this.ignorePan = true\n    if (this.ignorePanDebounce) {\n      clearTimeout(this.ignorePanDebounce)\n      this.ignorePanDebounce = null\n    }\n\n    const SMK = window['SMK'];\n    this.viewer = null;\n    for (const smkMap in SMK.MAP) {\n      if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n        this.viewer = SMK.MAP[smkMap].$viewer;\n      }\n    }\n    this.map = this.viewer.map;\n\n    if (this.lastPanned !== incident.incidentName) {\n      this.progressValues.set(incident.incidentName, 0);\n      this.mapPanProgressBar = setInterval(() => {\n        this.progressValues.set(incident.incidentName, this.progressValues.get(incident.incidentName) + 10);\n        if (this.progressValues.get(incident.incidentName) >= 100) {\n          this.lastPanned = incident.incidentName\n          this.viewer.panToFeature(window['turf'].point([incident.longitude + 1, incident.latitude]), this.map._zoom);\n          clearInterval(this.mapPanProgressBar);\n          this.mapPanProgressBar = null;\n        }\n        this.cdr.detectChanges();\n      }, 100);\n    }\n\n    this.addMarker(incident);\n  }\n\n  private addMarker(incident: any) {\n    const pointerIcon = L.divIcon({\n      iconSize: [20, 20],\n      iconAnchor: [12, 12],\n      popupAnchor: [10, 0],\n      shadowSize: [0, 0],\n      className: 'animated-icon'\n    });\n\n    if (this.marker) {\n      this.marker.remove()\n      this.marker = null\n    }\n\n    this.marker = L.marker([Number(incident.latitude), Number(incident.longitude)], { icon: pointerIcon })\n    this.marker.on('add', function () {\n      const icon: any = document.querySelector('.animated-icon')\n\n      if (incident.fireOfNoteInd) {\n        icon.style.backgroundColor = '#aa0d0d'\n      } else if (incident.stageOfControlCode === 'OUT_CNTRL') {\n        icon.style.backgroundColor = '#FF0000'\n      } else if (incident.stageOfControlCode === 'HOLDING') {\n        icon.style.backgroundColor = '#FFFF00'\n      } else if (incident.stageOfControlCode === 'UNDR_CNTRL') {\n        icon.style.backgroundColor = '#98E600'\n      }\n\n      if (this.markerAnimation) {\n        clearInterval(this.markerAnimation)\n      }\n\n      this.markerAnimation = setInterval(() => {\n        icon.style.width = icon.style.width === \"10px\" ? \"20px\" : \"10px\"\n        icon.style.height = icon.style.height === \"10px\" ? \"20px\" : \"10px\"\n        icon.style.marginLeft = icon.style.width === \"20px\" ? '-10px' : '-5px'\n        icon.style.marginTop = icon.style.width === \"20px\" ? '-10px' : '-5px'\n        icon.style.boxShadow = icon.style.width === \"20px\" ? '4px 4px 4px rgba(0, 0, 0, 0.65)' : '0px 0px 0px transparent'\n      }, 1000)\n    })\n    this.marker.addTo(this.map)\n  }\n\n  onPanelMouseEnter(incident: any) {\n    if (this.map) {\n      // clear any existing timer\n      if (this.handlePanelEnterTimeout) {\n        clearTimeout(this.handlePanelEnterTimeout)\n      }\n\n      // debounce on mouse enter\n      this.handlePanelEnterTimeout = setTimeout(() => {\n        this.handlePanelEnter(incident)\n      }, 500)\n    }\n  }\n\n  onPanelMouseExit(incident: any) {\n    if (this.handlePanelEnterTimeout) {\n      clearTimeout(this.handlePanelEnterTimeout)\n    }\n    if (this.mapPanProgressBar) {\n      clearInterval(this.mapPanProgressBar);\n      this.mapPanProgressBar = null;\n    }\n    if (this.markerAnimation) {\n      clearInterval(this.markerAnimation)\n    }\n    if (incident) {\n      this.progressValues.set(incident.incidentName, 0);\n    } else {\n      for (const key of this.progressValues.keys()) {\n        this.progressValues.set(key, 0);\n      }\n    }\n    this.highlightLayer.clearLayers();\n    if (this.marker) {\n      this.marker.remove()\n      this.marker = null\n    }\n\n    if (this.ignorePanDebounce) {\n      clearTimeout(this.ignorePanDebounce)\n    }\n    this.ignorePanDebounce = setTimeout(() => {\n      this.ignorePan = false;\n      this.ignorePanDebounce = null;\n    }, 1000);\n  }\n\n  openPreview(incident: any) {\n    this.onPanelMouseEnter(incident);\n\n    this.snowPlowHelper(this.url, {\n      action: 'wildfire_list_click',\n      text: incident.incidentName,\n      id: incident.incidentNumberLabel\n    })\n\n\n    incident.incident_number_label = incident.incidentNumberLabel;\n    const self = this;\n    this.zone.run(function () {\n      let compRef = self.makeComponent(IncidentIdentifyPanelComponent);\n      (compRef.instance as any).setIncident(incident, {});\n      const panel = (document.getElementsByClassName('identify-panel').item(0) as HTMLElement);\n      panel.appendChild(compRef.location.nativeElement);\n      self.cdr.detectChanges();\n      (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'block';\n      setTimeout(() => {\n        const identifyPanel = (document.getElementsByClassName('smk-panel').item(0) as HTMLElement)\n        if (identifyPanel) {\n          identifyPanel.remove();\n        }\n      }, 200);\n    })\n  }\n\n  makeComponent<C>(component: Type<C>): ComponentRef<C> {\n    if (this.componentRef) {\n      this.componentRef.destroy()\n    }\n    if (this.listIdentifyContainer) {\n      this.listIdentifyContainer.clear();\n    }\n    this.componentRef = this.listIdentifyContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(component))\n    return this.componentRef;\n  }\n\n  onWatchlist(incident: any): boolean {\n    return this.watchlistService.getWatchlist().includes(incident.fireYear + ':' + incident.incidentNumberLabel)\n  }\n\n  addToWatchlist(incident: any) {\n    this.watchlistService.saveToWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist(incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  onClickBookmark(event: Event) {\n    event.stopPropagation()\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { convertToMobileFormat } from '../../../../utils';\n\n@Component({\n  selector: 'image-panel',\n  templateUrl: './image-panel.component.html',\n  styleUrls: ['./image-panel.component.scss']\n})\nexport class ImagePanelComponent {\n  @Input() public item;\n  @Input() public settings;\n  @Input() public onBeforeSlide;\n  @Input() public onInit;\n  @Input() public i;\n  convertToMobileFormat = convertToMobileFormat;\n}\n","\n<div class=\"title-row\">{{item.title}}</div>\n<div class=\"date-row\">{{convertToMobileFormat(item.convertedDate)}}</div>\n<div class=\"gallery-panel\">\n    <lightgallery [settings]=\"settings\" [onBeforeSlide]=\"onBeforeSlide\" [onInit]=\"onInit\" class=\"gallery-container\">\n        <a\n            [attr.data-index]=\"i\"\n            data-lg-size=\"480-475-480, 800-791-800, 1406-1390\"\n            class=\"gallery-item\"\n            [href]=\"item.href\"\n            style=\"padding: 5px;\">\n            <img [id]=\"i + '-img-thumb'\" alt=\"Image\" class=\"img-responsive\" style=\"width: 100%;\" [src]=\"item.thumbnail\"/>\n        </a>\n    </lightgallery>\n</div>\n","<div class=\"content-panel-stack\" *ngIf=\"displayVideosAndImages && displayVideosAndImages.length; else showDisclaimer\">\n<div class=\"media\" *ngFor=\"let item of displayVideosAndImages\">\n    <div *ngIf=\"item.type==='image'\">\n      <image-panel [item]=\"item\" [settings]=\"settings\" [onBeforeSlide]=\"onBeforeSlide\" [onInit]=\"onInit\" [i]=\"i\"></image-panel>\n    </div>\n     <div *ngIf=\"item.type==='video'\">\n      <video-panel [item]=\"item\"></video-panel>\n    </div>\n  </div>\n  <div #loadMoreButton class=\"load-more-row\" *ngIf=\"displayLoadMore\">\n    <button mat-button class=\"load-more-button\"(click)=\"loadMoreMedia(loadMoreButton)\">Load More</button>\n  </div>\n</div>\n  <ng-template #showDisclaimer>\n    <div class=\"disclaimer\" *ngIf=\"!isPreview\">There are currently no images or videos associated with this incident.</div>\n</ng-template>\n\n\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'incident-gallery-all-media-mobile',\n  templateUrl: './incident-gallery-all-media-mobile.component.html',\n  styleUrls: ['./incident-gallery-all-media-mobile.component.scss']\n})\nexport class IncidentGalleryAllMediaMobileComponent  {\n  @Input() public incident;\n  @Input() public displayMediaStub;\n  @Input() public allImagesAndVideosStub;\n  @Input() public displayLoadMore;\n\n  get displayVideosAndImages() {\n    return this.displayMediaStub;\n  }\n\n  loadMoreMedia(e: HTMLElement) {\n    this.displayMediaStub = this.allImagesAndVideosStub;\n    e.remove();\n  }\n\n}\n\n\n\n  \n","<div class=\"content-panel-stack\" *ngIf=\"displayImages && displayImages.length; else showDisclaimer\">\n  <div class=\"media\" *ngFor=\"let item of displayImages\">\n    <image-panel [item]=\"item\" [settings]=\"settings\" [onBeforeSlide]=\"onBeforeSlide\" [onInit]=\"onInit\" [i]=\"i\"></image-panel>\n  </div>\n  <div #loadMoreButton class=\"load-more-row\" *ngIf=\"displayLoadMoreImages\">\n    <button mat-button class=\"load-more-button\"(click)=\"loadMoreImages(loadMoreButton)\">Load More</button>\n  </div>\n</div>\n<ng-template class=\"disclaimer\" #showDisclaimer>\n  <div class=\"disclaimer\" *ngIf=\"!isPreview\">There are currently no images associated with this incident.</div>\n</ng-template>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'incident-gallery-images-mobile',\n  templateUrl: './incident-gallery-images-mobile.component.html',\n  styleUrls: ['./incident-gallery-images-mobile.component.scss']\n})\nexport class IncidentGalleryImagesMobileComponent  {\n  @Input() public incident;\n  @Input() public displayImagesStub;\n  @Input() public displayLoadMoreImages;\n  @Input() public allImagesStub;\n\n  get displayImages() {\n    return this.displayImagesStub;\n  }\n\n  loadMoreImages(e: HTMLElement) {\n    this.displayImagesStub = this.allImagesStub;\n    e.remove();\n  }\n}","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { PublishedIncidentService } from \"../../../../services/published-incident-service\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { LightGallery } from \"lightgallery/lightgallery\";\nimport { convertToMobileFormat, convertToYoutubeId } from \"../../../../utils\"\nimport { InitDetail } from 'lightgallery/lg-events';\n\n@Component({\n  selector: 'incident-gallery-panel-mobile',\n  templateUrl: './incident-gallery-panel-mobile.component.html',\n  styleUrls: ['./incident-gallery-panel-mobile.component.scss']\n})\nexport class IncidentGalleryPanelMobileComponent implements OnInit {\n  @Input() public incident;\n  incidentName: string\n  allImagesAndVideosStub: any[];\n  displayMediaStub: any[];\n  allImagesStub: any[]\n  allVideosStub: any[]\n  displayImagesStub: any[]\n  displayVideosStub: any[]\n  public constructor(private publishedIncidentService: PublishedIncidentService, private appConfigService: AppConfigService, private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute) { }\n\n  displayLoadMore = false;\n  displayLoadMoreImages = false;\n  displayLoadMoreVideos = false;\n  private lightGallery!: LightGallery\n  private refreshGallery = false\n  convertToMobileFormat = convertToMobileFormat\n  convertToYoutubeId = convertToYoutubeId\n\n  ngAfterViewChecked(): void {\n    if (this.refreshGallery && this.lightGallery) {\n        this.lightGallery.refresh()\n        this.refreshGallery = false\n    }\n  }\n\n  onInit = (detail: InitDetail): void => {\n    this.lightGallery = detail.instance\n  }\n\n  ngOnInit(): void {\n    this.loadPage();\n  }\n\n  get allVideosAndImages () {\n    return this.allImagesAndVideosStub\n  }\n\n  get displayImages() {\n    return this.displayImagesStub;\n  }\n\n  get displayVideos() {\n    return this.displayVideosStub;\n  }\n\n  loadPage() {\n    this.incidentName = this.incident.incidentName\n    this.allImagesAndVideosStub = []\n    // fetch the Videos\n    this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results?.collection && results.collection.length > 0) {\n        this.pushUrisToAllImagesAndVideos(results.collection)\n      }\n\n      // fetch image attachments\n      this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabel).toPromise().then(results => {\n        // Loop through the attachments, for each one, create a ref, and set href to the bytes\n        if (results?.collection && results.collection.length > 0) {\n          this.pushAttachmentsToAllImagesAndVideos(results.collection)\n        }\n\n        this.displayMediaStub = [];\n\n        this.allImagesAndVideosStub.sort((a, b) => b.convertedDate - a.convertedDate)\n        this.allImagesAndVideosStub = this.setPrimaryToTop(this.allImagesAndVideosStub)\n\n         if (this.allImagesAndVideosStub.length > 9) {\n          this.displayLoadMore = true\n          this.displayMediaStub = this.allImagesAndVideosStub.slice(0, 10);\n         } else {\n          this.displayMediaStub = this.allImagesAndVideosStub\n         }\n\n        this.pushToImages(this.allImagesAndVideosStub)\n        this.pushToVideos(this.allImagesAndVideosStub)\n\n        this.cdr.detectChanges()\n        setTimeout(() => {\n          this.refreshGallery = true\n        }, 5000)\n      })\n    })\n  }\n\nloadMoreImages(e: HTMLElement) {\n    this.displayImagesStub = this.allImagesStub;\n    e.remove();\n }\n\nloadMoreVideos(e: HTMLElement) {\n  this.displayVideosStub = this.allVideosStub;\n  e.remove();\n}\n\n\n  handleImageFallback (href: string) {\n    const imgComponent = document.getElementById('primary-image-container')\n    if (imgComponent) {\n      (imgComponent as any).src = href\n    }\n  }\n\n  pushUrisToAllImagesAndVideos(collection: any){\n    for (const uri of collection) {\n      if (!uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n        this.allImagesAndVideosStub.push({\n          title: uri.externalUriDisplayLabel,\n          uploadedDate: new Date(uri.createdTimestamp).toLocaleDateString(),\n          convertedDate: new Date(uri.createdTimestamp),\n          fileName: '',\n          primary: uri.primaryInd.toString(),\n          type: 'video',\n          href: uri.externalUri\n        })\n      }\n    }\n  }\n\n  pushAttachmentsToAllImagesAndVideos(collection: any){\n    for (const attachment of collection) {\n      // do a mime type check here\n      if (attachment.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(attachment.mimeType.toLowerCase())) {\n        this.allImagesAndVideosStub.push({\n          title: attachment.attachmentTitle,\n          uploadedDate: new Date(attachment.createdTimestamp).toLocaleDateString(),\n          convertedDate: new Date(attachment.createdTimestamp),\n          fileName: attachment.attachmentFileName,\n          primary: attachment.primary.toString(),\n          type: 'image',\n          href: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes`,\n          thumbnail: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes?thumbnail=true`\n        })\n      }\n    }\n  }\n\n  pushToImages(collection: any) {\n    this.displayImagesStub = []\n    this.allImagesStub = []\n    for (let item of collection) {\n      if (item?.type === 'image') {\n        this.allImagesStub.push(item)\n        this.displayImagesStub.push(item)\n      }\n    }\n\n    if (this.allImagesStub.length > 9) {\n      this.displayLoadMoreImages = true\n      this.displayImagesStub = this.allImagesStub.slice(0, 10);\n    }\n  }\n\n  pushToVideos(collection: any) {\n    this.displayVideosStub = []\n    this.allVideosStub = []\n    for (let item of collection) {\n      if (item?.type === 'video'){\n        this.allVideosStub.push(item)\n        this.displayVideosStub.push(item)\n      }\n    }\n\n    if (this.allImagesStub.length > 9) {\n      this.displayLoadMoreVideos = true\n      this.displayVideosStub = this.allVideosStub.slice(0, 10);\n    }\n    console.log(this.displayLoadMoreVideos)\n  }\n\n  setPrimaryToTop: any = (collection: any) => {\n    let itemToBeSpliced = null;\n    let index = null;\n    for (let item of collection){\n      if (item?.primary === 'true'){\n          itemToBeSpliced = item\n          index = collection.indexOf(item)\n       }\n    }\n    if (itemToBeSpliced !== null && index !== null) { \n      collection.unshift(itemToBeSpliced)\n      delete collection[index + 1]\n    } \n    return collection;\n  }\n}\n","<div class=\"panel\">\n    <div class=\"content-panel\">\n      <div class=\"header-row\">\n        <h1>Images and Video Gallery</h1>\n      </div>\n      <mat-tab-group mat-stretch-tabs=\"false\">\n        <mat-tab id=\"allMedia\" label=\"All Media\">\n          <incident-gallery-all-media-mobile [incident]=\"incident\" [displayMediaStub]=\"displayMediaStub\" [allImagesAndVideosStub]=\"allImagesAndVideosStub\" [displayLoadMore]=\"displayLoadMore\"></incident-gallery-all-media-mobile>\n        </mat-tab>\n        <mat-tab id=\"images\" label=\"Images\">\n          <incident-gallery-images-mobile [incident]=\"incident\" [displayImagesStub]=\"displayImagesStub\" [allImagesStub]=\"allImagesStub\" [displayLoadMoreImages]=\"displayLoadMoreImages\"></incident-gallery-images-mobile>\n        </mat-tab>\n        <mat-tab id=\"videos\" label=\"Videos\">\n          <incident-gallery-videos-mobile [incident]=\"incident\" [displayVideosStub]=\"displayVideosStub\" [allVideosStub]=\"allVideosStub\" [displayLoadMoreVideos]=\"displayLoadMoreVideos\"></incident-gallery-videos-mobile>\n        </mat-tab>\n      </mat-tab-group>\n    </div>\n</div>\n\n\n","import { Component, ChangeDetectionStrategy, Input, OnInit, ChangeDetectorRef } from \"@angular/core\";\nimport lgZoom from 'lightgallery/plugins/zoom';\nimport lgFullscreen from 'lightgallery/plugins/fullscreen';\nimport lgThumbnail from 'lightgallery/plugins/thumbnail';\nimport { BeforeSlideDetail, InitDetail } from 'lightgallery/lg-events';\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { convertToYoutubeId } from \"../../../utils\";\nimport { LightGallery } from \"lightgallery/lightgallery\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\n\n@Component({\n  selector: 'incident-gallery-panel',\n  templateUrl: './incident-gallery-panel.component.html',\n  styleUrls: ['./incident-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentGalleryPanel implements OnInit {\n  @Input() public incident;\n  @Input() public showImageWarning;\n  \n  public convertToYoutubeId = convertToYoutubeId\n  public constructor(private publishedIncidentService: PublishedIncidentService, private appConfigService: AppConfigService, private cdr: ChangeDetectorRef,\n                    private router: ActivatedRoute) { }\n\n  currentMediaType: string;\n  mediaTypeOptions: string[] = [\"All\",\"Images\",\"Videos\"];\n  imagesAndVideosStub: any[];\n  allImagesAndVideosStub: any[];\n  \n  private lightGallery!: LightGallery\n  private refreshGallery = false\n  public showVideos = true\n  public showImages = true\n  isPreview: boolean;\n\n  settings = {\n    counter: true,\n    plugins: [lgZoom, lgFullscreen, lgThumbnail],\n    download: true,\n    showZoomInOutIcons: true,\n    fullScreen: true,\n    actualSize: true,\n    thumbnail: true\n  };\n\n  ngAfterViewChecked(): void {\n    if (this.refreshGallery && this.lightGallery) {\n        this.lightGallery.refresh()\n        this.refreshGallery = false\n    }\n  }\n\n  onInit = (detail: InitDetail): void => {\n    this.lightGallery = detail.instance\n  }\n\n  onBeforeSlide = (detail: BeforeSlideDetail): void => {\n    // unused\n  };\n\n  onMediaTypeFilterChanged(event) {\n    if(event === \"Images\") {\n      this.showImages = true\n      this.showVideos = false\n    } else if(event === \"Videos\") {\n      this.showImages = false\n      this.showVideos = true\n    } else {\n      this.showImages = true\n      this.showVideos = true\n    }\n  }\n\n  get videos () {\n    return this.allImagesAndVideosStub.filter(item => item.type === \"video\")\n  }\n\n  get images () {\n    return this.allImagesAndVideosStub.filter(item => item.type === \"image\")\n  }\n\n  ngOnInit() {\n    this.loadPage();\n    this.currentMediaType = \"All\";\n    this.onMediaTypeFilterChanged(\"All\");\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if(params && params['preview']) {\n        this.isPreview = true;\n      }\n    });\n  }\n\n  handleImageFallback (item: any, index: number) {\n    if (!item.loaded) {\n      const imgComponent = document.getElementById(index + '-img-thumb')\n      if (imgComponent) {\n        (imgComponent as any).src = item.href\n      }\n      item.loaded = true;\n    }\n  }\n\n  loadPage() {\n    this.imagesAndVideosStub = []\n    this.allImagesAndVideosStub = []\n    // fetch the Videos\n    this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (!uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.allImagesAndVideosStub.push({\n              title: uri.externalUriDisplayLabel,\n              uploadedDate: new Date(uri.createdTimestamp).toLocaleDateString(),\n              fileName: '',\n              type: 'video',\n              href: uri.externalUri\n            })\n          }\n          this.cdr.detectChanges()\n        }\n      }\n\n      // fetch image attachments\n      this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabel).toPromise().then(results => {\n        // Loop through the attachments, for each one, create a ref, and set href to the bytes\n        if (results && results.collection && results.collection.length > 0) {\n          for (const attachment of results.collection) {\n            // do a mime type check here\n            // Light gallery does not really support direct download on mimetype : image/bmp && image/tiff, which will returns 500 error. \n            if (attachment.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(attachment.mimeType.toLowerCase())) {\n              this.allImagesAndVideosStub.push({\n                title: attachment.attachmentTitle,\n                uploadedDate: new Date(attachment.createdTimestamp).toLocaleDateString(),\n                fileName: attachment.attachmentFileName,\n                type: 'image',\n                href: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes`,\n                thumbnail: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes?thumbnail=true`,\n                loaded: false\n              })\n            }\n          }\n        }\n        this.cdr.detectChanges()\n        if (this.lightGallery) {\n          this.lightGallery.refresh()\n        }\n        setTimeout(() => {\n          this.refreshGallery = true\n        }, 5000)\n      })\n    })\n  }\n}\n","<div class=\"panel\">\n    <div class=\"header-row\">\n      <h4>Image/Video Gallery\n          <div *ngIf=\"showImageWarning\" class=\"preview-warning\">Warning: Uploaded Images or Videos cannot be previewed</div>\n      </h4>\n    </div>\n    <div class=\"content-panel\">\n      <div *ngIf=\"videos && videos.length || images && images.length; else showDisclaimer\">\n          <div class=\"media-types\">\n              <div>Media Type</div>\n              <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                          aria-label=\"Type\" [options]=\"mediaTypeOptions\"\n                          [value]=\"currentMediaType\"\n                          (valueChange)=\"onMediaTypeFilterChanged($event)\"\n                          class=\"media-selector\">\n                  <mat-option value=\"\">\n                      <span class=\"placeholder\">Select...</span>\n                  </mat-option>\n                  <mat-option *ngFor = \"let mediaType of mediaTypeOptions\" value=\"{{mediaType}}\">\n                      <span>{{mediaType}}</span>\n                  </mat-option>\n              </mat-select>\n          </div>\n          <div>\n            <lightgallery *ngIf=\"showImages\" [settings]=\"settings\" [onBeforeSlide]=\"onBeforeSlide\" [onInit]=\"onInit\" class=\"gallery-container\">\n              <a *ngFor=\"let item of images; let i = index\"\n                  [attr.data-index]=\"i\"\n                  data-lg-size=\"480-475-480, 800-791-800, 1406-1390\"\n                  class=\"gallery-item\"\n                  [href]=\"item.href\"\n                  [data-src]=\"item.href\"\n                  [data-responsive]=\"item.href + ' 800'\"\n                  style=\"padding: 5px;\">\n                  <img [id]=\"i + '-img-thumb'\" width=\"150\" alt=\"Image\" class=\"img-responsive\" [src]=\"item.thumbnail\" (error)=\"handleImageFallback(item, i)\"/>\n              </a>\n            </lightgallery>\n\n            <div *ngIf=\"showVideos\">\n                <youtube-player *ngFor=\"let item of videos\"\n                    style=\"padding: 5px;\"\n                    videoId={{convertToYoutubeId(item.href)}}\n                    suggestedQuality=\"highres\"\n                    [startSeconds]=\"1\"\n                    [height]=\"250\"\n                    [width]=\"400\">\n                </youtube-player>\n            </div>\n          </div>\n        </div>\n      <ng-template #showDisclaimer>\n        <div *ngIf=\"!isPreview\">There are currently no images or videos associated with this incident</div>\n      </ng-template>\n    </div>\n</div>\n","<div class=\"content-panel-stack\" *ngIf=\"displayVideos && displayVideos.length; else showDisclaimer\">\n  <div class=\"media\" *ngFor=\"let item of displayVideos\">\n    <video-panel [item]=\"item\"></video-panel>\n  </div>\n  <div class=\"divider\"></div>\n  <div #loadMoreButton class=\"load-more-row\" *ngIf=\"displayLoadMoreVideos\">\n    <button mat-button class=\"load-more-button\"(click)=\"loadMoreVideos(loadMoreButton)\">Load More</button>\n  </div>\n</div>\n<ng-template #showDisclaimer>\n  <div class=\"disclaimer\" *ngIf=\"!isPreview\">There are currently no videos associated with this incident.</div>\n</ng-template>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'incident-gallery-videos-mobile',\n  templateUrl: './incident-gallery-videos-mobile.component.html',\n  styleUrls: ['./incident-gallery-videos-mobile.component.scss']\n})\nexport class IncidentGalleryVideosMobileComponent  {\n  @Input() public incident;\n  @Input() public displayVideosStub;\n  @Input() public displayLoadMoreVideos;\n  @Input() public allVideosStub;\n\n  get displayVideos() {\n    return this.displayVideosStub;\n  }\n\n  loadMoreVideos(e: HTMLElement) {\n    this.displayVideosStub = this.allVideosStub;\n    e.remove();\n  }\n}","import { Component, Input } from '@angular/core';\nimport { convertToMobileFormat, convertToYoutubeId } from '../../../../utils';\n\n@Component({\n  selector: 'video-panel',\n  templateUrl: './video-panel.component.html',\n  styleUrls: ['./video-panel.component.scss']\n})\nexport class VideoPanelComponent {\n  @Input() public item;\n  convertToMobileFormat = convertToMobileFormat;\n  convertToYoutubeId = convertToYoutubeId;\n}\n","<div class=\"title-row\">{{item.title}}</div>\n<div class=\"date-row\">{{convertToMobileFormat(item.convertedDate)}}</div>\n<youtube-player\n    style=\"padding: 5px;\"\n    videoId={{convertToYoutubeId(item.href)}}\n    suggestedQuality=\"highres\"\n    [startSeconds]=\"1\"\n    [height]=\"250\"\n    width=\"100%\">\n</youtube-player>\n","import { Component, ChangeDetectionStrategy, Input, AfterViewInit, HostListener } from \"@angular/core\"\nimport { EvacOrderOption } from \"../../../conversion/models\"\nimport * as L from 'leaflet'\nimport { AppConfigService } from \"@wf1/core-ui\"\nimport { WatchlistService } from \"../../../services/watchlist-service\"\nimport { convertToFireCentreDescription, convertFireNumber, ResourcesRoutes } from \"../../../utils\"\nimport * as moment from \"moment\"\nimport { MatDialog } from \"@angular/material/dialog\"\nimport { ContactUsDialogComponent } from \"../../admin-incident-form/contact-us-dialog/contact-us-dialog.component\"\nimport { Router } from \"@angular/router\"\nimport { Location } from '@angular/common';\n\n\n@Component({\n  selector: 'incident-header-panel',\n  templateUrl: './incident-header-panel.component.html',\n  styleUrls: ['./incident-header-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentHeaderPanel implements AfterViewInit {\n  @Input() public incident: any\n  @Input() public evacOrders: EvacOrderOption[] = []\n  @Input() public extent: any\n  public defaultEvacURL: string\n  convertToFireCentreDescription = convertToFireCentreDescription\n  convertFireNumber = convertFireNumber\n\n  private map: any\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.map.invalidateSize();\n  }\n\n  constructor (private appConfigService: AppConfigService, private watchlistService: WatchlistService, private dialog: MatDialog, private router: Router, private location: Location\n    ) {\n    /* Empty, just here for injection */\n  }\n\n  ngOnInit(): void {\n    this.defaultEvacURL = this.appConfigService.getConfig().externalAppConfig['evacDefaultUrl'].toString()\n  }\n\n  ngAfterViewInit(): void {\n    // Configure the map\n    const location = [Number(this.incident.latitude), Number(this.incident.longitude)]\n    this.map = L.map('map', {\n      attributionControl: false,\n      zoomControl: false,\n      dragging: false,\n      doubleClickZoom: false,\n      boxZoom: false,\n      trackResize: false,\n      scrollWheelZoom: false\n    }).setView(location, 9)\n    // configure map data\n    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n\n    let databcUrl = this.appConfigService.getConfig()['mapServices']['openmapsBaseUrl'].toString()\n    L.tileLayer.wms(databcUrl, {\n      layers: 'WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n      styles: '6885',\n      format: 'image/png',\n      transparent: true,\n      version: '1.1.1'\n    }).addTo(this.map);\n    L.tileLayer.wms(databcUrl, {\n      layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_CURRENT_FIRE_POLYS_SP',\n      styles: '1751_1752',\n      format: 'image/png',\n      transparent: true,\n      version: '1.1.1'\n    }).addTo(this.map);\n\n    const icon = L.icon({\n      iconUrl: \"/assets/images/local_fire_department.png\",\n      iconSize: [35, 35],\n      shadowAnchor: [4, 62],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    });\n\n    if(this.incident.fireOfNoteInd) {\n      L.marker(location, {icon: icon}).addTo(this.map);\n    }\n    else{\n      let colorToDisplay;\n      switch(this.incident.stageOfControlCode) {\n        case 'OUT_CNTRL':\n          colorToDisplay = '#FF0000'\n          break;\n        case 'HOLDING':\n          colorToDisplay = '#ffff00'\n          break;\n        case 'UNDR_CNTRL':\n          colorToDisplay = '#98E600'\n          break;\n        case 'OUT':\n          colorToDisplay = '#999999'\n          break;\n        default:\n          colorToDisplay = 'white';\n      }\n      L.circleMarker(location,{radius:15,fillOpacity:1,color:'black', fillColor:colorToDisplay}).addTo(this.map)\n    }\n\n    if (this.extent) {\n      this.map.fitBounds(new L.LatLngBounds([this.extent.ymin, this.extent.xmin], [this.extent.ymax, this.extent.xmax]));\n    }\n  }\n\n  onWatchlist (): boolean {\n    return this.watchlistService.getWatchlist().includes(this.incident.fireYear + ':' + this.incident.incidentNumberLabel)\n  }\n\n  addToWatchlist () {\n    this.watchlistService.saveToWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist () {\n    this.watchlistService.removeFromWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  displaySizeType (incidentSizeDetail: string) {\n    if (incidentSizeDetail && incidentSizeDetail.includes('estimated')) {\n      return '(Estimated)'\n    }\n    else if (incidentSizeDetail && incidentSizeDetail.includes('mapped')) {\n      return '(Mapped)'\n    }\n    else {\n      return null;\n    }\n  }\n\n  isMobileView() {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n\n  convertToMobileFormat (dateString) {\n    // Should probably be MMM for month formats to prevent long strings\n    const formattedDate = moment(dateString, \"dddd, MMMM D, YYYY [at] h:mm:ss A\").format(\"MMMM D, YYYY\");\n    return formattedDate\n\n  }\n\n  openContactUsWindow() {\n    this.dialog.open(ContactUsDialogComponent, {\n      panelClass: 'contact-us-dialog',\n      data: {\n        fireCentre: convertToFireCentreDescription(this.incident.contactOrgUnitIdentifer || this.incident.fireCentreName || this.incident.fireCentreCode || this.incident.fireCentre),\n        email: this.incident.contactEmailAddress,\n        phoneNumber: this.incident.contactPhoneNumber\n      }\n    });\n  }\n\n  backToMap() {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ACTIVEWILDFIREMAP]);\n    }, 100);\n  }\n\n  shareContent() {\n    const currentUrl = this.location.path();\n    if (navigator.share) {\n      navigator.share({\n        url: currentUrl // The URL user wants to share\n      })\n        .then(() => console.log('Sharing succeeded.'))\n        .catch((error) => console.error('Error sharing:', error));\n    }\n  }\n\n}\n","<div class=\"header-container forPrint\" [ngClass]=\"{mobile: isMobileView()}\" id=\"toprint-header\">\n  <div class=\"mobile-header\" *ngIf=\"isMobileView()\">\n    <span class=\"material-icons\" (click)=\"backToMap()\">arrow_back</span>\n    <span>Wildfire</span>\n    <span class=\"material-icons\" (click)=\"shareContent()\">share</span>\n  </div>\n  <div id=\"map\" class=\"map-container-mobile\" *ngIf=\"isMobileView()\">\n  </div>\n  <div class=\"incident-details\">\n    <div class=\"header\">\n    </div>\n    <div class=\"title-bar\">\n      <div class=\"title\">{{incident.incidentName}} <span *ngIf=\"incident.fireOfNoteInd && !isMobileView()\" #el\n          class=\"fire-icon-container\"><img class=\"icon\" height=\"24\" width=\"24\"\n            src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\"></span> <span #el\n          *ngIf=\"!isMobileView()\" class=\"no-print\" style=\"cursor: pointer;\"\n          (click)=\"onWatchlist() ? removeFromWatchlist() : addToWatchlist()\"><mat-icon\n            style=\"color:#1A5A96\">{{onWatchlist() ? 'bookmark' : 'bookmark_border'}}</mat-icon></span></div>\n      <div *ngIf=\"!isMobileView()\" class=\"subtitle\"><a\n          href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres\" rel=\"noopener\"\n          target=\"_blank\">{{convertToFireCentreDescription(this.incident.fireCentreName || incident.fireCentre ||\n          incident.fireCentreCode)}}</a></div>\n    </div>\n    <div *ngIf=\"!isMobileView()\">\n      <div class=\"info-panel\">\n        <div><span class=\"label\">Fire Number: </span><span>{{convertFireNumber(incident)}}</span></div>\n        <div><span class=\"label\">Last Updated: </span><span>{{incident.lastUpdatedTimestamp}}</span></div>\n        <div *ngIf=\"incident.discoveryDate\"><span class=\"label\">Discovered On:\n          </span><span>{{incident.discoveryDate}}</span></div>\n        <div *ngIf=\"incident.stageOfControlCode === 'OUT'\"><span class=\"label\">Declared Out:\n          </span><span>{{incident.declaredOutDate}}</span></div>\n      </div>\n      <div class=\"divider\"></div>\n      <div class=\"info-panel\">\n        <div class=\"gutter\"><span class=\"label\">Size: </span><span>{{incident.incidentSizeEstimatedHa ?\n            incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares </span>\n          <span>{{displaySizeType(incident.incidentSizeDetail)}}</span></div>\n        <div class=\"paragraph-format\">{{incident.incidentSizeDetail || 'Fire size is estimated and based on the most\n          current information available.'}}</div>\n        <div class=\"gutter\" *ngIf=\"incident.incidentLocation\"><span class=\"label\">Location</span></div>\n        <div class=\"paragraph-format\">{{incident.incidentLocation}}</div>\n        <div class=\"gutter\" *ngIf=\"incident.traditionalTerritoryDetail\"><span class=\"label\">Traditional Territory</span>\n        </div>\n        <div class=\"paragraph-format\">{{incident.traditionalTerritoryDetail}}</div>\n      </div>\n      <!-- Evac Orders-->\n      <div *ngIf=\"evacOrders.length > 0\" class=\"divider\"></div>\n      <div style=\"padding-top: 7px;\" *ngIf=\"evacOrders.length > 0\">\n        <h4>Active Evacuation Orders and Alerts</h4>\n        <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n          <mat-icon [class]=\"evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" style=\"text-decoration: none;\">{{\n            evac.orderAlertStatus === 'Alert' ? 'warning' : 'error' }} </mat-icon>\n          <a [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" [href]=\"evac.uri ? evac.uri : defaultEvacURL\"\n            target=\"_blank\" rel=\"noopener\">{{ evac.orderAlertStatus }}: {{evac.eventName}}</a>\n          <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"isMobileView()\">\n\n      <div class=\"mobile-label\"> Fire Number {{convertFireNumber(incident)}}</div>\n      <div class=\"mobile-label\"> Discovered on {{convertToMobileFormat(incident.discoveryDate)}}</div>\n      <div class=\"mobile-label\"> Last updated {{convertToMobileFormat(incident.lastUpdatedTimestamp)}}</div>\n      <div class=\"mobile-label\"> Fire Size {{incident.incidentSizeEstimatedHa ?\n        incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares </div>\n\n      <div class=\"header-content\">\n        <div class=\"item\">\n          <button mat-button class=\"mobile-button fixed-width\">\n            <span class=\"material-icons-outlined\">notifications_active</span>\n            Notifications On\n          </button>\n        </div>\n        <div class=\"item\">\n          <button mat-button class=\"mobile-button fixed-width\" (click)=\"openContactUsWindow()\">\n            <mat-icon svgIcon=\"contact-us\"></mat-icon>\n            Contact Us\n          </button>\n        </div>\n      </div>\n      <div class=\"divider\"></div>\n    </div>\n  </div>\n  <div id=\"map\" class=\"map-container\" *ngIf=\"!isMobileView()\">\n  </div>\n</div>\n\n<sticky-widget *ngIf=\"!isMobileView()\"></sticky-widget>\n","import { Component } from '@angular/core';\nimport { IncidentInfoPanel } from '../incident-info-panel/incident-info-panel.component';\n\n@Component({\n  selector: 'incident-info-panel-mobile',\n  templateUrl: './incident-info-panel-mobile.component.html',\n  styleUrls: ['./incident-info-panel-mobile.component.scss']\n})\nexport class IncidentInfoPanelMobileComponent extends IncidentInfoPanel {\n\n  getTooltipText() {\n    return `What is a Hectare?\n\n    A hectare is a unit of area equal to 10,000 square meters or around 2.5 acres of land.\n    `;\n  }\n\n  navigateToMap(){\n    //to do, need to wait for the mobile map screen ticket\n  }\n\n  navigateToEvac(evac){\n    //to do. need to wait for the screen design\n  }\n\n  navigateToAreaRestriction(area){\n    //to do. need to wait for the screen design\n  }\n\n  scrollToSection(event,sectionId) {\n    const section = document.getElementById(sectionId);\n    section.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  callFireCentre(phoneNumber:string) {\n    const parsedPhoneNumber = parseInt(phoneNumber.replace(/-/g, \"\"));\n    window.open(`tel:${parsedPhoneNumber}`, '_system');\n  }\n\n  emailFireCentre(recipientEmail:string) {\n    const mailtoUrl = `mailto:${recipientEmail}`;\n    window.location.href = mailtoUrl;\n  }\n  \n}\n","<div class=\"panel\">\n    <div class=\"warning-card\" *ngFor=\"let evac of evacOrders\" (click)=\"navigateToEvac(evac)\">\n        <alert-order-banner [evacuation]=\"evac\" />\n    </div>\n\n    <div class=\"content-panel\">\n        <div>\n            <div class=\"content-panel-stack\">\n                <h1>Summary</h1>\n                <div class=\"sub-title\">\n                    <h4>Stage of Control</h4>\n                </div>\n                <div class=\"sub-content\">\n                    <div style=\"display: inline-flex; gap: 38px\">\n                        <div class=\"icon-label\" *ngIf=\"incident.fireOfNoteInd\">\n                            <img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\"\n                                alt=\"local_fire_department\" />\n                            <span>Wildfire Of Note</span>\n                        </div>\n                        <div class=\"icon-label\">\n                            <span *ngIf=\"!incident.fireOfNoteInd\"\n                                class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                            <span>{{getStageOfControlLabel(incident.stageOfControlCode)}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"current-resources\"\n                    *ngIf=\"incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd\">\n                    <h4>Current Resources</h4>\n                    <div *ngIf=\"incident.wildfireCrewResourcesInd\">\n                        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews-mobile.svg\"\n                            alt=\"Wildfire Crews\" height=\"36\" width=\"36\" />\n                        Wildfire Crews\n                    </div>\n                    <div *ngIf=\"incident.wildfireAviationResourceInd\">\n                        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation-mobile.svg\"\n                            alt=\"Aviation\" height=\"36\" width=\"36\" />\n                        Aviation\n                    </div>\n                    <div *ngIf=\"incident.incidentMgmtCrewRsrcInd\">\n                        <img class=\"image-size\"\n                            src=\"../../../assets/images/svg-icons/incident-management-teams-mobile.svg\"\n                            alt=\"Incident Management Team\" height=\"36\" width=\"36\" />\n                        Incident Management Teams\n                    </div>\n                    <div *ngIf=\"incident.heavyEquipmentResourcesInd\">\n                        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment-mobile.svg\"\n                            alt=\"Heavy Equipment\" height=\"36\" width=\"36\" />\n                        Heavy Equipment\n                    </div>\n                    <div *ngIf=\"incident.structureProtectionRsrcInd\">\n                        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection-mobile.svg\"\n                            alt=\"Structure Protection Units\" height=\"36\" width=\"36\" />\n                        Structure Protection Units\n                    </div>\n                    <div style=\"padding-top:16px\" (click)=\"scrollToSection(event, 'currentResourcesSection')\">\n                        <span> Jump to current resources section</span>\n                        <mat-icon>chevron_right</mat-icon>\n                    </div>\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <div class=\"sub-title\">\n                    <h1>Stage of Control</h1>\n                </div>\n                <div *ngIf=\"incident.fireOfNoteInd\">\n                    <div class=\"sub-content\">\n                        <div class=\"icon-title\">\n                            <img class=\"icon\" style=\"padding-right: 8px !important;\" height=\"22\" width=\"22\"\n                                src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\" />\n                            <span>Wildfire Of Note</span>\n                        </div>\n                    </div>\n                    <div class=\"sub-content\">\n                        This wildfire is highly visible or poses a potential threat to public safety.\n                    </div>\n                </div>\n                <br />\n                <div>\n                    <div class=\"sub-title\">\n                        <span *ngIf=\"!incident.fireOfNoteInd\"\n                            class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                        <h4>{{getStageOfControlLabel(incident.stageOfControlCode)}}</h4>\n                    </div>\n                    <div class=\"sub-content\" style=\"display: flex; align-items: baseline;\">\n                        {{getStageOfControlDescription(incident.stageOfControlCode)}}\n                    </div>\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <div class=\"sub-title\">\n                    <h1 style=\"margin-bottom: 4px;\">Fire Size</h1>\n                </div>\n                <div class=\"sub-content\" style=\"color:#3e4347; display: flex; align-items: baseline;\">\n                    {{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}}\n                    Hectares\n                    <button mat-icon-button [matTooltip]=\"getTooltipText()\" #tooltip=\"matTooltip\"\n                        (click)=\"tooltip.toggle()\"><mat-icon>help_outline</mat-icon></button>\n                </div>\n                <div class=\"sub-content\">\n                    {{incident.incidentSizeDetail || 'Fire size is estimated and based on the most current information\n                    available.'}}\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <h1>Location</h1>\n                <div *ngIf=\"incident.incidentLocation\">\n                    <div class=\"sub-title\"> Description</div>\n                    <div class=\"sub-content\">\n                        {{incident.incidentLocation}}\n                    </div>\n                </div>\n                <br />\n                <div *ngIf=\"incident.traditionalTerritoryDetail\">\n                    <div class=\"sub-title\"> Traditional Territory</div>\n                    <div class=\"sub-content\">\n                        {{incident.traditionalTerritoryDetail}}\n                    </div>\n                </div>\n                <br />\n                <button mat-button class=\"mobile-button\" (click)=\"navigateToMap()\">\n                    <span class=\"material-icons-outlined\">map</span>\n                    View on Wildfire Map\n                </button>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <h1>Suspected Cause</h1>\n\n                <div class=\"sub-title\">\n                    <h4>{{getCauseLabel(incident.generalIncidentCauseCatId)}}</h4>\n                </div>\n                <div class=\"sub-content\">\n                    {{getCauseDescription(incident.generalIncidentCauseCatId)}}\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <h1>Evacuation Notices</h1>\n                <div class=\"sub-content\" *ngIf=\"!evacOrders || evacOrders.length <= 0 ; else displayEvacOrders\">\n                    There are no current evacuation orders or alerts associated with this incident.</div>\n                <ng-template #displayEvacOrders>\n                    <div *ngFor=\"let evac of evacOrders\">\n                        <alert-order-banner [isCard]=\"true\" [evacuation]=\"evac\" />\n                    </div>\n                    <div class=\"sub-title\">\n                        <h4>What is an Evacuation Order?</h4>\n                    </div>\n                    <div class=\"sub-content\">\n                        You are at risk. Leave the area immediately. You are encouraged to register all family members\n                        at the nearest reception centre so emergency responders know you are safe.\n                    </div>\n                </ng-template>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <h1>Area Restrictions</h1>\n                <div class=\"sub-content\"\n                    *ngIf=\"!areaRestrictions || areaRestrictions.length <= 0 ; else displayAreaRestrictions\">There are\n                    no current area restrictions near this incident.</div>\n                <ng-template #displayAreaRestrictions>\n                    <div *ngFor=\"let area of areaRestrictions\"\n                        (click)=\"navigateToAreaRestriction(area)\">\n                        <alert-order-banner [isCard]=\"true\" [areaRestriction]=\"area\" />\n                    </div>\n                    <div class=\"sub-title\">\n                        <h4>What is an Area Restrictions?</h4>\n                    </div>\n                    <div class=\"sub-content\">\n                        Area restrictions or forest use restrictions refer to area closures and activity restrictions\n                        necessary to limit the risk of a fire, address a public safety concern or avoid interference\n                        with fire control. </div>\n                </ng-template>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\" *ngIf=\"incident.responseTypeCode\">\n                <h1>Response Type</h1>\n                <div>\n                    <div class=\"sub-title\">\n                        <h4>{{incident.responseTypeCode.toLowerCase()}}</h4>\n                    </div>\n                    <div class=\"sub-content\">{{getResponseTypeDescription(incident.responseTypeCode)}}</div>\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\" id=\"currentResourcesSection\"\n                *ngIf=\"(incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd)\">\n                <h1>Current Resources</h1>\n                <div class=\"sub-content\">The BC Wildfire Service relies on thousands of people each year to respond to\n                    wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more\n                    information on resources assigned to this incident, please contact the information officer listed in\n                    the “Contact Us” section.</div>\n                <br />\n                <div class=\"resource-section\" *ngIf=\"incident.wildfireCrewResourcesInd\">\n                    <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\"\n                        target=\"_blank\" rel=\"noopener\">\n                        <div class=\"resource-section-content\">\n                            <span>\n                                <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews-mobile.svg\"\n                                    alt=\"Wildfire Crews\" />\n                                <h4>Wildfire Crews</h4>\n                            </span>\n                            <div class=\"sub-content\">\n                                <div>{{incident.wildfireCrewResourcesDetail}}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                <div class=\"resource-section\" *ngIf=\"incident.wildfireAviationResourceInd\">\n                    <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\"\n                        target=\"_blank\" rel=\"noopener\">\n                        <div class=\"resource-section-content\">\n                            <span>\n                                <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation-mobile.svg\"\n                                    alt=\"Wildfire Crews\" />\n                                <h4>Aviation</h4>\n                            </span>\n                            <div class=\"sub-content\">\n                                <div>{{incident.wildfireAviationResourceDetail}}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                <div class=\"resource-section\" *ngIf=\"incident.incidentMgmtCrewRsrcInd\">\n                    <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\"\n                        target=\"_blank\" rel=\"noopener\">\n                        <div class=\"resource-section-content\">\n                            <span>\n                                <img class=\"image-size\"\n                                    src=\"../../../assets/images/svg-icons/incident-management-teams-mobile.svg\"\n                                    alt=\"Wildfire Crews\" />\n                                <h4>Incident Management Teams</h4>\n                            </span>\n                            <div class=\"sub-content\">\n                                <div>{{incident.incidentMgmtCrewRsrcDetail}}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                <div class=\"resource-section\" *ngIf=\"incident.heavyEquipmentResourcesInd\">\n                    <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\"\n                        target=\"_blank\" rel=\"noopener\">\n\n                        <div class=\"resource-section-content\">\n                            <span>\n                                <img class=\"image-size\"\n                                    src=\"../../../assets/images/svg-icons/heavy_equipment-mobile.svg\"\n                                    alt=\"Wildfire Crews\" />\n                                <h4>Heavy Equipment</h4>\n                            </span>\n                            <div class=\"sub-content\">\n                                <div>{{incident.heavyEquipmentResourcesDetail}}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n\n                <div class=\"resource-section\" *ngIf=\"incident.structureProtectionRsrcInd\">\n                    <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\"\n                        target=\"_blank\" rel=\"noopener\">\n                        <div class=\"resource-section-content\">\n                            <span>\n                                <img class=\"image-size\"\n                                    src=\"../../../assets/images/svg-icons/structure-protection-mobile.svg\"\n                                    alt=\"Wildfire Crews\" />\n                                <h4>Structure Protection Units</h4>\n                            </span>\n                            <div class=\"sub-content\">\n                                <div>{{incident.structureProtectionRsrcDetail}}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n            <div class=\"content-panel-stack\">\n                <h1>Contact Us</h1>\n                <div>\n                    <div style=\"display: flex; margin-bottom: 5px;\"><span class=\"material-icons-outlined\"\n                            style=\"padding-right: 10px;\">badge</span><span>{{convertToFireCentreDescription(incident.contactOrgUnitIdentifer\n                            || incident.fireCentreName || incident.fireCentreCode || incident.fireCentre)}}</span></div>\n                    <div style=\"display: flex; margin-bottom: 5px;\"><span class=\"material-icons-outlined\"\n                            style=\"padding-right: 10px;\">email</span><span>{{incident.contactEmailAddress}}</span></div>\n                    <div style=\"display: flex; margin-bottom: 5px;\"><span class=\"material-icons\"\n                            style=\"padding-right: 10px;\">call</span><span>{{incident.contactPhoneNumber}}</span></div>\n                </div>\n                <div style=\"display: flex; justify-content: space-between; padding-top: 24px;\">\n                    <button mat-button class=\"mobile-button fixed-width\" (click)=\"callFireCentre(incident.contactPhoneNumber)\">\n                        <span class=\"material-icons\">call</span>\n                        Call Us\n                    </button>\n                    <button mat-button class=\"mobile-button fixed-width\" (click)=\"emailFireCentre(incident.contactEmailAddress)\">\n                        <span class=\"material-icons-outlined\">email</span>\n                        Email Us\n                    </button>\n                </div>\n                <div class=\"divider\"></div>\n            </div>\n\n        </div>\n    </div>","import { Component, ChangeDetectionStrategy, Input, AfterViewInit, ChangeDetectorRef } from \"@angular/core\";\nimport { AreaRestrictionsOption, EvacOrderOption } from \"../../../conversion/models\";\nimport { toCanvas } from 'qrcode'\nimport { convertToFireCentreDescription, findFireCentreByName, convertToYoutubeId, isMobileView } from '../../../utils'\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Component({\n  selector: 'incident-info-panel',\n  templateUrl: './incident-info-panel.component.html',\n  styleUrls: ['./incident-info-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentInfoPanel implements AfterViewInit {\n  @Input() public incident: any\n  @Input() public evacOrders: EvacOrderOption[] = []\n  @Input() public areaRestrictions : AreaRestrictionsOption[] = []\n\n  showWarning: boolean;\n\n  public convertToFireCentreDescription = convertToFireCentreDescription\n  public findFireCentreByName = findFireCentreByName\n  public convertToYoutubeId = convertToYoutubeId\n  public isMobileView = isMobileView\n\n  public constructor(private publishedIncidentService: PublishedIncidentService, private snackbarService: MatSnackBar, private appConfigService: AppConfigService,\n                     private cdr: ChangeDetectorRef,\n                     private router: ActivatedRoute,\n                     private http: HttpClient) {}\n  public primaryMedia = null\n\n  handleImageFallback (href: string) {\n    const imgComponent = document.getElementById('primary-image-container')\n    if (imgComponent) {\n      (imgComponent as any).src = href\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.incident.contactEmailAddress || !this. incident.contactPhoneNumber) {\n      this.getFireCentreContacts().subscribe(data => {\n        const fc = findFireCentreByName(convertToFireCentreDescription(this.incident.fireCentreName || this.incident.fireCentre || this.incident.fireCentreCode))\n        if (!this.incident.contactEmailAddress) this.incident.contactEmailAddress = data[+fc.code].url\n        if (!this.incident.contactPhoneNumber) this.incident.contactPhoneNumber = data[+fc.code].phone\n        this.cdr.detectChanges()\n      });\n    }\n\n    const canvas = document.getElementById('qr-code')\n    if (canvas) {\n      toCanvas(canvas, window.location.href, function (error) {\n        if (error) console.error(error)\n      })\n    }\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      this.showWarning = params['preview']\n    });\n\n    this.fetchPrimaryImage()\n  }\n\n  public getStageOfControlLabel (code: string) {\n    if (code.toUpperCase().trim() === 'OUT') return 'Out'\n    else if (code.toUpperCase().trim() === 'OUT_CNTRL') return 'Out of Control'\n    else if (code.toUpperCase().trim() === 'HOLDING') return 'Being Held'\n    else if (code.toUpperCase().trim() === 'UNDR_CNTRL') return 'Under Control'\n    else return 'Unknown'\n  }\n\n  public getStageOfControlDescription (code: string) {\n    if (code.toUpperCase().trim() === 'OUT') return 'A wildfire that is extinguished. Suppression efforts are complete.'\n    else if (code.toUpperCase().trim() === 'OUT_CNTRL') return 'A wildfire that is continuing to spread and is not responding to suppression efforts.'\n    else if (code.toUpperCase().trim() === 'HOLDING') return 'A wildfire that is not likely to spread beyond predetermined boundaries under current conditions.'\n    else if (code.toUpperCase().trim() === 'UNDR_CNTRL') return 'A wildfire that will not spread any further due to suppression efforts.'\n    else return 'Unknown stage of control'\n  }\n\n  public getCauseLabel (code: number) {\n    if (code === 1) return 'Human'\n    else if (code === 2) return 'Lightning / Natural'\n    else if (code === 3) return 'Under Investigation'\n    else return 'Unknown'\n  }\n\n  public getCauseDescription (code: number) {\n    if (code === 1) return 'A wildfire started by humans or human activity.'\n    else if (code === 2) return 'When lightning strikes an object it can release enough heat to ignite a tree or other fuels.'\n    else if (code === 3) return 'A wildfire of undetermined cause, including a wildfire that is currently under investigation, as well as one where the investigation has been completed.'\n    else return 'A wildfire of undetermined cause, including a wildfire that is currently under investigation, as well as one where the investigation has been completed.'\n  }\n\n  public getResponseTypeDescription (code: string) {\n    if (code === 'MONITOR') return 'When a fire is being monitored, this means BC Wildfire Service is observing and analyzing the fire but it\\'s not immediately suppressed. It may be allowed to burn to achieve ecological or resource management objectives and is used on remote fires that do not threaten values.'\n    else if (code === 'MODIFIED') return 'During a modified response, a wildfire is managed using a combination of techniques with the goal to minimize costs and damage while maximizing ecological benefits from the fire. This response method is used when there is no immediate threat to values.'\n    else if (code === 'FULL') return 'The BC Wildfire Service uses a full response when there is threat to public safety and/or property and other values, such as infrastructure or timber. Immediate action is taken. During a full response, a wildfire is suppressed and controlled until it is deemed \"out\".'\n  }\n\n  public printPage() {\n    const printContents = document.getElementsByClassName('page-container')[0].innerHTML\n\n    const appRoot = document.body.removeChild(document.getElementById(\"app-root\"));\n\n    document.body.innerHTML = printContents\n\n    const canvas = document.getElementById('qr-code')\n    toCanvas(canvas, window.location.href, function (error) {\n      if (error) console.error(error)\n      window.print()\n      document.body.innerHTML = \"\";\n      document.body.appendChild(appRoot);\n    })\n  }\n\n  public copyToClipboard () {\n    navigator.clipboard.writeText(window.location.href);\n    this.snackbarService.open('URL Copied to Clipboard!', 'OK', { duration: 100000, panelClass: 'snackbar-success-v2' });\n  }\n\n  public fetchPrimaryImage () {\n    // By default, check if we have a Video as a primary image first\n    // if we dont have a video, check images\n    // otherwise, dont show the media box.\n    // fetch videos\n    this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      let setMedia = false\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.primaryInd && !uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.primaryMedia = {\n              title: uri.externalUriDisplayLabel,\n              uploadedDate: new Date(uri.createdTimestamp).toLocaleDateString(),\n              fileName: '',\n              type: 'video',\n              href: uri.externalUri\n            }\n            setMedia = true;\n            this.cdr.detectChanges()\n            break\n          }\n        }\n      }\n\n      if (!setMedia) {\n        // fetch image attachments\n        this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabel? this.incident.incidentNumberLabel : this.incident.incidentNumberLabelFull).toPromise().then(results => {\n          // Loop through the attachments, for each one, create a ref, and set href to the bytes\n          if (results && results.collection && results.collection.length > 0) {\n            for (const attachment of results.collection) {\n              // do a mime type check here\n              if (attachment.primary) {\n                this.primaryMedia = {\n                  title: attachment.attachmentTitle,\n                  uploadedDate: new Date(attachment.createdTimestamp).toLocaleDateString(),\n                  fileName: attachment.attachmentFileName,\n                  type: 'image',\n                  href: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes`,\n                  thumbnail: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes?thumbnail=true`\n                }\n                break;\n              }\n            }\n          }\n          this.cdr.detectChanges()\n        })\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  public getFireCentreContacts (): Observable<any> {\n    return this.http.get('../../../../assets/data/fire-center-contacts-agol.json')\n  }\n}\n","<incident-overview-panel [incident]=\"incident\" class=\"show-print\"></incident-overview-panel>\n<div class=\"panel forPrint\" id=\"toprint\">\n  <div class=\"header-row no-print\">\n    <h4>Wildfire Information</h4>\n    <div class=\"header-button-container no-print\">\n      <a style=\"text-decoration: none;\" href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\"><svg class=\"icon facebook\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"#3b5998\" d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg></a>\n      <a style=\"text-decoration: none;\" href=\"https://mobile.twitter.com/bcgovfireinfo\" target=\"_blank\" rel=\"noopener\"><svg class=\"icon twitter\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"#1da1f2\" d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg></a>\n      <mat-icon (click)=\"copyToClipboard()\" class=\"button no-print\">share</mat-icon>\n      <button class=\"print-button no-print\" (click)=\"printPage()\"><span>Print</span>\n        <mat-icon class=\"button\">print</mat-icon>\n      </button>\n    </div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"content-panel-stack\">\n      <div>\n        <h1>Stage of Control</h1>\n        <div *ngIf=\"incident.fireOfNoteInd\" class=\"content-panel-subtitle\">Wildfire Of Note</div>\n        <div *ngIf=\"incident.fireOfNoteInd\" class=\"content-panel-body\">This wildfire is highly visible or poses a potential threat to public safety.</div>\n        <div class=\"content-panel-subtitle\">{{getStageOfControlLabel(incident.stageOfControlCode)}}</div>\n        <div class=\"content-panel-body\">{{getStageOfControlDescription(incident.stageOfControlCode)}}</div>\n        <div id=\"spacer\" style=\"padding: 12px;\"></div>\n        <h1>Suspected Cause</h1>\n        <div class=\"content-panel-subtitle\">{{getCauseLabel(incident.generalIncidentCauseCatId)}}</div>\n        <div class=\"content-panel-body\">\n          <div [innerHTML]=\"incident.incidentCauseDetail || getCauseDescription(incident.generalIncidentCauseCatId)\"></div>\n        </div>\n        <div *ngIf=\"incident.responseTypeCode\">\n          <h1>Response Type</h1>\n          <div class=\"content-panel-subtitle\" style=\"text-transform: capitalize;\">{{incident.responseTypeCode.toLowerCase()}}</div>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"getResponseTypeDescription(incident.responseTypeCode)\"></div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <!-- Image/video section: fetch from aws cache -->\n        <div *ngIf=\"primaryMedia !== null\">\n          <div *ngIf=\"showWarning; else primaryImage\" class=\"preview-warning\">Warning: Primary Video/Image selection cannot be previewd</div>\n          <ng-template #primaryImage>\n            <div style=\"text-align: center;\">\n              <img id=\"primary-image-container\" *ngIf=\"primaryMedia.type === 'image'\" style=\"max-width: 100%; height: auto; max-height: 500px; border-radius: 16px;\" [alt]=\"primaryMedia.title\" [src]=\"primaryMedia.thumbnail\" width=\"500\" height=\"500\" (error)=\"handleImageFallback(primaryMedia.href)\" />\n              <youtube-player class=\"no-print\" *ngIf=\"primaryMedia.type === 'video'\"\n                videoId={{convertToYoutubeId(primaryMedia.href)}}\n                suggestedQuality=\"highres\"\n                [startSeconds]=\"1\"\n                [endSeconds]=\"20\"\n                [height]=\"250\"\n                [width]=\"400\">\n              </youtube-player>\n            </div>\n          </ng-template>\n        </div>\n        <!-- contact section-->\n        <h1>Incident Contact Information</h1>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">contact_mail</mat-icon><span>{{convertToFireCentreDescription(incident.contactOrgUnitIdentifer || incident.fireCentreName || incident.fireCentreCode || incident.fireCentre)}}</span></div>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">mail</mat-icon><span>{{incident.contactEmailAddress}}</span></div>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">phone_in_talk</mat-icon><span>{{incident.contactPhoneNumber}}</span></div>\n      </div>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"spacer-top\"></div>\n    <div class=\"content-panel-stack\">\n      <div>\n        <h1>Evacuation Orders and Alerts\n          <div *ngIf=\"showWarning\" class=\"preview-warning\">Warning: Manually entered Evacuation Orders and Alerts cannot be previewed</div>\n        </h1>\n        <div class=\"content-panel-subtitle\">Evacuation Information</div>\n        <div *ngFor=\"let evac of evacOrders\">\n          <a *ngIf=\"evac.uri\" [href]=\"evac.uri ? evac.uri && evac.uri !== '' : ''\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link\">{{ evac.orderAlertStatus }}: {{evac.eventName}} ({{evac.issuingAgency}})</a>\n          <div *ngIf=\"!evac.uri\" class=\"content-panel-link\">{{ evac.orderAlertStatus }}: {{evac.eventName}} ({{evac.issuingAgency}})</div>\n        </div>\n        <div *ngIf=\"!evacOrders || evacOrders.length <= 0\">There are no current evacuation orders or alerts associated with this incident.</div>\n        <div style=\"padding: 10px;\"></div>\n        <div class=\"content-panel-subtitle\">What is an Evacuation Order?</div>\n        <div class=\"content-panel-body\">You are at risk. Leave the area immediately. You are encouraged to register all family members at the nearest reception centre so emergency responders know you are safe.</div>\n        <div class=\"learn-more-button-container\">\n          <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n          <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages\">https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages</a></p>\n        </div>\n      </div>\n      <div>\n        <h1>Area Restrictions\n          <div *ngIf=\"showWarning\" class=\"preview-warning\" style=\"text-align: left !important;\">Warning: Manually entered Area Restrictions cannot be previewed</div>\n        </h1>\n        <div class=\"content-panel-subtitle\">Area Restriction Information</div>\n        <div *ngFor=\"let area of areaRestrictions\">\n          <a [href]=\"area.bulletinUrl\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link no-print\">{{area.name}}</a>\n          <p class=\"show-print\">{{area.name}} Link: <a [href]=\"area.bulletinUrl\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link show-print\">{{area.bulletinUrl}}</a></p>\n        </div>\n        <div *ngIf=\"!areaRestrictions || areaRestrictions.length <= 0\">There are no current area restrictions near this incident.</div>\n        <div style=\"padding: 10px;\"></div>\n        <div class=\"content-panel-subtitle\">What is an Area Restriction?</div>\n        <div class=\"content-panel-body\">Area restrictions or forest use restrictions refer to area closures or restrictions and activity restrictions necessary or desirable to limit the risk of a fire, to address a public safety concern or to avoid interference with fire control.</div>\n        <div class=\"learn-more-button-container\">\n          <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n          <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions</a></p>\n        </div>\n      </div>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"spacer-top\"></div>\n    <h1>Response</h1>\n    <div class=\"content-panel-body\">\n      {{incident.resourceDetail || 'For further information on response, please contact the information officer assigned to this incident.'}}\n    </div>\n    <div class=\"learn-more-button-container\">\n      <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n      <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response</a></p>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\" style=\"border-bottom: none;\">\n    <div class=\"spacer-top\"></div>\n    <h1>Current Resources</h1>\n    <div *ngIf=\"incident.resourceDetail\" class=\"content-panel-body\">\n      <div>The BC Wildfire Service relies on thousands of people each year to respond to wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more information on resources assigned to this incident, please contact the information officer listed for this incident.</div>\n    </div>\n    <div *ngIf=\"(incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd); else defaultResourcesContent\">\n      <!-- Wildfire Resources -->\n      <div *ngIf=\"incident.wildfireCrewResourcesInd && incident.wildfireCrewResourcesDetail\" class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n          <h3>Wildfire Crews</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.wildfireCrewResourcesDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Wildfire Aviation -->\n      <div *ngIf=\"incident.wildfireAviationResourceInd && incident.wildfireAviationResourceDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n          <h3>Wildfire Aviation</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.wildfireAviationResourceDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Incident Management Teams -->\n      <div *ngIf=\"incident.incidentMgmtCrewRsrcInd && incident.incidentMgmtCrewRsrcDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Incident Management Team\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Aviation\" />\n          <h3>Incident Management Team</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.incidentMgmtCrewRsrcDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Heavy Equipment -->\n      <div *ngIf=\"incident.heavyEquipmentResourcesInd && incident.heavyEquipmentResourcesDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Heavy Equipment\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Aviation\" />\n          <h3>Heavy Equipment</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.heavyEquipmentResourcesDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Structure Protection -->\n      <div *ngIf=\"incident.structureProtectionRsrcInd && incident.structureProtectionRsrcDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Heavy Equipment\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Aviation\" />\n          <h3>Structure Protection</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.structureProtectionRsrcDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection</a></p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-template #defaultResourcesContent>\n      For more information on resources deployed to this incident, please contact the information officer assigned to this wildfire.\n    </ng-template>\n  </div>\n  <div id=\"qr-code-panel\" class=\"qr-code\" style=\"text-align: center;\">\n    <h5 style=\"padding: 0px; margin: 0px;\">View in your browser</h5>\n    <canvas id=\"qr-code\"></canvas>\n    <p>Scan this QR Code to view this information in your web browser</p>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { IncidentMapsPanel } from '../incident-maps-panel/incident-maps-panel.component';\n\n@Component({\n  selector: 'incident-maps-panel-mobile',\n  templateUrl: './incident-maps-panel-mobile.component.html',\n  styleUrls: ['./incident-maps-panel-mobile.component.scss']\n})\nexport class IncidentMapsPanelMobileComponent extends IncidentMapsPanel{\n\n  limit: number = 10;\n\n  convertDate(dateString) {\n    if (dateString) {\n      const date = new Date(dateString);\n      const options: Intl.DateTimeFormatOptions = { month: \"short\", day: \"numeric\", year: \"numeric\" };\n      const formattedDate: string = date.toLocaleDateString(\"en-US\", options);\n      return formattedDate\n    }\n  }\n\n  loadMore() {\n    this.limit += 10;\n  }\n\n}\n","\n<div class=\"panel\">\n  <div class=\"content-panel\">\n        <div class=\"content-panel-stack\">\n            <h1>Wildfire Maps</h1>\n            <div *ngIf=\"showMapsWarning\" class=\"preview-warning\">Warning: Uploaded Maps cannot be previewed</div>\n            <div class=\"contents\">\n                <div *ngIf=\"maps && maps.length; else showDisclaimer\">\n                    <div class=\"sub-title\">Click to download the PDF</div>\n                    <div *ngFor=\"let map of maps | slice:0:limit\">\n                        <div style=\"display: flex; padding-top: 27px;\">\n                            <div class=\"file-pdf-icon\" (click)=\"downloadMap(map.link, map.name)\"></div>\n                            <div class=\"file-info\">\n                                <div class=\"document-title\">{{map.name}}</div>\n                                <div class=\"document-date\">{{convertDate(map.date)}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"load-more-row\" style=\"display: flex; justify-content: center; padding-top: 32px;\">\n                        <button *ngIf=\"maps.length > limit\" mat-button class=\"load-more-button\" (click)=\"loadMore()\" [disabled]=\"maps.length <= limit\">\n                            <span style=\"font-size: 16px;\">\n                                Load More\n                            </span>\n                        </button>\n                    </div>\n                </div>\n                <ng-template #showDisclaimer>\n                    <div *ngIf=\"!isPreview\">There are currently no maps associated with this incident.</div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, ChangeDetectionStrategy, Input, OnInit, ChangeDetectorRef } from \"@angular/core\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { HttpClient, HttpEventType, HttpRequest, HttpResponse } from \"@angular/common/http\";\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\n\nexport class DownloadableMap {\n  name: string;\n  link: string;\n  date: string;\n}\n\n@Component({\n  selector: 'incident-maps-panel',\n  templateUrl: './incident-maps-panel.component.html',\n  styleUrls: ['./incident-maps-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentMapsPanel implements OnInit {\n  @Input() public incident;\n  @Input() public showMapsWarning;\n\n  maps: DownloadableMap[];\n  isPreview: boolean;\n\n  constructor(private snackbarService: MatSnackBar,\n              private httpClient: HttpClient,\n              private publishedIncidentService: PublishedIncidentService,\n              private appConfigService: AppConfigService,\n              protected cdr: ChangeDetectorRef,\n              private router: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    const self = this;\n    this.loadMaps().then(docs => {\n      self.maps = docs.map(doc => {\n        return { name: doc.attachmentTitle,\n          link: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${self.incident.incidentNumberLabel}/attachments/${doc.attachmentGuid}/bytes`,\n          date: new Date(doc.createdTimestamp).toDateString()\n        };\n      });\n      this.cdr.detectChanges();\n    });\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if(params && params['preview']) {\n        this.isPreview = true;\n      }\n    });\n  }\n\n  loadMaps(): Promise<any> {\n    return this.publishedIncidentService.fetchAttachments(this.incident.incidentNumberLabel).toPromise()\n      .then( ( docs ) => {\n        // remove any non-image types\n        const data = []\n        for (const doc of docs.collection) {\n          if (doc.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n            // splice is not longer needed here as we return a new object\n          } else {\n            data.push(doc)\n          }\n        }\n        return data;\n      }).catch(err => {\n        this.snackbarService.open('Failed to load Map Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  downloadMap(mapLink, fileName) {\n    const url = mapLink;\n    let request = this.httpClient.request( new HttpRequest( 'GET', url, {\n        reportProgress: true,\n        responseType: 'blob'\n    }));\n\n    request.subscribe(\n      ( ev ) => {\n          if ( ev.type == HttpEventType.Sent ) {\n            this.snackbarService.open('Generating PDF. Please wait...', 'Close', { duration: 10000, panelClass: 'snackbar-info' });\n          }\n          else if ( ev instanceof HttpResponse ) {\n            this.downloadFile(ev as HttpResponse<Blob>, fileName);\n            this.snackbarService.open('PDF downloaded successfully.', 'Close', { duration: 10000, panelClass: 'snackbar-success-v2' });\n          }\n      },\n      ( err ) => this.snackbarService.open('PDF downloaded failed.', 'Close', { duration: 10000, panelClass: 'snackbar-error' })\n    )\n  }\n\n  downloadFile (data: HttpResponse<Blob>, fileName: string) {\n    if (!fileName.endsWith('.pdf')) {\n      fileName += '.pdf'\n    }\n\n    const downloadedFile = new Blob([data.body], { type: data.body.type });\n    const a = document.createElement('a');\n    a.setAttribute('style', 'display:none;');\n    document.body.appendChild(a);\n    a.download = fileName;\n    a.href = URL.createObjectURL(downloadedFile);\n    a.target = '_blank';\n    a.click();\n    document.body.removeChild(a);\n  }\n}\n","<div class=\"panel\">\n    <div class=\"header-row\">\n      <h4>Wildfire Maps\n        <div *ngIf=\"showMapsWarning\" class=\"preview-warning\">Warning: Uploaded Maps cannot be previewed</div>\n      </h4>\n    </div>\n    <div class=\"content-panel\">\n        <div class=\"content-panel-stack\" *ngIf=\"maps && maps.length; else showDisclaimer\">\n            <div *ngFor=\"let map of maps\">\n                <div style=\"display: flex;\">\n                    <div class=\"file-pdf-icon\" (click)=\"downloadMap(map.link, map.name)\"></div>\n                    <div>\n                        <div class=\"document-title\">{{map.name}}</div>\n                        <div class=\"document-date\">{{map.date}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ng-template #showDisclaimer>\n            <div *ngIf=\"!isPreview\">There are currently no maps associated with this incident.</div>\n        </ng-template>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { IncidentOverviewPanel } from '../incident-overview-panel/incident-overview-panel.component';\n\n@Component({\n  selector: 'incident-overview-panel-mobile',\n  templateUrl: './incident-overview-panel-mobile.component.html',\n  styleUrls: ['./incident-overview-panel-mobile.component.scss']\n})\nexport class IncidentOverviewPanelMobileComponent extends IncidentOverviewPanel {\n  \n}\n","\n<div class=\"panel\">\n  <div class=\"content-panel\">\n        <div class=\"content-panel-stack\">\n            <h1>Wildfire Details</h1>\n            <div class=\"contents\">\n                <ckeditor id=\"ck-doc\" [editor]=\"Editor\" [data]=\"incident.incidentOverview || '<p>For more information on this incident, please contact the information officers assigned.</p>'\" (ready)=\"onReady($event)\"></ckeditor>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, ChangeDetectionStrategy, Input } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport * as Editor from '@ckeditor/ckeditor5-build-decoupled-document';\n\n@Component({\n  selector: 'incident-overview-panel',\n  templateUrl: './incident-overview-panel.component.html',\n  styleUrls: ['./incident-overview-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentOverviewPanel {\n  @Input() public incident\n\n  public Editor = Editor\n\n  constructor (private sanitizer: DomSanitizer) { }\n\n  formatHtml (html: string) {\n    return html // We don't want to execute script tags:: this.sanitizer.bypassSecurityTrustHtml(html)\n  }\n\n  public printPage() {\n    const printContents = document.getElementsByClassName('page-container')[0].innerHTML\n    const originalContents = document.body.innerHTML\n    document.body.innerHTML = printContents\n    window.print()\n    document.body.innerHTML = originalContents\n  }\n\n  public onReady( editor ) {\n    editor.enableReadOnlyMode('ck-doc')\n  }\n}\n","<div class=\"panel forPrint\" id=\"toprint\">\n  <div class=\"header-row\">\n    <h4>Wildfire Information</h4>\n  </div>\n  <div class=\"content-panel\">\n    <ckeditor id=\"ck-doc\" [editor]=\"Editor\" [data]=\"incident.incidentOverview || '<p>For more information on this incident, please contact the information officers assigned.</p>'\" (ready)=\"onReady($event)\"></ckeditor>\n  </div>\n</div>\n","import { HttpClient } from \"@angular/common/http\"\nimport { ChangeDetectorRef, Component, OnInit } from \"@angular/core\"\nimport { ActivatedRoute, ParamMap } from \"@angular/router\"\nimport { AreaRestrictionsOption, EvacOrderOption } from \"../../conversion/models\"\nimport { AGOLService } from \"../../services/AGOL-service\"\nimport { PublishedIncidentService } from \"../../services/published-incident-service\"\nimport { findFireCentreByName, hideOnMobileView } from \"../../utils\"\n@Component({\n  selector: 'public-incident-page',\n  templateUrl: './public-incident-page.component.html',\n  styleUrls: ['./public-incident-page.component.scss']\n})\nexport class PublicIncidentPage implements OnInit {\n  public isLoading = true\n  public loadingFailed = false\n\n  public incidentNumber: string\n  public fireYear: string\n  public incident: any\n  public evacOrders: EvacOrderOption[] = []\n  public areaRestrictions : AreaRestrictionsOption[] = []\n  public extent: any = null\n\n  showImageWarning: boolean;\n  showMapsWarning: boolean;\n\n  findFireCentreByName = findFireCentreByName\n  hideOnMobileView = hideOnMobileView\n\n\n  constructor(private router: ActivatedRoute,\n              protected cdr: ChangeDetectorRef,\n              private agolService: AGOLService,\n              private publishedIncidentService: PublishedIncidentService,\n              protected http: HttpClient) {\n\n  }\n\n  ngOnInit() {\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if (params && params['incidentNumber'] && params['fireYear']) {\n        this.incidentNumber = params['incidentNumber']\n        this.fireYear = params['fireYear']\n        // Load the incident from the API\n        this.publishedIncidentService.fetchPublishedIncident(this.incidentNumber, this.fireYear).toPromise().then(async result => {\n          this.incident = result\n          // set geometry\n          this.incident.geometry = {\n            x: result.longitude,\n            y: result.latitude\n          }\n          // format dates, booleans\n          // date formatting options\n          const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }\n          // set date strings\n          this.incident.discoveryDate = this.incident.discoveryDate ? new Date(this.incident.discoveryDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          this.incident.declaredOutDate = this.incident.declaredOutDate ? new Date(this.incident.declaredOutDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          this.incident.lastUpdatedTimestamp = this.incident.lastUpdatedTimestamp ? new Date(this.incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          // check the contact info\n          if (!this.incident.contactOrgUnitIdentifer) {\n            this.http.get('../../../../assets/data/fire-center-contacts-agol.json').subscribe(data => {\n              if (!this.incident.fireCentreCode) {\n                this.incident.fireCentreCode = findFireCentreByName(this.incident.fireCentreName).code\n              }\n\n              this.incident.contactPhoneNumber = data[this.incident.fireCentreCode].phone\n              this.incident.contactEmailAddress = data[this.incident.fireCentreCode].url\n              this.cdr.detectChanges();\n            });\n          }\n          // fetch the fire perimetre\n          await this.getFirePerimetre()\n          // load evac orders and area restrictions nearby\n          await this.getEvacOrders()\n          await this.getExternalUriEvacOrders()\n          await this.getAreaRestrictions()\n          // activate page\n          this.isLoading = false\n          this.cdr.detectChanges()\n        }).catch(err => {\n          console.error(err)\n          this.isLoading = false\n          this.loadingFailed = true\n        })\n      } else {\n        if(params && params['preview']) {\n          this.loadPreview()\n        } else {\n          this.isLoading = false\n          this.loadingFailed = true\n        }\n      }\n    })\n  }\n\n  async loadPreview () {\n    this.incident = JSON.parse(localStorage.getItem(\"preview_incident\"))\n    // fetch the fire perimetre\n    await this.getFirePerimetre()\n    // load evac orders and area restrictions nearby\n    await this.getEvacOrders()\n    await this.getExternalUriEvacOrders()\n    await this.getAreaRestrictions()\n\n    this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabelFull).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        this.showImageWarning = true;\n        this.cdr.detectChanges();\n      }\n    });\n\n    this.publishedIncidentService.fetchAttachments(this.incident.incidentNumberLabelFull).toPromise()\n      .then((docs) => {\n        // remove any non-image types\n        const data = []\n        for (const doc of docs.collection) {\n          if (doc.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n            // splice is not longer needed here as we return a new object\n          } else {\n            data.push(doc)\n          }\n        }\n\n        if(data.length > 0) {\n          this.showMapsWarning = true;\n          this.cdr.detectChanges();\n        }\n      })\n\n    // activate page\n    this.isLoading = false\n    this.cdr.detectChanges()\n  }\n\n  async getFirePerimetre () {\n    return this.agolService.getFirePerimetre(this.incidentNumber, { returnCentroid: true, returnGeometry: true, returnExtent: true}).toPromise().then(response => {\n      if (response.extent) {\n        this.extent = response.extent\n      }\n    })\n  }\n\n  async getEvacOrders () {\n    return this.agolService.getEvacOrdersByEventNumber(this.incidentNumber, { returnCentroid: true, returnGeometry: false}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            uri: null,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n\n  async getExternalUriEvacOrders () {\n    return this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.evacOrders.push({\n              eventName: uri.externalUriDisplayLabel,\n              eventType: uri.externalUriCategoryTag.split(':')[1],\n              orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n              issuingAgency: 'Pending',\n              preOcCode: 'NA',\n              emrgOAAsysID: 0,\n              uri: uri.externalUri,\n              centroid: [0, 0]\n            })\n          }\n        }\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  async getAreaRestrictions () {\n    return this.agolService.getAreaRestrictions({ x: +this.incident.longitude, y: +this.incident.latitude}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.areaRestrictions.push({\n            protRsSysID: element.attributes.PROT_RA_SYSID,\n            name: element.attributes.NAME,\n            accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n            fireCentre: element.attributes.FIRE_CENTRE_NAME,\n            fireZone: element.attributes.FIRE_ZONE_NAME,\n            bulletinUrl: element.attributes.BULLETIN_URL\n          })\n        }\n      }\n    })\n  }\n}\n","<div *ngIf=\"!isLoading && !loadingFailed\" class=\"page forPrint\" >\n  <div class=\"page-container\">\n    <div>\n      <incident-header-panel [incident]=\"incident\" [evacOrders]=\"evacOrders\" [extent]=\"extent\"></incident-header-panel>\n    </div>\n    <div>\n      <mat-tab-group mat-stretch-tabs [headerPosition]=\"above\">\n        <mat-tab label=\"Overview\">\n          <incident-info-panel *ngIf=\"!hideOnMobileView()\"[incident]=\"incident\" [evacOrders]=\"evacOrders\" [areaRestrictions]=\"areaRestrictions\"></incident-info-panel>\n          <incident-info-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" [evacOrders]=\"evacOrders\" [areaRestrictions]=\"areaRestrictions\"></incident-info-panel-mobile>\n        </mat-tab>\n        <mat-tab label=\"Details\">\n          <incident-overview-panel *ngIf=\"!hideOnMobileView()\" [incident]=\"incident\"></incident-overview-panel>\n          <incident-overview-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" ></incident-overview-panel-mobile>\n        </mat-tab>\n        <mat-tab label=\"Gallery\">\n          <ng-template matTabContent>\n            <incident-gallery-panel *ngIf=\"!hideOnMobileView()\" [incident]=\"incident\" [showImageWarning]=\"showImageWarning\"></incident-gallery-panel>\n            <incident-gallery-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" [showImageWarning]=\"showImageWarning\"></incident-gallery-panel-mobile>\n          </ng-template>\n        </mat-tab>\n        <mat-tab label=\"Maps\">\n          <incident-maps-panel *ngIf=\"!hideOnMobileView()\" [incident]=\"incident\" [showMapsWarning]=\"showMapsWarning\"></incident-maps-panel>\n          <incident-maps-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" [showMapsWarning]=\"showMapsWarning\"></incident-maps-panel-mobile>\n        </mat-tab>\n      </mat-tab-group>\n    </div>\n    <scroll-to-top-button hasTabs=\"true\"></scroll-to-top-button>\n  </div>\n</div>\n<div *ngIf=\"!isLoading && loadingFailed\" class=\"page-container\">\n  failed to load...\n</div>\n<div *ngIf=\"isLoading\">\n  <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n</div>\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-comments-page',\n  templateUrl: './rof-comments-page.component.html',\n  styleUrls: ['./rof-comments-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFCommentsPage extends RoFPage {\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n  <div>\n    <mat-label>Note</mat-label>\n  </div>\n  <mat-form-field  class=\"text-container\">\n    <textarea matInput #commentText rows=\"3\" style=\"height: calc(100vh - 400px);\"\n      [(ngModel)]=\"reportOfFire[updateAttribute]\">\n    </textarea>\n    <mat-hint align=\"end\">{{commentText.value.length}}/120</mat-hint>\n  </mat-form-field>\n\n  <div class=\"rof-button-container\">\n    <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n\t  <button class=\"rof-button-primary-review\" mat-flat-button (click)=\"next()\"><mat-icon style=\"padding-right: 12px !important; margin-right: -4px;\">visibility</mat-icon>Review</button>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from '../reportOfFireModel';\n\n@Component({\n  selector: 'rof-compass-page',\n  templateUrl: './rof-compass-page.component.html',\n  styleUrls: ['./rof-compass-page.component.scss']\n})\nexport class RoFCompassPage extends RoFPage {\n  public compassFaceUrl: string\n  public compassHandUrl: string\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n    this.compassFaceUrl = data.compassFaceUrl;\n    this.compassHandUrl = data.compassHandUrl;\n    \n  }\n}\n","<div class=\"page-content\">\n    <div class=\"rof-text-primary-header\">{{ title }}</div>\n    <div class=\"rof-text-secondary-header\">{{ message }}</div>\n    <div id=\"compass-container\">\n        <img alt=\"Compass Face\" [src]=\"compassFaceUrl\"  id=\"compass-face-image\"/>\n        <img alt=\"Compass Hand\" [src]=\"compassHandUrl\"  class=\"compass-hand-image\"/>\n    </div>\n    <div class=\"rof-button-container\">\n      <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n        <button class=\"rof-button-primary\" mat-flat-button (click)=\"next()\">Continue</button>\n    </div>\n  </div>\n  ","import { Component, ChangeDetectionStrategy, ViewChild } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\nimport { MatButtonToggle, MatButtonToggleChange } from \"@angular/material/button-toggle\";\n\n@Component({\n  selector: 'rof-complex-question-page',\n  templateUrl: './rof-complex-question-page.component.html',\n  styleUrls: ['./rof-complex-question-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFComplexQuestionPage extends RoFPage {\n  public allowIDontKnowButton: boolean;\n  public allowMultiSelect: boolean;\n  public disableNext: boolean = true;\n  public buttons: Array<any>;\n  public highlightedButton: HTMLElement;\n  @ViewChild('notSureButton') notSureButton!: MatButtonToggle;\n\n\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n    this.allowIDontKnowButton = data.allowIDontKnowButton;\n    this.allowMultiSelect = data.allowMultiSelect;\n    this.buttons = data.buttons;\n  }\n\n  onValChange (value: string, event: MatButtonToggleChange | PointerEvent) {\n    // Handler to ensure single select buttons highlight on click\n    // to match the toggle button appearance\n    if ( event instanceof PointerEvent) {\n      // middle of the button will return the span, edges will return the button itself\n      // which is super annoying, so we need to check that we have an id set\n      const clickedButton = (event.target as HTMLElement).id !== '' ? event.target as HTMLElement : (event.target as HTMLElement).parentElement;\n\n      // remove the highlight on the currently selected button\n      if (this.highlightedButton) {\n        this.highlightedButton.classList.remove(\"btn-highlight\");\n      }\n\n      // highlight the new button\n      clickedButton.classList.add(\"btn-highlight\");\n      // and store it for later events\n      this.highlightedButton = clickedButton\n    }\n\n    if (value && this.updateAttribute && this.updateAttribute !== '') {\n      // this.highlightedButton.classList.remove(\"btn-highlight\");\n      if(this.notSureButton) {\n        this.notSureButton.checked = false\n      }\n      if (Array.isArray(this.reportOfFire[this.updateAttribute]) && !this.reportOfFire[this.updateAttribute].includes(value)) {\n        this.reportOfFire[this.updateAttribute].push(value)\n      } else if (Array.isArray(this.reportOfFire[this.updateAttribute]) && this.reportOfFire[this.updateAttribute].includes(value)) {\n        const index = this.reportOfFire[this.updateAttribute].indexOf(value);\n        this.reportOfFire[this.updateAttribute].splice(index, 1)\n      } else {\n        this.reportOfFire[this.updateAttribute] = value;\n      }\n    } else {\n      if (this.highlightedButton) {\n        this.highlightedButton.classList.remove(\"btn-highlight\");\n      }\n      this.reportOfFire[this.updateAttribute] = '';\n    }\n\n    this.disableNext = false;\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"panel-wrapper\">\n      <div class=\"rof-text-primary-header\">{{ title }}</div>\n      <div class=\"rof-text-secondary-header\">{{ message }}</div>\n\n      <!-- <mat-button-toggle-group> doesn't allow ngFor for whatever reason -->\n      <div class=\"rof-toggle-group rof-complex-group\" style=\"justify-content: space-between;\">\n        <div *ngFor=\"let button of buttons\" [ngClass]=\"{'condition-class': true, 'multi-select-class': allowMultiSelect, 'single-select-class': !allowMultiSelect, 'distance-class': id === 'distance-page'}\">\n          <mat-button-toggle style=\"width: 100%; box-sizing: border-box;\" class=\"flex-button\" *ngIf=\"allowMultiSelect\" (change)=\"onValChange(button.value, $event)\" [value]=\"button.value\">\n            <img [alt]=\"button.label\" class=\"btn-icon\" *ngIf=\"button.customIcon\" [src]=\"button.customIcon\" />\n            <mat-icon *ngIf=\"button.icon\">{{ button.icon }}</mat-icon>{{ button.label }}</mat-button-toggle>\n          <button style=\"width: 100%; font-size: 19px; font-weight: 600; box-sizing: border-box;\" class=\"flex-button\" type=\"button\" [id]=\"'btn-' + button.value\" mat-flat-button *ngIf=\"!allowMultiSelect\" (click)=\"onValChange(button.value, $event)\">\n            <img [alt]=\"button.label\" class=\"btn-icon\" *ngIf=\"button.customIcon\" [src]=\"button.customIcon\" height=\"20\" width=\"20\" />\n            <mat-icon *ngIf=\"button.icon\">{{ button.icon }}</mat-icon>{{ button.label }}</button>\n        </div>\n        <mat-button-toggle #notSureButton class=\"flex-button\" style=\"width: 100%; box-sizing: border-box;\" *ngIf=\"allowIDontKnowButton\" value=\"skip\" (click)=\"onValChange(null)\"><span class=\"question-mark\">?</span>I'm not sure</mat-button-toggle>\n      </div>\n\n      <div class=\"rof-button-container\">\n        <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n        <button [class]=\"'rof-button' + (disableNext ? '-disabled' : '-primary')\" [disabled]=\"disableNext\" mat-flat-button color=\"primary\" (click)=\"next()\">Next<mat-icon [svgIcon]=\"disableNext? 'arrow-forward-disabled' : 'arrow-forward-enabled'\" class=\"left-padding\" style=\"width: 24px; height: 24px;\"></mat-icon></button>        \n      </div>\n  </div>\n</div>\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-contact-page',\n  templateUrl: './rof-contact-page.component.html',\n  styleUrls: ['./rof-contact-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFContactPage extends RoFPage {\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n\n  <mat-label class=\"input-label\">Name*</mat-label>\n  <mat-form-field appearance=\"outline\" class=\"input-style\">\n    <input matInput type=\"text\" [(ngModel)]=\"reportOfFire.fullName\">\n  </mat-form-field>\n  <mat-label class=\"input-label\">Phone Number*</mat-label>\n  <mat-form-field appearance=\"outline\" class=\"input-style\">\n    <input matInput mask=\"(000) 000-0000\" [(ngModel)]=\"reportOfFire.phoneNumber\">\n  </mat-form-field>\n\n  <div class=\"rof-button-container\">\n    <button class=\"rof-button\" mat-flat-button (click)=\"reportOfFire.consentToCall = false; previous();\">Previous</button>\n\t  <button [class]=\"'rof-button' + (!reportOfFire.fullName || !reportOfFire.phoneNumber ? '-disabled' : '-primary')\"  mat-flat-button (click)=\"reportOfFire.consentToCall = true; next();\" [disabled]=\"!reportOfFire.fullName || !reportOfFire.phoneNumber\">Continue</button>\n  </div>\n</div>\n","import { Component, ChangeDetectionStrategy, ChangeDetectorRef, AfterViewInit, ElementRef } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\nimport { MapConfigService } from '../../../services/map-config.service';\nimport { CompassHeading } from \"../../../services/capacitor-service\";\nimport { CommonUtilityService } from '../../../services/common-utility.service';\nimport { LatLon, LonLat } from \"../../../../../src/app/services/wfnews-map.service/util\";\nimport { SmkApi } from \"../../../../../src/app/utils/smk\";\nimport { HttpClient } from \"@angular/common/http\";\n\n\n@Component({\n  selector: 'rof-location-page',\n  templateUrl: './rof-location-page.component.html',\n  styleUrls: ['./rof-location-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFLocationPage extends RoFPage implements AfterViewInit {\n  mapConfig = null;\n  SMK: any;\n  location?: any;\n  distanceEstimateMeter: number = 100;\n  heading: CompassHeading;\n  turf:any;\n  fireLocation?: LatLon;\n  smkApi: SmkApi;\n  http: HttpClient\n  fullScreenMode: boolean = false;\n\n  public constructor(\n    private mapConfigService: MapConfigService,        \n    private cdr: ChangeDetectorRef,\n    private commonUtilityService: CommonUtilityService,\n    private elementRef: ElementRef\n\n  ) {\n    super()\n  }\n\n  ngAfterViewInit() {\n      this.mapConfigService.getReportOfFireMapConfig().then((cfg) => {\n          let turf = window['turf'],\n          loc = [ this.location.coords.longitude, this.location.coords.latitude],\n          dist = (this.reportOfFire.estimatedDistance && this.reportOfFire.estimatedDistance != 0) ? this.reportOfFire.estimatedDistance / 1000 : this.distanceEstimateMeter / 1000, //km\n          head = this.currentHeading,\n          photo = turf.destination( loc, dist, head ),\n          poly = turf.circle( photo.geometry.coordinates, dist ),\n          exp = turf.transformScale( poly, 1.10 ),\n          bbox = turf.bbox( exp ),\n          view = { viewer: { location: { extent: bbox } } }\n          this.mapConfig = [ cfg, view ]\n          this.cdr.detectChanges()\n        })\n        const mapView = this.elementRef.nativeElement.querySelector('#mapView');\n      }\n\n  async initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    await this.useMyCurrentLocation()\n    super.initialize(data, index, reportOfFire)\n  }\n\n  get currentHeading() {\n    if ( !this.hasHeading ) return 0\n    return this.heading.trueHeading || 0\n  }\n  get hasHeading() {\n    if ( !this.heading ) return false\n    if ( this.heading.error ) return false\n    return true\n  }\n\n  toggleFullScreen(): void {\n    this.fullScreenMode = !this.fullScreenMode;\n    const mapContainer = this.elementRef.nativeElement.querySelector('#mapView');\n    if (this.fullScreenMode){\n      mapContainer.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  }\n\n  setLocation () {\n    // the map should trigger this once configured\n    this.reportOfFire.estimatedDistance = 0;\n    this.reportOfFire.fireLocation = [-112, 50];\n  }\n\n  async useMyCurrentLocation() {\n    this.location = await this.commonUtilityService.getCurrentLocationPromise()\n  }\n\n  initMap(smk: any) {\n    this.smkApi = new SmkApi(smk);\n\n    console.log('initMap')\n    const L = window[ 'L' ]\n    const T = window[ 'turf' ]\n\n    const loc = {\n        type: 'Point',\n        coordinates: [ this.location.coords.longitude, this.location.coords.latitude ]\n    };\n\n    smk.showFeature( 'location', loc, {\n        pointToLayer: function ( geojson, latlng ) {\n            return L.marker( latlng, {\n                icon: L.divIcon( {\n                    className:  'rof-location',\n                    iconSize:   [ 20, 20 ],\n                    iconAnchor: [ 14, 14 ]\n                } )\n            } )\n        }\n    } )\n    let map = smk.$viewer.map\n\n    map.on( \"zoom\", () => {\n        connector()\n    } )\n    map.on( \"move\", () => {\n        connector()\n    } )\n\n    let connector = () => {\n        let photo = map.getCenter(),\n            loc = [ this.location.coords.longitude, this.location.coords.latitude ] as LonLat\n\n        this.fireLocation = [ photo.lat, photo.lng ]\n\n        this.arrow( smk, loc, [ photo.lng, photo.lat ] )\n    }\n\n    connector()\n  }\n\n  confirmLocation() {\n    this.reportOfFire[this.updateAttribute] = this.fireLocation;\n  }\n\n  // start -----> end\n  arrow( smk: any, start: LonLat, end: LonLat ) {\n    const L = window[ 'L' ]\n    const T = window[ 'turf' ]\n    const view = smk.$viewer.getView()\n    const lineStartOffsetPx = 15\n    const lineEndOffsetPx = 35\n\n    let arrowLine = T.lineString( [ start, end ] )\n    let arrowLen = T.length( arrowLine )\n    let arrowLenPx = arrowLen * 1000 / view.metersPerPixel\n\n        let startOffset = view.metersPerPixel * lineStartOffsetPx / 1000\n        let endOffset = view.metersPerPixel * lineEndOffsetPx / 1000\n\n        let headPt = T.along( T.lineString( [ end, start ] ), endOffset )\n        let headRot = T.bearing( headPt.geometry.coordinates, end )\n        smk.showFeature( 'arrow-head', headPt, {\n            pointToLayer: function ( geojson, latlng ) {\n                return L.marker( latlng, {\n                    icon: L.divIcon( {\n                        className:  'rof-arrow-head',\n                        html:       `<i class=\"material-icons\" style=\"transform:rotateZ(${ headRot }deg);\">navigation</i>`,\n                        iconSize:   [ 24, 24 ],\n                        iconAnchor: [ 12, 12 ]\n                    } ),\n                    interactive: false\n                } )\n            }\n        } )\n\n        let startPt = T.along( T.lineString( [ start, headPt.geometry.coordinates ] ), startOffset ).geometry.coordinates\n        let line = T.lineString( [ startPt, headPt.geometry.coordinates ] )\n\n        smk.showFeature( 'arrow-line', line, {\n            style: function () {\n                return {\n                    color: 'yellow',\n                    weight: 5,\n                    lineCap: 'butt',\n                    interactive: false\n                }\n            },\n            onEachFeature: function ( ft, ly ) {\n                ly.bindTooltip( formatDist( arrowLen ) + \" km\", {\n                    permanent: true\n                } )\n            }\n        } )\n\n        smk.showFeature( 'arrow-line-shadow', line, {\n            style: function () {\n                return {\n                    color: 'rgba(0,0,0,36%)',\n                    weight: 7,\n                    lineCap: 'butt',\n                    interactive: false\n                }\n            }\n        } )\n  }\n}\n\nfunction formatDist( dist: number ): string {\n  if ( dist == null ) return ''\n\n  var rounded = parseFloat( dist.toPrecision( 6 ) )\n  var a = Math.abs( rounded ),\n      s = Math.sign( rounded ),\n      i = Math.floor( a ),\n      f = a - i\n\n  return ( s * i ).toLocaleString() + f.toFixed( 3 ).substr( 1 )\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n  <div class=\"map-container\">\n    <wf-map-container id=\"mapView\" \n      *ngIf=\"mapConfig\"\n      [mapConfig]=\"mapConfig\"\n      (mapInitialized)=\"initMap($event)\"\n      (fullScreen)=\"toggleFullScreen()\"\n    ></wf-map-container>\n    <i class=\"photo-location material-icons\">location_searching</i>\n  </div>\n  <div class=\"rof-button-container\">\n    <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n\t  <!-- <button class=\"rof-button-primary\" mat-flat-button (click)=\"next()\">Continue</button> -->\n    <button mat-flat-button class=\"rof-button-primary\" (click)=\"next(); confirmLocation()\"><mat-icon svgIcon=\"arrow-forward-enabled\" class=\"left-padding\" style=\"width: 24px; height: 24px;\"></mat-icon>Next</button>\n  </div>\n</div>\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-permissions-page',\n  templateUrl: './rof-permissions-page.component.html',\n  styleUrls: ['./rof-permissions-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFPermissionsPage extends RoFPage {\n  public dataShareAccepted = false;\n\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire)\n  }\n\n  dataShareAcceptedToggle (event: boolean) {\n    this.dataShareAccepted = event\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n\n  <div class=\"divider\"></div>\n  <div class=\"rof-text-subheader-black\">Do you agree to share information with the BC Wildfire Service?</div>\n  <div class=\"rof-text-body\">\n    <mat-checkbox [checked]=\"dataShareAccepted\" (change)=\"dataShareAcceptedToggle($event.checked)\">\n      <span>I agree to share information provided in this report with BC Wildfire Service</span>\n    </mat-checkbox>\n  </div>\n  <div class=\"rof-button-container\">\n    <button mat-flat-button class=\"rof-button\" (click)=\"close()\">Cancel</button>\n\t  <button mat-flat-button [class]=\"'rof-button' + (!dataShareAccepted ? '-disabled' : '-primary')\" (click)=\"next()\" [disabled]=\"!dataShareAccepted\">Continue</button>\n  </div>\n</div>\n","import { Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\n\n@Component({\n  selector: 'rof-photo-page',\n  templateUrl: './rof-photo-page.component.html',\n  styleUrls: ['./rof-photo-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFPhotoPage extends RoFPage {\n  public disableNext: boolean = true;\n  captureUrl:any;\n  isCaptured: boolean;\n  images:string[] = [];\n  isFullScreen: boolean = false;\n  public constructor(\n    private changeDetector: ChangeDetectorRef,\n    private el: ElementRef) {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n  }\n\n  async takePhoto(){\n    const image = await Camera.getPhoto({\n      quality: 100,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Camera,\n      saveToGallery: false,\n      webUseInput: true,\n      width: undefined\n    }).then((url) => {\n      this.captureUrl = url.dataUrl;\n      this.isCaptured = true\n      this.images.push(this.captureUrl)\n      this.changeDetector.detectChanges()\n      })\n  }\n\n  async addFromCameraRoll() {\n    const photos = await Camera.pickImages({\n      quality: 100,\n      limit: 3 - this.images.length\n    }).then((url) =>{\n      if(url.photos) {\n        url.photos = url.photos.splice(0,3-this.images.length)\n        url.photos.forEach(photo => {\n          this.images.push(photo.webPath)\n          this.changeDetector.detectChanges()\n        });\n      }\n    })\n  }\n\n  deleteImage(index:number) {\n    if(index >= 0 && index < this.images.length) {\n      this.images.splice(index,1);\n    }\n  }\n\n  enterImageFullScreen(index: number) {\n    if(!this.isFullScreen){\n      const imgElement = this.el.nativeElement.querySelectorAll('.imagecontainer')[index];\n      if (imgElement) {\n        if (imgElement.requestFullscreen) {\n          imgElement.requestFullscreen();\n        } else if (imgElement.mozRequestFullScreen) {\n          imgElement.mozRequestFullScreen();\n        } else if (imgElement.webkitRequestFullscreen) {\n          imgElement.webkitRequestFullscreen();\n        } else if (imgElement.msRequestFullscreen) {\n          imgElement.msRequestFullscreen();\n        }\n      }\n      this.isFullScreen = !this.isFullScreen;\n    }\n  }\n\n  exitImageFullScreen(){\n    if(this.isFullScreen){\n      document.exitFullscreen();  \n      this.isFullScreen = !this.isFullScreen;\n    }\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n  <div class=\"button-group\">\n    <button (click)=\"takePhoto()\" [disabled]=\"images.length === 3\"><mat-icon [svgIcon]=\"images.length === 3 ? 'camera-grey' : 'camera' \" ></mat-icon><span [class]=\"'photo-button' + (images.length === 3 ? '-disabled' : '-enabled')\" >Take Photo</span></button>\n    <button (click)=\"addFromCameraRoll()\"><mat-icon [svgIcon]=\"images.length === 3 ? 'image-grey' : 'image' \"></mat-icon><span [class]=\"'photo-button' + (images.length === 3 ? '-disabled' : '-enabled')\">Add from Photo Library</span></button>\n  </div>\n  <div *ngIf=\"images && images.length\" class=\"images\">\n    <div *ngFor = \"let image of images; let i = index\" class=\"image-container\" [class.first-image]=\"i === 0\" [class.last-image]=\"i === images.length - 1\">\n      <div class=\"image-wrapper\">\n        <div class=\"imagecontainer\">\n          <span *ngIf=\"isFullScreen\" class=\"closebutton\" (click)=\"exitImageFullScreen()\">Close</span>\n          <img [src]=\"image\" [class]=\"'image' + (isFullScreen ? '-fullScreen' : '')\" (click)=\"enterImageFullScreen(i)\">\n        </div>\n        <button class=\"delete-button\" (click)=\"deleteImage(i)\">x</button>\n      </div>\n    </div>\n  </div>\n  <div class=\"rof-button-container\">\n    <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n    <button mat-flat-button [class]=\"'rof-button' + (images.length === 0 ? '-disabled' : '-primary')\" [disabled]=\"images.length === 0\" (click)=\"next()\"><mat-icon [svgIcon]=\"images.length === 0? 'arrow-forward-disabled' : 'arrow-forward-enabled'\"  class=\"left-padding\" style=\"width: 24px; height: 24px;\"></mat-icon>Next</button>\n  </div>\n</div>\n","import { AfterContentInit, ChangeDetectorRef, Component, ComponentRef, OnInit, ViewChild, ViewContainerRef } from \"@angular/core\"\nimport { RoFTitlePage } from \"./title-page/rof-title-page.component\";\nimport { RoFPermissionsPage } from \"./permissions-page/rof-permissions-page.component\";\nimport { RoFSimpleQuestionPage } from \"./simple-question-page/rof-simple-question-page.component\";\nimport { RoFContactPage } from \"./contact-page/rof-contact-page.component\";\nimport { RoFLocationPage } from \"./location-page/rof-location-page.component\";\nimport { RoFPhotoPage } from \"./photo-page/rof-photo-page.component\";\nimport { ReportOfFire } from \"./reportOfFireModel\";\nimport { RoFComplexQuestionPage } from \"./complex-question-page/rof-complex-question-page.component\";\n\nimport ConfigJson from './report-of-fire.config.json';\nimport { RoFCommentsPage } from \"./comment-page/rof-comments-page.component\";\nimport { RoFReviewPage } from \"./review-page/rof-review-page.component\";\nimport { Router } from \"@angular/router\";\nimport { RoFCompassPage } from \"./compass-page/rof-compass-page.component\";\n\nenum PageOperation {\n  Next = 1,\n  Skip,\n  previous\n}\n\n/**\n * Report of Fire parent container. This will hold the reportOfFire data\n * (which may move to local storage with the offline support, so a temp thing for now)\n * As well as the create and store the pages for the \"wizard\"\n */\n@Component({\n  selector: 'report-of-fire',\n  templateUrl: './report-of-fire.component.html',\n  styleUrls: ['./report-of-fire.component.scss']\n})\nexport class ReportOfFirePage implements OnInit, AfterContentInit {\n  public reportOfFire: ReportOfFire;\n  public pageComponents: Array<ComponentRef<any>> = [];\n  public currentPage: ComponentRef<any>;\n  public allowExit = false;\n  public allowSkip = false;\n  public showProgress = false;\n  public progressSteps = [];\n  public currentStep = 0;\n\n  @ViewChild('dynamic', { static: true, read: ViewContainerRef })\n  private dynamicContainer!: ViewContainerRef;\n\n  constructor(private router: Router, protected cdr: ChangeDetectorRef) {\n    this.pageComponents = [];\n  }\n\n  ngOnInit() {\n    // On RoF form startup, we want to load the config json and iterate through the\n    // pages. At the current time, page order in the config is the order that will be\n    // used by the component, but I'd like to update this so we can put an\n    // index in the config rather than rely on order\n    for (let index = 0; ConfigJson.pages.length > index; index++) {\n      const page = ConfigJson.pages[index];\n      let component = undefined;\n      // Create a new instance of an RoF.\n      // This may change to load from local store for offline support in the future\n      this.reportOfFire = new ReportOfFire();\n\n      switch(page.type) {\n        case \"RoFTitlePage\":\n          component = this.dynamicContainer.createComponent(RoFTitlePage);\n        break;\n        case \"RoFPermissionsPage\":\n          component = this.dynamicContainer.createComponent(RoFPermissionsPage);\n        break;\n        case \"RoFSimpleQuestionPage\":\n          component = this.dynamicContainer.createComponent(RoFSimpleQuestionPage);\n        break;\n        case \"RoFContactPage\":\n          component = this.dynamicContainer.createComponent(RoFContactPage);\n        break;\n        case \"RoFLocationPage\":\n          component = this.dynamicContainer.createComponent(RoFLocationPage);\n        break;\n        case \"RoFPhotoPage\":\n          component = this.dynamicContainer.createComponent(RoFPhotoPage);\n        break;\n        case \"RoFComplexQuestionPage\":\n          component = this.dynamicContainer.createComponent(RoFComplexQuestionPage);\n        break;\n        case \"RoFCommentsPage\":\n          component = this.dynamicContainer.createComponent(RoFCommentsPage);\n        break;\n        case \"RoFReviewPage\":\n          component = this.dynamicContainer.createComponent(RoFReviewPage);\n        break;\n        case \"RoFCompassPage\":\n          component = this.dynamicContainer.createComponent(RoFCompassPage);\n        break;\n      }\n\n      // ensure we actually have a created component before continuing\n      if (component) {\n        component.instance.initialize(page, index, this.reportOfFire);\n\n        if (page.showProgress && !this.progressSteps.includes(page.title)) {\n          this.progressSteps.push(page.title)\n        }\n\n        // button definitions for go back, next question, and skip question.\n        component.instance.previous = () => { this.selectPage(component.instance.previousId, PageOperation.previous) }\n        component.instance.next = () => { this.selectPage(component.instance.nextId, PageOperation.Next) }\n        // on skip, go to the \"skip\" id. If unset, go to \"next\" instead. some pages may use a different\n        // page on skip vs. next.\n        component.instance.skip = () => { this.selectPage(component.instance.skipId || component.instance.nextId, PageOperation.Skip) }\n        component.instance.close = () => { this.exit() }\n\n        // Keep track of the component so we can easily page\n        this.pageComponents.push(component);\n        // and detach it for now, once it's created and initialized\n        // we'll reattach later\n        this.dynamicContainer.detach(0)\n      } else {\n        console.warn('Failed to load dynamic RoF page ' + page.type)\n      }\n    }\n  }\n\n  ngAfterContentInit() {\n    // Once we're initialized and loaded, select the startup page or, if unset, the first page\n    this.currentPage = this.pageComponents.find(c => c.instance.isStartPage) || this.pageComponents[0];\n    this.selectPage(this.currentPage.instance.id, PageOperation.Next);\n  }\n\n  /**\n   * Page selection for navigation of the RoF forms\n   * @param index The page index. Zero-based\n   */\n  selectPage (pageId: string, operation: PageOperation) {\n    if (!pageId) {\n      return;\n    }\n\n    // If the container is currently displaying a form, we want to\n    // detach it before pushing another one in. Detach, do not destroy\n    if (this.dynamicContainer.length > 0) {\n      // But, before we detach it, grab the components RoF instance and update to the parent instance\n      // just in case of missed changes\n      this.updateReportOfFire(this.currentPage.instance.reportOfFire, this.currentPage.instance.updateAttribute)\n      this.dynamicContainer.detach(0)\n    }\n\n    // find out what the next page will be\n    const nextPage = this.pageComponents.find(c => c.instance.id === pageId);\n\n    if (!nextPage) {\n      console.error('Failed to route to page ' + pageId + ' operation: ' + operation )\n      return;\n    }\n\n    // For progress bar handling. If the page tracks progress and isn't a sub-page (title match), then incrememnt\n    // or decrement the progress bar depending on if we're going to next or previous\n    if (operation !== PageOperation.previous && nextPage.instance.showProgress && nextPage.instance.title !== this.currentPage.instance.title) {\n      this.currentStep++;\n    } else if (operation === PageOperation.previous && this.currentPage.instance.showProgress && nextPage.instance.title !== this.currentPage.instance.title) {\n      this.currentStep--;\n    }\n\n    // get the new page index, for progress bar tracking and whatnot\n    this.currentPage = nextPage\n    // update the component to use the latest parent reportOfFire object, just to be sure\n    // all updates are matching on all forms\n    this.currentPage.instance.reportOfFire = this.reportOfFire;\n    // and finally insert the component into the container\n    this.dynamicContainer.insert(this.currentPage.hostView);\n\n    // Check if the component allows for the exit, skip buttons, and will display the progress\n    // bar at the bottom\n    this.allowExit = this.currentPage.instance.allowExit;\n    this.allowSkip = this.currentPage.instance.allowSkip;\n    this.showProgress = this.currentPage.instance.showProgress;\n\n    // And finally, just as a safety (but should not be needed), call a detect changes on the form\n    this.cdr.detectChanges();\n  }\n\n  /**\n   * When a component updates their instance of the RoF form, we want to make sure\n   * we're tracking the result of changes in both the parent and the child\n   * This will likely move to local store or some better implementation in the\n   * future, but I wanted to wait until we also had offline support going before\n   * causing a potential local store conflict\n   * @param reportOfFire The report of fire from the component\n   * @param attribute the attribute that was updated. Can be a string or an array\n   * @returns nothing\n   */\n  updateReportOfFire (reportOfFire: ReportOfFire, attribute: string | Array<string>) {\n    // If we don't have an attribute that we're targeting for an update, we should just ignore the whole thing\n    if (!attribute) {\n      return;\n    }\n\n    if (Array.isArray(attribute)) {\n      for (const att of attribute) {\n        this.reportOfFire[att] = reportOfFire[att];\n      }\n    } else {\n      this.reportOfFire[attribute] = reportOfFire[attribute];\n    }\n  }\n\n  /**\n   * Exit ROF form and return to the /map route\n   * This may change for mobile vs desktop\n   */\n  exit () {\n    this.router.navigateByUrl('/map')\n  }\n\n  /**\n   * RoF Container skip handler. This will execute the currently\n   * displayed components \"skip\"\n   */\n  skip () {\n    if (this.currentPage.instance.nextId || this.currentPage.instance.skipId) {\n      this.currentPage.instance.skip();\n    }\n  }\n}\n","<div style=\"max-width: 786px; height: 100%;\">\n  <div class=\"mobile-header\">\n    <span><span *ngIf=\"allowExit\" (click)=\"exit()\"><mat-icon style=\"transform: translatey(5px);\">chevron_left</mat-icon>Exit</span></span>\n    <span><span *ngIf=\"allowSkip\" (click)=\"skip()\" class=\"skip\">Skip</span></span>\n  </div>\n  <div #dynamic class=\"page-container\">\n  </div>\n  <div class=\"wrapper\" *ngIf=\"showProgress\">\n    <ol class=\"ProgressBar\">\n      <li class=\"ProgressBar-step\" *ngFor=\"let step of progressSteps; let i = index;\">\n        <svg class=\"ProgressBar-icon\" [style]=\"i === currentStep-1 ? 'background-color: #123262' : ''\"></svg>\n      </li>\n    </ol>\n  </div>\n</div>\n","/**\n * Model for the RoF object. This is matched against the model used in Notifications API,\n * Which we will be submitting to\n */\nexport class ReportOfFire {\n  public consentToCall: boolean = false;\n  public fullName: string = '';\n  public phoneNumber: string = '';\n  public estimatedDistance: number = 0;\n  public fireLocation: Array<number> = [0, 0];\n  public fireSize: string = '';\n  public rateOfSpread: string = '';\n  public visibleFlame: string = '';\n  public burning: Array<string> = [];\n  public smokeColor: Array<string> = [];\n  public weather: Array<string> = [];\n  public assetsAtRisk: Array<string> = [];\n  public signsOfResponse: Array<string> = [];\n  public otherInfo: string = '';\n  // image placeholder. Base64 strings or perhaps stored via capacitor before submit?\n  public image1: any;\n  public image2: any;\n  public image3: any;\n  public fireDirection: number = 0;\n}\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-review-page',\n  templateUrl: './rof-review-page.component.html',\n  styleUrls: ['./rof-review-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFReviewPage extends RoFPage {\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n  }\n\n  parseJson () {\n    return JSON.stringify(this.reportOfFire);\n  }\n}\n","<div class=\"page-content\">\n\n  {{ parseJson() }}\n\n  <div>\n\t  <button mat-flat-button class=\"rof-button-primary\" (click)=\"next()\">Submit</button>\n  </div>\n</div>\n","import { AfterViewInit, Component } from \"@angular/core\"\nimport { ReportOfFire } from \"./reportOfFireModel\"\nimport {v4 as uuidv4} from 'uuid';\n\n/**\n * This is the default page component used for the ROF screens\n * Made this a component rather than an interface in case we wanted\n * a \"stub\" page for injection, but this might not be needed so we\n * can likely change it to a plain interface in the future\n */\n\n@Component({\n  selector: 'rof-page',\n  template: '<div></div>'\n})\nexport class RoFPage {\n  public id: string;\n  public previousId: string;\n  public nextId: string;\n  public skipId: string;\n  public isStartPage: boolean;\n  public index: number;\n  public allowSkip: boolean;\n  public allowExit: boolean;\n  public reportOfFire: ReportOfFire;\n  public title: string;\n  public message: string;\n  public updateAttribute: string;\n  public showProgress: boolean;\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    this.allowExit = data.allowExit;\n    this.allowSkip = data.allowSkip;\n    this.isStartPage = data.isStartPage || false;\n    this.message = data.message;\n    this.title = data.title;\n    this.showProgress = data.showProgress;\n    this.updateAttribute = data.updateAttribute || '';\n    this.index = index;\n    this.reportOfFire = reportOfFire;\n    this.id = data.id || uuidv4();\n    this.previousId = data.previousId || null;\n    this.nextId = data.nextId || null;\n    this.skipId = data.skipId || null;\n  }\n\n  previous () {\n    // stub used for instantiation of extended components\n  }\n\n  next () {\n    // stub used for instantiation of extended components\n  }\n\n  skip () {\n    // stub used for instantiation of extended components\n  }\n\n  close () {\n    // stub used for instantiation of extended components\n  }\n}\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-simple-question-page',\n  templateUrl: './rof-simple-question-page.component.html',\n  styleUrls: ['./rof-simple-question-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFSimpleQuestionPage extends RoFPage {\n  public allowIDontKnowButton: boolean\n  public localVal: any;\n  public optionSelected: string;\n\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire)\n    this.allowIDontKnowButton = data.allowIDontKnowButton;\n  }\n\n  onValChange (value) {\n    this.optionSelected = value;\n    if (value && this.updateAttribute && this.updateAttribute !== \"\") {\n      this.reportOfFire[this.updateAttribute] = value;\n    }\n  }\n\n  processToNext(){\n    if( (this.id === 'response-page' || this.id === 'infrastructure-page') && this.optionSelected !== 'yes'){\n      this.skip()\n    }\n    else{\n      this.next()\n    }\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-primary-header\">{{ title }}</div>\n  <div class=\"rof-text-secondary-header\">{{ message }}</div>\n\n  <mat-button-toggle-group class=\"simple-toggle\" [(ngModel)]=\"updateAttribute ? reportOfFire[updateAttribute] : localVal\" #questionOptions=\"matButtonToggleGroup\" vertical name=\"questionButtons\" aria-label=\"Question Options\">\n    <mat-button-toggle value=\"yes\" (change)=\"onValChange('yes')\"><mat-icon>check</mat-icon>Yes</mat-button-toggle>\n    <mat-button-toggle value=\"no\" (change)=\"onValChange('no')\"><mat-icon>close</mat-icon>No</mat-button-toggle>\n    <mat-button-toggle *ngIf=\"allowIDontKnowButton\" value=\"skip\"><span class=\"question-mark\">?</span>I'm not sure</mat-button-toggle>\n  </mat-button-toggle-group>\n\n  <div class=\"rof-button-container\">\n    <button class=\"rof-button\" mat-flat-button (click)=\"previous()\">Previous</button>\n    <button *ngIf=\"!showProgress\" [class]=\"'rof-button' + (!questionOptions.value ? '-disabled' : '-primary')\" [disabled]=\"!questionOptions.value\" mat-flat-button (click)=\"questionOptions.value === 'yes' ? next() : skip()\">Continue</button>\n    <button *ngIf=\"showProgress\" [class]=\"'rof-button' + (!questionOptions.value ? '-disabled' : '-primary')\" [disabled]=\"!questionOptions.value\" mat-flat-button color=\"primary\" (click)=\"processToNext()\">Next<mat-icon [svgIcon]=\"!questionOptions.value? 'arrow-forward-disabled' : 'arrow-forward-enabled'\" class=\"left-padding\" style=\"width: 24px; height: 24px;\"></mat-icon></button>        \n\n  </div>\n\n</div>\n","import { Component, ChangeDetectionStrategy } from \"@angular/core\";\nimport { RoFPage } from \"../rofPage\";\nimport { ReportOfFire } from \"../reportOfFireModel\";\n\n@Component({\n  selector: 'rof-title-page',\n  templateUrl: './rof-title-page.component.html',\n  styleUrls: ['./rof-title-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoFTitlePage extends RoFPage {\n  public imageUrl: string\n  public closeButton: boolean\n  public messages: any;\n\n  public constructor() {\n    super()\n  }\n\n  initialize (data: any, index: number, reportOfFire: ReportOfFire) {\n    super.initialize(data, index, reportOfFire);\n    this.imageUrl = data.imageUrl;\n    this.closeButton = data.closeButton;\n    this.messages = this.message.split('\\n');\n  }\n\n  openCallPage () {\n    // not yet implemented\n  }\n}\n","<div class=\"page-content\">\n  <div class=\"rof-text-title\">{{ title }}</div>\n  <img alt=\"Report of Fire Banner\" [src]=\"imageUrl\"  class=\"rof-image\"/>\n  <div class=\"rof-text-secondary-header\">\n    <p *ngFor=\"let message of messages\">\n      {{ message }}    \n    </p>\n  </div>\n  <div *ngIf=\"!closeButton\" class=\"rof-button-container\">\n      <button mat-flat-button class=\"rof-button\" style=\"background-color: #FFF\" (click)=\"openCallPage()\"><mat-icon svgIcon=\"phone\" style=\"width: 24px; height: 24px;\"></mat-icon>Call</button>\n      <button mat-flat-button class=\"rof-button-primary\" (click)=\"next()\"><mat-icon svgIcon=\"arrow-forward-enabled\" class=\"left-padding\" style=\"width: 24px; height: 24px;\"></mat-icon>Start</button>\n  </div>\n  <div *ngIf=\"closeButton\" class=\"rof-button-container\" style=\"position: fixed; justify-content: center; margin-top: 55px;\">\n    <button mat-flat-button class=\"rof-button\" (click)=\"close()\">Close</button>\n  </div>\n</div>\n","import {AfterViewInit, Component} from \"@angular/core\";\nimport { AppConfigService } from \"@wf1/core-ui/public_api\";\nimport {BaseComponent} from \"../base/base.component\";\n\n@Component({\n  selector: 'wfnews-sign-out-page',\n  templateUrl: './sign-out-page.component.html',\n  styleUrls: ['./sign-out-page.component.scss']\n})\nexport class SignOutPageComponent extends BaseComponent implements AfterViewInit {\n  appConfig: AppConfigService\n\n  ngOnInit() {\n\n    this.tokenService.clearLocalStorageToken()\n    const siteminderUrlPrefix = this.appConfigService.getConfig().application['siteminderUrlPrefix'].toString();\n    const baseUrl = this.appConfigService.getConfig().application.baseUrl\n    window.location.href = siteminderUrlPrefix + baseUrl + \"&retnow=1\";\n    \n  }\n\n  ngOnDestroy() {\n    // unused\n  }\n\n}","<div class=\"unauthorized-page\">\n  <div class=\"sign-out\">\n    <h1>WFNEWS Sign Out Page</h1>\n    <h2>Signing you out!</h2>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AppConfigService } from '@wf1/core-ui';\n\n@Component({\n    selector: 'contact-widget-dialog',\n    templateUrl: 'contact-widget-dialog.component.html',\n    styleUrls: ['./contact-widget-dialog.component.scss']\n})\nexport class ContactWidgetDialogComponent implements OnInit {\n\n    public contactForm: UntypedFormGroup;\n    contactInformationConfig: any;\n    public closeColor;\n\n    constructor (\n      private dialogRef: MatDialogRef<ContactWidgetDialogComponent>,\n      private snackbarService: MatSnackBar,\n      private appConfig: AppConfigService,\n      private httpClient: HttpClient\n    ) {}\n\n    ngOnInit() {\n        this.appConfig.loadAppConfig()\n            .then(() => {\n                this.contactInformationConfig = this.appConfig.getConfig().externalAppConfig['contactInformation'];\n            })\n            .catch((e) => {\n                console.warn('Failed initializing app', e);\n            });\n\n        this.contactForm = new UntypedFormGroup({\n            name: new UntypedFormControl('', [Validators.required]),\n            email: new UntypedFormControl('', [Validators.required, Validators.email]),\n            subject: new UntypedFormControl('', [Validators.required]),\n            message: new UntypedFormControl('', [Validators.required, Validators.maxLength(500)])\n        });\n    }\n\n    public error = (controlName: string, errorName: string) =>{\n        return this.contactForm.controls[controlName].hasError(errorName);\n    }\n\n    get mailErrorMessages(): string {\n        let error = \"\";\n        const emailControl: UntypedFormControl = (this.contactForm.get('email') as UntypedFormControl);\n\n        if(emailControl.hasError('email'))\n            error += \"A valid email is required\";\n\n        return error;\n     }\n\n    onSubmit() {\n        this.dialogRef.close();\n        const url = `${this.appConfig.getConfig().rest['wfnews']}/mail`;\n\n        this.httpClient.post(url, {\n          \"@type\": 'MailResource',\n          \"type\": 'http://wfnews.nrs.gov.bc.ca/v1/mail',\n          name: this.contactForm.get('name').value,\n          subject: this.contactForm.get('subject').value,\n          emailAddress: this.contactForm.get('email').value,\n          messageBody: this.contactForm.get('message').value\n        }).toPromise().then(() => {\n          this.snackbarService.open('Thank you! Our Team will contact you as soon as possible.', null, { duration: 10000, panelClass: 'snackbar-success-v2' });\n        }).catch(err => {\n          this.snackbarService.open('Your request could not be processed at this time. Please try again later.', null, { duration: 10000, panelClass: 'snackbar-error' });\n        })\n    }\n}\n","<ng-container [formGroup]=\"contactForm\">\n    <div class=\"dialog-container contact-widget-dialog-container\">\n        <h1 class=\"mat-mdc-dialog-title\">Contact Information <mat-icon [color]=\"closeColor\"\n          (mouseover)=\"closeColor = 'warn'\"\n          (mouseout)=\"closeColor = null\" [mat-dialog-close]=\"false\" style=\"cursor: pointer;\">close</mat-icon></h1>\n        <div class=\"dialog-content\" mat-dialog-content>\n            <div class=\"contact-widget-dialog-content\">\n                <div class=\"panel left-panel\">\n                    <div class=\"\">\n                        Select a wildfire to view contact information associated with a specific incident.\n                    </div>\n                    <div class=\"pt-3\">\n                        Submit general feedback and questions using this form and we will get back to you as soon as\n                        possible.\n                    </div>\n                    <div class=\"form\">\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label required\">Name<span style=\"color: red\">*</span></mat-label>\n                                <input matInput type=\"text\" formControlName=\"name\" aria-label=\"Name\" />\n                            </div>\n                            <div class=\"field\">\n                                <mat-label class=\"label required\">Email<span style=\"color: red\">*</span></mat-label>\n                                <input  matInput type=\"text\" formControlName=\"email\" aria-label=\"Email\" />\n                                <mat-error style=\"font-size: 15px; padding-top: 7px; \">{{ mailErrorMessages }}</mat-error>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label\">Subject<span style=\"color: red\">*</span></mat-label>\n                                <input matInput type=\"text\" formControlName=\"subject\" aria-label=\"Subject\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label\">Message<span style=\"color: red\">*</span></mat-label>\n                                <textarea rows=\"3\" style=\"height:auto;\" matInput formControlName=\"message\" aria-label=\"Message\" maxlength=\"500\"></textarea>\n                            </div>\n                        </div>\n                        <div class=\"row submit-row\">\n                            <button class=\"contact-submit\" (click)=\"onSubmit()\" [disabled]=\"!contactForm.valid\">Submit Message</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"panel right-panel\">\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Report a Wildfire</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['reportAWildfirePhone']}}\">{{contactInformationConfig['reportAWildfirePhone']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Wildfire Information Line</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['wildFireInformationLine']}}\">{{contactInformationConfig['wildFireInformationLine']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Burn Registration Line</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['burnRegistrationLine']}}\">{{contactInformationConfig['burnRegistrationLine']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Social Media</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" target=\"_blank\" rel=noopener href=\"{{contactInformationConfig['socialMedia']['facebook']}}\"> BC Wildfire Service </a>\n                        </div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" target=\"_blank\" rel=noopener href=\"{{contactInformationConfig['socialMedia']['twitter']}}\"> @BCGovFireInfo </a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">More Information</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" rel=noopener target=\"_blank\" href=\"{{contactInformationConfig['moreInformationLink']}}\">Wildfire Contact Channels </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n","import { ChangeDetectorRef, Component, OnDestroy } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { ResourcesRoutes, isMobileView as mobileView } from '../../utils';\nimport { ContactWidgetDialogComponent } from './contact-widget-dialog/contact-widget-dialog.component';\n\n@Component({\n    selector: 'sticky-widget',\n    templateUrl: 'sticky-widget.component.html',\n    styleUrls: ['./sticky-widget.component.scss']\n})\nexport class StickyWidgetComponent implements OnDestroy {\n  public showWatchlist = false\n  public watchlist: any[] = []\n  private closeProgressInterval: any\n  public progressValue = 0\n\n  public isMobileView = mobileView\n\n  constructor(protected dialog: MatDialog, protected cdr: ChangeDetectorRef, private router: Router, private watchlistService: WatchlistService, private publishedIncidentService: PublishedIncidentService) {}\n\n  ngOnDestroy(): void {\n    clearInterval(this.closeProgressInterval)\n  }\n\n  openContactForm() {\n    this.dialog.open(ContactWidgetDialogComponent, {\n      width: '950px',\n    });\n  }\n\n  openIncident (incident: any) {\n    const url = this.router.serializeUrl(\n      this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: incident.fireYear, incidentNumber: incident.incidentNumberLabel } })\n    )\n    window.open(url, '_blank')\n  }\n\n  removeFromWatchlist (incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n    this.showWatchlist = !this.showWatchlist\n    this.loadWatchlist()\n  }\n\n  stopDelay () {\n    if (this.closeProgressInterval) {\n      clearInterval(this.closeProgressInterval)\n      this.closeProgressInterval = null\n      this.progressValue = 0\n    }\n  }\n\n  delayClose () {\n    this.closeProgressInterval = setInterval(() => {\n      if (this.progressValue > 100) {\n        this.loadWatchlist()\n        this.stopDelay()\n      } else {\n        this.progressValue += 2\n      }\n    }, 100)\n  }\n\n  async loadWatchlist () {\n    this.showWatchlist = !this.showWatchlist\n    if (this.showWatchlist) {\n      this.watchlist = []\n      const watchlistItems = this.watchlistService.getWatchlist()\n      for (const item of watchlistItems) {\n        const fireYear = item.split(':')[0]\n        const incidentNumber = item.split(':')[1]\n        const incident = await this.publishedIncidentService.fetchPublishedIncident(incidentNumber, fireYear).toPromise()\n        if (incident) {\n          const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n          incident.lastUpdatedTimestamp = new Date(incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options);\n          this.watchlist.push(incident)\n        }\n      }\n    }\n    this.cdr.detectChanges()\n  }\n}\n","<div class=\"sticky-widget no-print\">\n    <div id=\"watchlist\" *ngIf=\"showWatchlist\" class=\"watchlist-container\" (mouseleave)=\"delayClose()\" (mouseenter)=\"stopDelay()\" (blur)=\"loadWatchlist()\">\n      <mat-progress-bar style=\"margin-left: 0px; width: 100% !important;\" mode=\"determinate\" [value]=\"progressValue\"></mat-progress-bar>\n      <div class=\"watchlist-header\">\n        <div>Watch List</div>\n        <span class=\"subtitle\">Add a fire to your watch list by clicking the <mat-icon style=\"color: #003366\">bookmark_border</mat-icon> icon.</span>\n        <div style=\"margin-left: auto; cursor: pointer;\" (click)=\"loadWatchlist()\"><mat-icon>close</mat-icon></div>\n      </div>\n      <div class=\"watchlist-items\">\n        <div class=\"watchlist-item\" *ngFor=\"let item of watchlist\">\n          <div class=\"item-title\"><span (click)=\"openIncident(item)\">{{item.incidentName}}</span><span #el style=\"cursor: pointer;\" (click)=\"removeFromWatchlist(item)\"><mat-icon style=\"color:#1A5A96\">bookmark</mat-icon></span></div>\n          <div class=\"item-body\">{{item.lastUpdatedTimestamp}}</div>\n        </div>\n        <div *ngIf=\"!watchlist || watchlist.length === 0\" style=\"margin: auto;\">\n          You have no items on your watch list\n        </div>\n      </div>\n    </div>\n    <button *ngIf=\"!showWatchlist && !isMobileView()\" class=\"btn watchlist-btn\" (click)=\"loadWatchlist()\">\n        <mat-icon>bookmark</mat-icon>Watch List\n    </button>\n    <button *ngIf=\"!isMobileView()\" class=\"btn contact-btn\" (click)=\"openContactForm()\">\n        <mat-icon>email</mat-icon>Contact Us\n    </button>\n    <button *ngIf=\"!showWatchlist && isMobileView()\" class=\"btn-fab\" mat-fab (click)=\"loadWatchlist()\">\n      <mat-icon>bookmark</mat-icon>\n    </button>\n    <button *ngIf=\"isMobileView()\" mat-fab class=\"btn-fab-primary\" (click)=\"openContactForm()\">\n        <mat-icon>email</mat-icon>\n    </button>\n</div>\n","<div class=\"smk-popup\">\n  <div class=\"popup-header\">\n    <span>Latest Weather Reading: {{convertName(hourly.hour)}} PST</span>\n  </div>\n  <div class=\"popup-title\">{{stationData.stationName}}</div>\n  <div *ngIf=\"hourly && hourly.temp\" class=\"popup-attributes\">\n    <div class=\"label\">Temperature:</div>\n    <div class=\"attribute\">{{hourly.temp}}°</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.relativeHumidity\" class=\"popup-attributes\">\n    <div class=\"label\">Relative Humidity:</div>\n    <div class=\"attribute\">{{hourly.relativeHumidity}}%</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.windSpeed\" class=\"popup-attributes\">\n    <div class=\"label\">Wind Speed:</div>\n    <div class=\"attribute\">{{hourly.windSpeed}} km/h</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.windDirection\" class=\"popup-attributes\">\n    <div class=\"label\">Wind Direction:</div>\n    <div class=\"attribute\">{{hourly.windDirection}}° {{hourly.windCardinalDir}}</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.precipitation\" class=\"popup-attributes\">\n    <div class=\"label\">Precipitation:</div>\n    <div class=\"attribute\">{{hourly.precipitation}}mm</div>\n  </div>\n  <div *ngIf=\"!hourly || (!hourly.temp && !hourly.relativeHumidity && !hourly.windSpeed && !hourly.windDirection&& !hourly.precipitation)\" class=\"popup-attributes\">\n    No Information Available\n  </div>\n  <div class=\"popup-button-container\">\n    <a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://wfapps.nrs.gov.bc.ca/pub/wfwx-danger-summary-war/dangerSummary\">Learn More</a>\n  </div>\n</div>\n","import { Component, OnDestroy } from '@angular/core';\n\n@Component({\n  selector: 'weather-panel',\n  templateUrl: './weather-panel.component.html',\n  styleUrls: ['./weather-panel.component.scss']\n})\nexport class WeatherPanelComponent implements OnDestroy {\n  public stationData;\n  public hourly;\n  public tempWindData;\n  public precipHumidityData;\n\n  ngOnDestroy(): void {\n    (document.getElementsByClassName('smk-sidepanel').item(0) as HTMLElement).style.removeProperty('width')\n  }\n\n  setWeatherStation (station) {\n    this.stationData = station;\n    this.hourly = station.hourly[0].temperature ? station.hourly[0] : station.hourly[1]\n\n    this.tempWindData = []\n    this.precipHumidityData = [];\n\n    const tempWindDataHolder = []\n    const precipHumidityDataHolder = []\n    const temp = {\n      name: 'Temperature',\n      series: []\n    }\n    const humidity = {\n      name: 'Relative Humidity',\n      series: []\n    }\n    const precip = {\n      name: 'Precipitation',\n      series: []\n    }\n    const wind = {\n      name: 'Windspeed',\n      series: []\n    }\n    tempWindDataHolder.push(...[temp, wind]);\n    precipHumidityDataHolder.push(...[humidity, precip]);\n    for (const hour of station.hourly) {\n      const name = this.convertName(hour.hour)\n      if (hour.temp) {\n        temp.series.push({\n          name: name,\n          value: hour.temp || 0,\n        });\n      }\n      if (hour.relativeHumidity) {\n        humidity.series.push({\n          name: name,\n          value: hour.relativeHumidity || 0,\n        });\n      }\n      if (hour.precipitation) {\n        precip.series.push({\n          name: name,\n          value: hour.precipitation || 0,\n        });\n      }\n      if (hour.windSpeed) {\n        wind.series.push({\n          name: name,\n          value: hour.windSpeed || 0,\n        });\n      }\n    }\n\n    // Workaround to force update\n    this.tempWindData = [...tempWindDataHolder];\n    this.precipHumidityData = [...precipHumidityDataHolder];\n  }\n\n  convertName (name: string) {\n    return name.substring(4, 6) + '-' + name.substring(6, 8) + ' ' + name.substring(8, 10) + ':00';\n  }\n}\n","import { ChangeDetectionStrategy, Component } from \"@angular/core\";\nimport { WfAdminPanelComponent } from \"./wf-admin-panel.component\";\n\n@Component({\n    selector: 'wf-admin-panel-desktop',\n    templateUrl: './wf-admin-panel.component.desktop.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './wf-admin-panel.component.desktop.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n  })\n\nexport class WfAdminPanelComponentDesktop extends WfAdminPanelComponent {\n    columnsToDisplay = [\"fireNumber\", \"fireName\", \"fireCentre\", \"wildFireOfNote\", \"lastUpdated\"];\n}\n","<div>\n    <p class=\"dashboard-title\">Dashboard: {{currentYearString}}</p>\n    <p class =\"active-incidents\" ><strong> {{collection? collection.totalRowCount : null}} ACTIVE</strong> Fire Incidents</p>\n    <p class=\"datetime\"> {{currentDateTimeString}}</p>\n</div>\n\n<div class=\"table-search-header flex-y-fixed\">\n    <div class=\"search-and-filters\">\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search</mat-label>\n            <input class=\"search-input\" aria-label=\"Search\" [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTextUpdated()\">\n            <button mat-mdc-button matSuffix mat-mdc-icon-button class=\"input-clear-button\" *ngIf=\"searchText\"\n                    aria-label=\"Clear\" (click)=\"searchText=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Fire Centre</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                    aria-label=\"Type\"\n                    [options]=\"fireCentreOptions\"\n                    [selected]=\"selectedFireCentreCode\"\n                    (updated)=\"selectFilterUpdated('selectedFireCentreCode', $event)\"\n                    [(ngModel)]=\"selectedFireCentreCode\">\n                <option value=\"\">\n                    <span class=\"placeholder\">Select...</span>\n                </option>\n                <option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                    <span>{{item.description}}</span>\n                </option>\n            </select>\n        </div>\n        <div class=\"fire-type-radio-button-group\">\n            <mat-label>Fire Type</mat-label>\n            <mat-radio-group class=\"radio-group\">\n                <mat-radio-button class=\"radio-button\" (change)=\"fireTypeChange($event)\" value=\"note\" [checked]=\"fireOfNotePublishedInd\">\n                    Wildfires Of Note\n                </mat-radio-button>\n                <mat-radio-button class=\"radio-button\" (change)=\"fireTypeChange($event)\" value=\"all\">\n                    All Fire Incidents\n                </mat-radio-button>\n            </mat-radio-group>\n        </div>\n\n        <div class=\"field\">\n            <button mat-raised-button color=\"primary\" (click)=\"clearSearchAndFilters()\" style=\"width: 100px;\"><mat-icon svgIcon=\"filter-cancel\"></mat-icon>Clear</button>\n        </div>\n    </div>\n\n</div>\n\n\n<div class=\"table-wrapper flex-y-grow\" *ngIf=\"collectionData; else loading\">\n    <table style = \"width: -webkit-fill-available\" mat-table matSort [dataSource]=\"collectionData | paginate:config\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Incident Table\">\n        <ng-container matColumnDef = \"fireNumber\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Number</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentLabel}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireCentre\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Centre</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireCentreOrgUnitName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"wildFireOfNote\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Wildfire of Note</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireOfNotePublishedInd ? 'Yes' : 'No'}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"lastUpdated\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header style = \"text-align: center;\"> Last Updated</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" [matTooltip]=\"convertToDate(item.lastUpdatedTimestamp)\" (click)=\"selectIncident(item)\"><span #el >{{convertToDate(item.lastUpdatedTimestamp)}}</span></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n\n\n<div class=\"bottom-summary flex-y-fixed\">\n    <div class=\"showing-summary\">{{summaryString}}</div>\n    <pagination-controls style = \"text-align:center\" [id]=\"config.id\"\n                         [maxSize]=\"5\"\n                         [responsive]=\"false\"\n                         [directionLinks]=\"true\"\n                         [previousLabel]=\"paginatorLabels.previousLabel\"\n                         [nextLabel]=\"paginatorLabels.nextLabel\"\n                         [autoHide]=\"false\"\n                         (pageChange)=\"onPageChange($event)\"></pagination-controls>\n    <div class=\"show-entries-info\">\n                    <span>\n                        Show\n                    </span>\n        <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                class=\"select-showEntriesSelection\"\n                aria-label=\"Show entries\"\n                [position]=\"'top'\"\n                [selected]=\"showEntriesSelection\"\n                [options]=\"showEntriesOptions\"\n                (updated)=\"selectShowEntriesUpdated('showEntriesSelection', $event)\"\n                [(ngModel)]=\"showEntriesSelection\">\n            <option *ngFor=\"let option of showEntriesOptions\" value=\"{{option.value}}\">\n                <span>{{option.label}}</span>\n            </option>\n        </select>\n        <span>entries</span>\n    </div>\n</div>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class WfAdminPanelComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): WfAdminPanelComponentModel {\n        let clonedModel: WfAdminPanelComponentModel = new WfAdminPanelComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { AfterViewInit, Directive, OnChanges, SimpleChanges } from '@angular/core';\nimport * as moment from 'moment';\nimport { searchIncidents } from '../../store/incidents/incidents.action';\nimport { initIncidentsPaging, SEARCH_INCIDENTS_COMPONENT_ID } from '../../store/incidents/incidents.stats';\nimport { FireCentres, ResourcesRoutes } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { WfAdminPanelComponentModel } from './wf-admin-panel.component.model';\n\n@Directive()\nexport class WfAdminPanelComponent extends CollectionComponent implements OnChanges, AfterViewInit {\n\n  public currentYearString;\n  public currentDateTimeString;\n\n  displayLabel = \"Simple Incidents Search\"\n  selectedFireCentreCode = \"\";\n  fireOfNotePublishedInd = true;\n  fireCentreOptions = FireCentres;\n\n  initModels() {\n    this.model = new WfAdminPanelComponentModel(this.sanitizer);\n    this.viewModel = new WfAdminPanelComponentModel(this.sanitizer);\n  }\n\n  loadPage() {\n    this.componentId = SEARCH_INCIDENTS_COMPONENT_ID;\n    this.getCurrentYearString()\n    this.updateView();\n    this.initSortingAndPaging(initIncidentsPaging);\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.doSearch();\n  }\n\n  doSearch() {\n    this.getCurrentYearString()\n    this.store.dispatch(searchIncidents(this.componentId, {\n      pageNumber: this.config.currentPage,\n      pageRowCount: this.config.itemsPerPage,\n      sortColumn: this.currentSort,\n      sortDirection: this.currentSortDirection,\n      query: this.searchText\n    },\n      this.selectedFireCentreCode, this.fireOfNotePublishedInd, this.displayLabel));\n  }\n\n  onChangeFilters() {\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n  clearSearchAndFilters() {\n    this.searchText = null;\n    this.selectedFireCentreCode = null;\n    this.fireOfNotePublishedInd = true;\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n\n  getViewModel(): WfAdminPanelComponentModel {\n    return <WfAdminPanelComponentModel>this.viewModel;\n  }\n\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes)\n  }\n\n  getCurrentYearString() {\n    let currentYear = new Date().getFullYear()\n    if (new Date().getMonth() < 3) {\n      currentYear -= 1\n    }\n    this.currentYearString = currentYear.toString() + \"/\" + (currentYear + 1).toString();\n    const todaysDate: Date = new Date();\n    const options: Intl.DateTimeFormatOptions = {\n      day: \"numeric\", month: \"long\", year: \"numeric\",\n      hour: \"numeric\", minute: \"2-digit\"\n    };\n    const weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    const todayString = weekdays[todaysDate.getDay()];\n    const liveDateTime: string = (todayString + \" \" + todaysDate.toLocaleDateString(\"en-US\", options)).replace(\" at \", \" - \");\n    this.currentDateTimeString = liveDateTime\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD HH:mm:ss')\n    }\n  }\n\n  selectIncident(incident: any) {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ADMIN_INCIDENT], { queryParams: { wildFireYear: incident.wildfireYear, incidentNumberSequence: incident.incidentNumberSequence } });\n    }, 100);\n  }\n\n  fireTypeChange(event: any) {\n    this.fireOfNotePublishedInd = event.value === 'note'\n    this.doSearch()\n  }\n}\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, ComponentRef, EventEmitter, Injector, Input, NgZone, OnChanges, OnDestroy, Output, SimpleChanges, Type, ViewChild, ViewContainerRef } from '@angular/core';\nimport { PointIdService } from '../../services/point-id.service';\nimport { WFMapService } from '../../services/wf-map.service';\nimport { IncidentIdentifyPanelComponent } from '../incident-identify-panel/incident-identify-panel.component';\nimport { WeatherPanelComponent } from '../weather-panel/weather-panel.component';\n\nlet mapIndexAuto = 0;\nlet initPromise = Promise.resolve();\n\n@Component({\n  selector: 'wf-map-container',\n  templateUrl: './wf-map-container.component.html',\n  styleUrls: ['./wf-map-container.component.scss']\n})\nexport class WFMapContainerComponent implements OnDestroy, OnChanges {\n  @ViewChild('identifyContainer', { read: ViewContainerRef }) identifyContainer: ViewContainerRef;\n  @Input() mapIndex = 0;\n  @Input() mapConfig: Array<any>;\n\n  @Output() mapInitialized = new EventEmitter<any>();\n  @Output() toggleAccordion = new EventEmitter<any>();\n  @Output() fullScreen = new EventEmitter<any>();\n\n  @ViewChild('mapContainer') mapContainer;\n\n  private initPromise: Promise<any>; // = Promise.resolve()\n  private mapIndexAuto;\n  private lastClickedLocation;\n  private zone: NgZone;\n  private componentRef: ComponentRef<any>;\n\n  constructor(\n    protected wfMap: WFMapService,\n    protected pointIdService: PointIdService,\n    protected injector: Injector,\n    protected cdr: ChangeDetectorRef,\n    protected componentFactoryResolver: ComponentFactoryResolver\n  ) {\n    mapIndexAuto += 1;\n    this.mapIndexAuto = mapIndexAuto;\n\n    this.zone = this.injector.get(NgZone)\n  }\n\n\n  ngOnDestroy() {\n    this.destroyMap();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.initMap();\n  }\n\n  initMap(): void {\n    const self = this;\n    const mapIndex = this.mapIndex || this.mapIndexAuto;\n    const mapConfig = clone(this.mapConfig);\n\n    if (!mapConfig) {\n      return;\n    }\n\n    this.destroyMap();\n\n    // initialize the map\n    initPromise = initPromise.then(function () {\n      return self.wfMap.createSMK({\n        id: mapIndex,\n        containerSel: self.mapContainer.nativeElement,\n        config: mapConfig,\n        toggleAccordion: self.toggleAccordion,\n        fullScreen: self.fullScreen\n      }).then(function (smk) {\n        self.mapInitialized.emit(smk);\n        const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--show-list');\n        // hideListButtonElement[0][\"style\"][\"display\"] = 'none';\n\n        smk.$viewer.handlePick(3, function (location) {\n          self.lastClickedLocation = location\n          // If the layer is visible only\n          if (smk && smk.$viewer.displayContext.layers.itemId['weather-stations'] && smk.$viewer.displayContext.layers.itemId['weather-stations'][0].isVisible) {\n            self.addNearbyWeatherStation(smk);\n            (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n          }\n        })\n\n        self.wfMap.setIdentifyDoneCallback(() => {\n          self.addSelectedIncidentPanels(smk);\n        })\n\n        return smk;\n      })\n    }).catch(function (e) {\n      console.warn(e);\n    });\n    this.initPromise = initPromise;\n  }\n\n  destroyMap(): void {\n    if (!this.initPromise) {\n      return;\n    }\n\n    this.initPromise = this.initPromise.then(function (smk) {\n      if (!smk) {\n        return;\n      }\n\n      smk.destroy();\n    });\n  }\n\n  addSelectedIncidentPanels (smk) {\n    const self = this;\n    const identified = smk.$viewer.identified;\n    for (const fid in identified.featureSet) {\n      if (Object.prototype.hasOwnProperty.call(identified.featureSet, fid)) {\n        const feature = identified.featureSet[fid];\n        if (['active-wildfires-fire-of-note', 'active-wildfires-out-of-control', 'active-wildfires-holding', 'active-wildfires-under-control', 'bcws-activefires-publicview-inactive', 'fire-perimeters'].includes(feature.layerId)) {\n          feature.properties.createContent = function (el) {\n            self.zone.run(function () {\n              let compRef = self.makeComponent(IncidentIdentifyPanelComponent);\n              (compRef.instance as any).setIncident(feature.properties, identified.featureSet);\n              const panel = (document.getElementsByClassName('identify-panel').item(0) as HTMLElement);\n              panel.appendChild(compRef.location.nativeElement);\n              self.cdr.detectChanges();\n              // display the panel\n              (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'block';\n              // apply a slight debounce to clear the identify and destroy the panel\n              setTimeout(() => {\n                const identifyPanel = (document.getElementsByClassName('smk-panel').item(0) as HTMLElement)\n                identifyPanel.remove();\n                // use smk.$viewer.identified to reset the form?\n              }, 200);\n            })\n          }\n        }\n      }\n    }\n  }\n\n  addNearbyWeatherStation (smk) {\n    const self = this;\n    this.pointIdService.fetchNearestWeatherStation(this.lastClickedLocation.map.latitude, this.lastClickedLocation.map.longitude)\n    .then(function (station) {\n      smk.$viewer.identified.add('weather-stations', [{\n          type: 'Feature',\n          title: station.stationName,\n          properties: {\n              code: station.stationCode,\n              createContent: function (el) {\n                  self.zone.run(function () {\n                      let compRef = self.makeComponent(WeatherPanelComponent);\n                      (compRef.instance as any).setWeatherStation(station);\n                      el.appendChild(compRef.location.nativeElement)\n                      self.cdr.detectChanges();\n                  })\n              },\n          },\n          geometry: {\n              type: 'Point',\n              coordinates: [self.lastClickedLocation.map.longitude, self.lastClickedLocation.map.latitude]\n          }\n      }])\n    });\n  }\n\n  makeComponent<C>(component: Type<C>): ComponentRef<C> {\n    if (this.componentRef)\n        this.componentRef.destroy()\n\n    this.identifyContainer.clear()\n    this.componentRef = this.identifyContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(component))\n\n    return this.componentRef\n  }\n}\n\nfunction clone(o) {\n  return JSON.parse(JSON.stringify(o));\n}\n","<div class=\"map-container\">\n    <div #mapContainer class=\"smk-map-frame\"></div>\n</div>\n\n<ng-template #identifyContainer></ng-template>\n<sticky-widget></sticky-widget>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { interval, Subscription } from 'rxjs';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { snowPlowHelper } from '../../utils';\n\n@Component({\n  selector: 'wf-stats',\n  templateUrl: './wf-stats.component.html',\n  styleUrls: [ './wf-stats.component.scss' ]\n})\nexport class WFStatsComponent implements OnInit {\n  public fires = []\n  public outFires = []\n  public firesLast24 = 'Unknown'\n  public firesLast7Days = 'Unknown'\n  public thisYearCount = 'Unknown'\n  public loading = true\n  public tabIndex = 0\n  // chart data\n  public activeFiresByCentre = []\n  public fireStats = []\n  public activeFiresByCause = []\n  public activeFiresByStatus = []\n  public allFiresByCentre = []\n  public allFiresByCause = []\n  public allFiresByStatus = []\n  public url;\n  public snowPlowHelper = snowPlowHelper\n\n\n  private updateSubscription: Subscription;\n\n  public FIRE_CENTRE_COLOURS = [\n    { name: 'Coastal', value: '#519a97' },\n    { name: 'Cariboo', value: '#ca8321' },\n    { name: 'Kamloops', value: '#e96b56' },\n    { name: 'Northwest', value: '#a27ea8' },\n    { name: 'Prince George', value: '#799136' },\n    { name: 'Southeast', value: '#369dc9' }\n  ]\n\n  public CAUSE_COLOURS = [\n    { name: 'Lightning', value: '#519a97' },\n    { name: 'Person', value: '#a27ea8' },\n    { name: 'Unknown', value: '#799136' }\n  ]\n\n  public STAGE_OF_CONTROL_COLOURS = [\n    { name: 'Fire of Note', value: '#519a97' },\n    { name: 'Out of Control', value: '#a27ea8' },\n    { name: 'Being Held', value: '#799136' },\n    { name: 'Under Control', value: '#e96b56' },\n    { name: 'Out', value: '#369dc9' }\n  ]\n\n  constructor(protected appConfigService: AppConfigService,\n              protected router: Router,\n              protected snackbarService: MatSnackBar,\n              private publishedIncidentService: PublishedIncidentService,\n              protected cdr: ChangeDetectorRef) {\n  }\n\n  ngOnInit(): void {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n    this.loadData().then(() => {\n      this.loading = false;\n      // 600000 is 10 minutes in milliseconds\n      this.updateSubscription = interval(600000).subscribe(() => {\n        this.loadData()\n      });\n    }).catch(err => {\n      this.snackbarService.open('Failed to load fire data: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  private async loadData (): Promise<any> {\n    this.activeFiresByCentre = [];\n    this.fireStats = [];\n    this.activeFiresByCause = [];\n    this.activeFiresByStatus = [];\n    this.fires = [];\n    this.outFires = [];\n\n    const activeIncidents = await this.publishedIncidentService.fetchPublishedIncidents().toPromise()\n    const activeFoNIncidents = await this.publishedIncidentService.fetchPublishedIncidents(0, 9999, true, false).toPromise()\n    const outIncidents = await this.publishedIncidentService.fetchOutIncidents(0, 9999).toPromise()\n\n    this.outFires = outIncidents.collection.filter(f => f.stageOfControlCode === 'OUT')\n    this.fires = activeIncidents.collection.filter(f => f.stageOfControlCode !== 'OUT').concat(activeFoNIncidents.collection.filter(f => f.stageOfControlCode !== 'OUT'))\n\n    this.firesLast24 = '' + (this.fires.filter(f => f.discoveryDate > Date.now() - 86400000).length + this.outFires.filter(f => f.discoveryDate > Date.now() - 86400000).length)\n    this.firesLast7Days = '' + (this.fires.filter(f => f.discoveryDate > Date.now() - 604800000).length + this.outFires.filter(f => f.discoveryDate > Date.now() - 604800000).length)\n    this.thisYearCount = '' + (this.fires.length + this.outFires.length)\n\n    let totalFires = 0;\n    let areaBurned = 0;\n    let lightningStart = 0;\n    let humanStart = 0;\n\n    if (this.fires) {\n      const fcData = []\n      const fcAllData = []\n      const fcStats = []\n\n      for (const fire of this.fires) {\n        this.fireValidator(fire)\n      }\n\n      for (const fire of this.outFires) {\n        this.fireValidator(fire)\n      }\n\n      let fireYear = new Date().getFullYear()\n      if (new Date().getMonth() < 3) fireYear -= 1\n\n      for (const centre of FIRE_CENTRES) {\n        const fireCount = this.fires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name)).length\n        const outFireCount = this.outFires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name)).length\n        fcData.push({\n          name: centre.name,\n          value: fireCount\n        })\n        fcAllData.push({\n          name: centre.name,\n          value: fireCount + outFireCount\n        })\n\n        const activeHectares = this.fires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name) && f.fireYear === fireYear ).reduce((n, {incidentSizeMappedHa}) => n + incidentSizeMappedHa, 0);\n        const outHectares = this.outFires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name) && f.fireYear === fireYear ).reduce((n, {incidentSizeMappedHa}) => n + incidentSizeMappedHa, 0);\n\n        fcStats.push({\n          name: centre.name,\n          lightningStarts: activeIncidents.collection.filter(f => (f.fireCentreName && f.fireCentreName.includes(centre.name)) && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 2).length + outIncidents.collection.filter(f => f.fireCentreCode === centre.id && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 2).length,\n          humanStarts: activeIncidents.collection.filter(f => (f.fireCentreName && f.fireCentreName.includes(centre.name)) && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 1).length + outIncidents.collection.filter(f => f.fireCentreCode === centre.id && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 1).length,\n          totalFires: fireCount + outFireCount,\n          areaBurned: activeHectares + outHectares\n        })\n\n        areaBurned += activeHectares + outHectares\n        totalFires += fireCount + outFireCount\n        lightningStart += fcStats[fcStats.length - 1].lightningStarts\n        humanStart += fcStats[fcStats.length - 1].humanStarts\n      }\n\n      fcStats.push({\n        name: 'All of BC',\n        lightningStarts: lightningStart,\n        humanStarts: humanStart,\n        totalFires: totalFires,\n        areaBurned: areaBurned\n      })\n\n      const causeData = []\n      const causeAllData = []\n      for (const cause of FIRE_CAUSE) {\n        const fireCount = this.fires.filter(f => f.generalIncidentCauseCatId === cause.id).length\n        const outFireCount = this.outFires.filter(f => f.generalIncidentCauseCatId === cause.id).length\n        causeData.push({\n          name: cause.name,\n          value: fireCount\n        })\n        causeAllData.push({\n          name: cause.name,\n          value: fireCount + outFireCount\n        })\n      }\n\n      const statusData = []\n      const statusAllData = []\n      for (const status of FIRE_STATUS) {\n        const fireCount = this.fires.filter(f => f.stageOfControlCode === status.id || (f.fireOfNoteInd && status.id === 'NOTE' )).length\n        if (status.id !== 'OUT') {\n          statusData.push({\n            name: status.name,\n            value: fireCount\n          })\n        }\n        statusAllData.push({\n          name: status.name,\n          value: status.id === 'OUT' ? this.outFires.length :  fireCount\n        })\n      }\n\n      // work around to get change detection on the data\n      this.activeFiresByCentre = [...fcData]\n      this.activeFiresByCause = [...causeData]\n      this.activeFiresByStatus = [...statusData]\n      this.fireStats = [...fcStats]\n\n      this.allFiresByCentre = [...fcAllData]\n      this.allFiresByCause = [...causeAllData]\n      this.allFiresByStatus = [...statusAllData]\n    }\n\n    this.cdr.detectChanges()\n  }\n\n  getFireYear (offset: number = 0) {\n    if (new Date().getMonth() <= 2) {\n      return new Date().getFullYear() - 1 + offset\n    } else {\n      return new Date().getFullYear() + offset\n    }\n  }\n\n  getFiresByCentreTotals (includeOut = false): number {\n    const arr = includeOut ? this.allFiresByCentre : this.activeFiresByCentre\n    return arr && arr.length > 0 ? arr.map(r => r.value).reduce((p, n) => p + n) : 0\n  }\n\n  fireValidator (fire: any) {\n    if (!fire.fireCentreName && (typeof fire.fireCentreCode === 'string' || fire.fireCentreCode instanceof String)) {\n      fire.fireCentreName = fire.fireCentreCode\n      fire.fireCentreCode = null\n    }\n\n    if (fire.fireCentreName && fire.fireCentreName.length < 3 && (typeof -fire.fireCentreName === 'number')) {\n      fire.fireCentreCode = fire.fireCentreName\n      fire.fireCentreName = FIRE_CENTRES.find(fc => fc.id === '' + fire.fireCentreCode).name\n    }\n  }\n}\n\nconst FIRE_CENTRES = [\n  { id: '2', name: 'Cariboo', displayOrder: 6 },\n  { id: '50', name: 'Coastal', displayOrder: 1 },\n  { id: '25', name: 'Kamloops', displayOrder: 4 },\n  { id: '42', name: 'Northwest', displayOrder: 2 },\n  { id: '34', name: 'Prince George', displayOrder: 3 },\n  { id: '8', name: 'Southeast', displayOrder: 5 }\n];\n\nconst FIRE_CAUSE = [\n  { id: 2, name: 'Lightning', displayOrder: 1 },\n  { id: 1, name: 'People', displayOrder: 2 },\n  { id: 3, name: 'Unknown', displayOrder: 3 }\n];\n\nconst FIRE_STATUS = [\n  { id: 'NOTE', name: 'Fire of Note', displayOrder: 1 },\n  { id: 'OUT_CNTRL', name: 'Out of Control', displayOrder: 2 },\n  { id: 'HOLDING', name: 'Being Held', displayOrder: 3 },\n  { id: 'UNDR_CNTRL', name: 'Under Control', displayOrder: 4 },\n  { id: 'OUT', name: 'Out', displayOrder: 5 }\n]\n","<div *ngIf=\"loading\" class=\"container\">\n  <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n</div>\n<div *ngIf=\"!loading\" class=\"container\">\n  <div class=\"header-row\">\n    <div class=\"title\">\n        <h1>Wildfire Statistics</h1>\n    </div>\n  </div>\n  <div class=\"stats-container\">\n    <div class=\"summary-container\">\n      <div class=\"resource-panel\">\n        <div class=\"title\">Wildfire Summary</div>\n        <div class=\"summary-data\">\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{thisYearCount}}</div><div class=\"summary-data-label\">Fires this Year</div></div>\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{fires.length}}</div><div class=\"summary-data-label\">Active Fires</div></div>\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{firesLast24}}</div><div class=\"summary-data-label\">Fires in the Last 24 Hours</div></div>\n        </div>\n      </div>\n      <div class=\"resource-panel\">\n        <div class=\"title\">Wildfire Cause Summary</div>\n        <div class=\"summary-data\">\n          <div *ngFor=\"let data of activeFiresByCause\" class=\"summary-data-row\"><div class=\"summary-data-cell\">{{data.value}}</div><div class=\"summary-data-label\">{{data.name === 'Unknown' ? ('Fires with Unknown Causes') : ('Fires Caused by ' + data.name)}}</div></div>\n        </div>\n      </div>\n      <div class=\"resource-panel\">\n        <div class=\"title\">Stages of Control Summary</div>\n        <div class=\"summary-data\">\n          <div *ngFor=\"let data of activeFiresByStatus\" class=\"summary-data-row\"><div class=\"summary-data-cell\">{{data.value}}</div><div class=\"summary-data-label\">{{data.name}}</div></div>\n        </div>\n      </div>\n    </div>\n    <mat-tab-group mat-stretch-tabs=\"false\" [(selectedIndex)]=\"tabIndex\">\n      <mat-tab label=\"Active Fires\">\n      </mat-tab>\n      <mat-tab label=\"Fires This Year\">\n      </mat-tab>\n    </mat-tab-group>\n    <div *ngIf=\"tabIndex === 0\" class=\"fire-date-box\">\n      <h2>Active Fires</h2>\n      <p style=\"color: black;\">\"Active Fires\" refers to fires that are actively burning at this time. It does not include fires that have been called out or extinguished.</p>\n    </div>\n    <div *ngIf=\"tabIndex === 1\" class=\"fire-date-box\">\n      <h2>Fires this Year</h2>\n      <p style=\"color: black;\">\"Fires This Year\" refers to fires that have burned sometime between <span style=\"font-weight: 700\">April 1st {{getFireYear()}} and March 31st {{getFireYear(1)}}</span></p>\n    </div>\n    <div>\n      <h2>Fire Centres</h2>\n      <div class=\"info-panel\">\n        <div class=\"info-text\">\n          <div class=\"fire-centre-table\">\n            <div class=\"row\">\n              <div class=\"cell\"><strong>Fire Centre</strong></div>\n              <div class=\"value-cell\"><strong>Total Fires</strong></div>\n            </div>\n            <div class=\"row\" *ngFor=\"let row of tabIndex === 0 ? activeFiresByCentre : allFiresByCentre\">\n              <div class=\"cell\">{{row.name}}</div>\n              <div class=\"value-cell\">{{row.value}}</div>\n            </div>\n            <div class=\"row\">\n              <div class=\"cell\">All of BC</div>\n              <div class=\"value-cell\">{{getFiresByCentreTotals(tabIndex === 1)}}</div>\n            </div>\n          </div>\n          <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres?keyword=fire&keyword=centre\">What is a Fire Centre?</a>\n        </div>\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"FIRE_CENTRE_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Centres\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByCentre : allFiresByCentre\">\n          </ngx-charts-bar-vertical>\n        </div>\n      </div>\n    </div>\n    <div>\n      <h2>Wildfire Causes</h2>\n      <div class=\"info-panel\">\n        <div class=\"info-text\">\n          <p class=\"paragraph-format\">What causes wildfires in British Columbia? There are two broad categories of causes:</p>\n          <ul class=\"paragraph-format\">\n            <li>Lightning (and a rare chance of other natural causes) causes approximately 60% of wildfires</li>\n            <li>Human activity causes approximately 40% of wildfires</li>\n          </ul>\n          <h4>Natural (lightning) caused wildfires</h4>\n          <p class=\"paragraph-format\">Most wildfires in B.C. are started by lightning strikes. When lightning strikes an object it can release enough heat to ignite a tree or other fuels.</p>\n          <p class=\"paragraph-format\">Although lightning caused fires cannot be prevented, there are ways of predicting where they might start. The risk from natural fires can also be reduced with fuel management and prescribed burning</p>\n          <h4>Human-caused wildfires</h4>\n          <p class=\"paragraph-format\">The most important thing about human-caused wildfires is that they are preventable. The easiest way to fight a wildfire is to prevent it from starting. Humans start wildfires in several ways, either by accident or intentionally. For example:</p>\n          <ul class=\"paragraph-format\">\n            <li>Vehicle and engine use</li>\n            <li>Industrial activity</li>\n            <li>Fireworks, sky-lanterns, outdoor flame lighting</li>\n            <li>Discarding burning items (cigarettes)</li>\n          </ul>\n          <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/what-causes-wildfire\">Learn More about Wildfire Causes</a>\n        </div>\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"CAUSE_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Cause\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByCause : allFiresByCause\">\n          </ngx-charts-bar-vertical>\n        </div>\n      </div>\n    </div>\n    <div>\n      <h2>Stages of Control</h2>\n      <div class=\"info-panel stages-of-control\">\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"STAGE_OF_CONTROL_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Status\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByStatus : allFiresByStatus\">\n          </ngx-charts-bar-vertical>\n        </div>\n        <div class=\"info-text\">\n          <p class=\"paragraph-format\">The BC Wildfire Service uses stages of control to report on wildfire progress.</p>\n          <h4>Wildfire of Note</h4>\n          <p class=\"paragraph-format\">A wildfire that is highly visible or poses a potential threat to public safety.</p>\n          <h4>Out of Control</h4>\n          <p class=\"paragraph-format\">A wildfire that is continuing to spread and is not responding to suppression efforts.</p>\n          <h4>Being Held</h4>\n          <p class=\"paragraph-format\">A wildfire that is not likely to spread beyond predetermined boundaries under current conditions.</p>\n          <h4>Under Control</h4>\n          <p class=\"paragraph-format\">A wildfire that will not spread any further due to suppression efforts.</p>\n          <h4>Out</h4>\n          <p class=\"paragraph-format\">A wildfire that is extinguished. Suppression efforts are complete.</p>\n          <a class=\"learn-more-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies\">Discover more Wildfire Management Strategies</a>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"tabIndex === 1\">\n      <h2>Current Statistics</h2>\n      <h5 style=\"text-align: center; margin: 0px;\">New fires are those that have been ignited within the last 24 hours</h5>\n      <div class=\"info-text\">\n        <!-- Traditional table view -->\n        <div class=\"fire-centre-table\">\n          <div class=\"row\">\n            <div class=\"cell\"><strong>Fire Centre</strong></div>\n            <div class=\"value-cell\"><strong>New Lightning Caused Fires</strong></div>\n            <div class=\"value-cell\"><strong>New Human Caused Fires</strong></div>\n            <div class=\"value-cell\"><strong>Total Fires</strong></div>\n            <div class=\"value-cell\"><strong>Total Area Burned (Hectares)</strong></div>\n          </div>\n          <div class=\"row\" *ngFor=\"let row of fireStats\">\n            <div class=\"cell\">{{row.name}}</div>\n            <div class=\"value-cell\">{{row.lightningStarts}}</div>\n            <div class=\"value-cell\">{{row.humanStarts}}</div>\n            <div class=\"value-cell\">{{row.totalFires}}</div>\n            <div class=\"value-cell\">{{row.areaBurned ? row.areaBurned.toLocaleString() : 0}}</div>\n          </div>\n        </div>\n        <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/wildfire-statistics\">Learn More about Statistics &amp; Geospatial Data</a>\n      </div>\n    </div>\n  </div>\n</div>\n<sticky-widget></sticky-widget>\n","<div class=\"resource-panel\">\n  <div class=\"title\">{{panelInfo.title}}</div>\n  <div class=\"panel-container\">\n    <div *ngFor=\"let info of panelInfo.resources\" class=\"resource-info\">\n      <div class=\"info-title\"><a [href]=\"info.url\" target=\"_blank\">{{info.title}}</a></div>\n      <a class=\"info-subtitle\" [href]=\"info.url\" target=\"_blank\">{{info.subtitle}}</a>\n      <div class=\"info-description\">{{info.description}}</div>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { ResourcePanel } from '../../../models/ResourcePanel';\n\n@Component({\n  selector: 'resource-panel',\n  templateUrl: './resource-panel.component.html',\n  styleUrls: [ './resource-panel.component.scss' ]\n})\nexport class ResourcePanelComponent {\n  @Input() panelInfo: ResourcePanel\n}\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { ResourcePanel } from '../../models/ResourcePanel';\nimport { snowPlowHelper } from '../../utils';\n\n@Component({\n  selector: 'wf-resources',\n  templateUrl: './wf-resources.component.html',\n  styleUrls: [ './wf-resources.component.scss' ]\n})\nexport class WildfirewResourcesComponent implements OnInit, AfterViewInit{\n  public url;\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(protected appConfigService: AppConfigService,\n    protected router: Router) {\n}\nngOnInit(): void {\n  this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n  this.snowPlowHelper(this.url)\n}\n\nngAfterViewInit () {\n  (window as any).snowplow('refreshLinkClickTracking')\n}\n\n  // This can be moved into a config, for easier changes later\n  public resourcePanels: ResourcePanel[] = [\n    {\n      title: 'Emergencies and Alerts',\n      resources: [\n        {\n          title: 'Alerts and Bulletins', subtitle: 'EmergencyInfoBC', url: 'https://www.emergencyinfobc.gov.bc.ca/latest-news/',\n          description: 'EmergencyInfoBC is active during partial and full-scale provincial emergencies. This site shares official response and recovery resources, as well as verified event information from trusted partners.'\n        },\n        {\n          title: 'Road Closures and Conditions', subtitle: 'DriveBC', url: 'https://drivebc.ca/#mapView&ll=54.004539%2C-123.75&z=6&xtg=Map%20Badge',\n          description: 'DriveBC is managed by the B.C. Ministry of Transportation and Infrastructure. Travellers in B.C. can find information on current highway conditions before they leave. '\n        },\n        {\n          title: 'Public Weather Alerts', subtitle: 'Environment Canada', url: 'https://www.weather.gc.ca/warnings/index_e.html',\n          description: 'Get current weather alerts across Canada from Environment Canada. Read about the latest events in weather summaries. '\n        },\n        {\n          title: 'Report a Wildfire', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/contact-channels/report-a-wildfire',\n          description: 'To report a wildfire, please call 1 800 663 5555 or *5555 on a cellphone. Learn more about the details emergency call takers may ask for when you are reporting a wildfire.'\n        },\n        {\n          title: 'Air Quality Health Index', subtitle: 'BC Air Quality', url: 'https://www.env.gov.bc.ca/epd/bcairquality/readings/find-stations-map.html',\n          description: 'View the latest air quality health index data on a map. Data is refreshed every 60 minutes.'\n        },\n        {\n          title: 'Local Government Maps', subtitle: 'gov.bc.ca', url: 'https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/local-government-maps',\n          description: 'Keep up to date on evacuation orders and alerts by following your local government, First Nation and emergency services. Find the boundaries for regional districts, electoral areas and municipalities here.'\n        }\n      ]\n    }, {\n      title: 'Preparedness and Prevention',\n      resources: [\n        {\n          title: 'Wildfire Prevention', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention',\n          description: 'Wildfire prevention can happen at home, in the backcountry, and through larger-scale fire and fuel management planning. Learn what you can do to help.'\n        },\n        {\n          title: 'Get Prepared for a Wildfire', subtitle: 'Prepared BC', url: 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/know-your-hazards/wildfires',\n          description: 'If you live in an area at risk of a wildfire, it’s important that you take time to get ready. Understand what to do before, during and after a wildfire here.'\n        },\n        {\n          title: 'FireSmart BC', subtitle: 'FireSmart BC', url: 'https://firesmartbc.ca/',\n          description: 'FireSmart is a shared responsibility. Find out what you can do to decrease the wildfire risk at home and in your community.'\n        },\n        {\n          title: 'Plan, Prepare, Stay Informed', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/plan-prepare-stay-informed',\n          description: 'B.C. experiences 1,600 wildfires per year, on average. While most of these fires are put out before they threaten people and communities, it is important to be prepared especially if you live in an area prone to wildfire.'\n        },\n        {\n          title: 'Fire Danger Rating', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger',\n          description: 'Find out the current fire danger rating (i.e. the risk of a wildfire starting) in your area and other information about fire weather.'\n        },\n        {\n          title: 'Fire Bans and Restrictions', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions',\n          description: 'Decisions on when and where to implement fire bans and restrictions are made by B.C.’s six regional fire centres. Learn about fire bans and restrictions in your area.'\n        }\n      ]\n    }, {\n      title: 'More Information',\n      resources: [\n        {\n          title: 'Wildfire Contact Channels', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/contact-channels',\n          description: 'Find the best way to connect with the BC Wildfire Service here. '\n        },\n        {\n          title: 'Wildfire News Blog', subtitle: 'BC Wildfire Service', url: 'https://blog.gov.bc.ca/bcwildfire/',\n          description: 'Read information bulletins, seasonal outlooks, wildfire status updates and wildfire stories on this site.'\n        },\n        {\n          title: 'Wildfire Response', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response',\n          description: 'The BC Wildfire Service is a leader in wildfire management, known for skilled personnel and a focus on safety. Learn more about wildfires in B.C. and the BC Wildfire Service here. '\n        },\n        {\n          title: 'Wildfire Statistics', subtitle: 'BC Wildfire Service', url: 'https://bcfireinfo.for.gov.bc.ca/hprScripts/WildfireNews/Statistics.asp',\n          description: 'The BC Wildfire Service compiles statistics daily, throughout the fire season. View the latest wildfire statistics in B.C. here.'\n        },\n        {\n          title: 'Fire Centres',\n          subtitle: 'BC Wildfire Service',\n          url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres',\n          description: 'The BC Wildfire Service has divided the province into six regional fire centres. These are further divided in fire zones. Read more here.'\n        },\n        {\n          title: 'Wildfire Glossary',\n          subtitle: 'BC Wildfire Service',\n          url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/glossary',\n          description: 'Review terms commonly used to describe wildfire and fuel management here.'\n        }\n      ]\n    }\n  ]\n}\n","<div class=\"container\" style=\"height: auto !important;\">\n  <div class=\"header-row\">\n    <div class=\"title\">\n        <h1>Wildfire Resources</h1>\n    </div>\n    <div class=\"title-button-container\">\n      <div class=\"icon-container\"><svg class=\"icon facebook\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"#3b5998\" d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg><a style=\"text-decoration: none; color: #0e5fa9;\" href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\">BC Wildfire Service</a></div>\n      <div class=\"icon-container\" style=\"padding-right: 40px;\"><svg class=\"icon twitter\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"#1da1f2\" d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg><a style=\"text-decoration: none; color: #0e5fa9;\" href=\"https://mobile.twitter.com/bcgovfireinfo\" target=\"_blank\" rel=\"noopener\">@BCGovFireInfo</a></div>\n    </div>\n  </div>\n  <div class=\"resource-container\">\n    <resource-panel *ngFor=\"let panel of resourcePanels\" [panelInfo]=\"panel\"></resource-panel>\n  </div>\n</div>\n<sticky-widget></sticky-widget>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-wildfires-list-header',\n  templateUrl: './wildfires-list-header.component.html',\n  styleUrls: ['./wildfires-list-header.component.scss']\n})\nexport class WildfiresListHeaderComponent {\n\n  openStageOfControlLink() {\n    let url = \"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies/stages-of-control\"\n    window.open(url, \"_blank\");\n  }\n  \n}\n","<div class=\"container\">\n    <div class=\"header-row\">\n        <p class=\"dashboard-title\">Wildfires List\n        </p>\n        <button mat-raised-button color=\"primary\" class=\"stage-of-control\" (click)=\"openStageOfControlLink()\">What are Stages of Control?</button>\n    </div>\n    <mat-tab-group mat-stretch-tabs=\"false\" class=\"tab-group\">\n        <mat-tab label=\"Wildfires\">\n            <wf-list-container-desktop></wf-list-container-desktop>\n        </mat-tab>\n        <mat-tab label=\"Current Notices\">\n            <current-alert-component></current-alert-component>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n<sticky-widget></sticky-widget>","import { Component } from \"@angular/core\";\nimport { WildFiresListComponent } from \"./wildfires-list.component\";\n\n@Component({\n    selector: 'wf-list-desktop',\n    templateUrl: './wildfires-list.component.desktop.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './wildfires-list.component.desktop.scss']\n  })\n\nexport class WildFiresListComponentDesktop extends WildFiresListComponent {\n    columnsToDisplay = [\"fireName\", \"fireNumber\", \"lastUpdated\", \"stageOfControl\", \"wildfireOfNote\", \"fireCentreName\", \"location\", \"addToWatchlist\", \"viewMap\"];\n}\n","\n<div class=\"table-search-header flex-y-fixed\">\n    <div class=\"search-and-filters\">\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search for a Wildfire</mat-label>\n            <input [readonly]=\"isLocationName()\" matInput class=\"search-input\" aria-label=\"Search\" [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTextUpdated()\">\n            <button mat-mdc-button matSuffix mat-mdc-icon-button class=\"input-clear-button\" *ngIf=\"searchText\"\n                    aria-label=\"Clear\" (click)=\"searchText=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                    <span class=\"button-wrapper\">\n                        <mat-icon>close</mat-icon>\n                    </span>\n            </button>\n        </div>\n\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search for an address</mat-label>\n            <input [readonly]=\"isSearchText()\" matInput [matAutocomplete]=\"auto\" class=\"search-input\" aria-label=\"Search\" [formControl]=\"searchByLocationControl\">\n            <mat-autocomplete class=\"location-results\" #auto=\"matAutocomplete\" (optionSelected)=\"onLocationSelected($event.option.value)\">\n                <mat-option class=\"location-mat-option\" *ngFor=\"let option of filteredOptions\"\n                    [value]=\"option\">\n                    <div class=\"location-option\" #locationOptions [attr.data-loc-long]=\"option.loc[1]\" [attr.data-loc-lat]=\"option.loc[0]\">\n                        <div *ngIf=\"option.address !== ''\">\n                            <div>\n                                <span class=\"address\">{{option.address}}</span>\n                            </div>\n                            <div class=\"locality\">{{option.localityName}} ({{option.localityType}})</div>\n                        </div>\n                        <div *ngIf=\"option.address === ''\">\n                            <div>\n                                <span class=\"address\">{{option.localityName}}</span> <span> ({{option.localityType}})</span>\n                            </div>\n                        </div>\n                    </div>\n                </mat-option>\n            </mat-autocomplete>\n            <button mat-mdc-button matSuffix mat-mdc-icon-button class=\"input-clear-button\" *ngIf=\"locationName\"\n                    aria-label=\"Clear\" (click)=\"searchByLocationControl.reset();selectedLat=undefined;selectedLong=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Search Radius (km)</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\" [disabled]=\"!locationName\"\n                    aria-label=\"Type\"\n                    [options]=\"radiusOptions\"\n                    [selected]=\"selectedRadius\"\n                    [(ngModel)]=\"selectedRadius\"\n                    (updated)=\"selectFilterUpdated('selectedRadius', $event)\">\n                <option *ngFor = \"let item of radiusOptions\" value=\"{{item}}\">\n                    <span>{{item}}</span>\n                </option>\n            </select>\n        </div>\n\n        <div class=\"field\">\n          <div class=\"my-location-button\">\n            <button mat-raised-button (click)=\"useMyCurrentLocation()\" style=\"width: 100%\">\n              <mat-icon>my_location</mat-icon><span style=\"width: 100%;\">Find My Location</span>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Fire Centre</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                    aria-label=\"Type\"\n                    [options]=\"fireCentreOptions\"\n                    [selected]=\"selectedFireCentreCode\"\n                    [(ngModel)]=\"selectedFireCentreCode\"\n                    (updated)=\"selectFilterUpdated('selectedFireCentreCode', $event)\">\n                <option value=\"\">\n                    <span class=\"placeholder\">Select...</span>\n                </option>\n                <option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                    <span>{{item.description}}</span>\n                </option>\n            </select>\n        </div>\n        <div class=\"stage-of-control-checkbox-group\">\n            <mat-label>Choose Wildfires to display</mat-label>\n            <section class=\"checkbox-group\">\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"note\" [(ngModel)]=\"activeWildfiresInd\">\n                    Active Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"outWildfiresInd\">\n                    Out Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"newFires\">\n                    New Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"wildfiresOfNoteInd\">\n                    Wildfires of Note\n                </mat-checkbox>\n            </section>\n        </div>\n                <div class=\"field\">\n            <button mat-raised-button color=\"primary\" (click)=\"clearSearchAndFilters()\" style=\"width: 100px;\"><mat-icon svgIcon=\"filter-cancel\"></mat-icon>Clear</button>\n        </div>\n\n    </div>\n\n</div>\n<p class =\"results-count\" >{{collection ? collection.totalRowCount : 0}} Results</p>\n\n\n\n<div class=\"table-wrapper flex-y-grow\" *ngIf=\"collectionData; else loading\">\n    <table  mat-table matSort [dataSource]=\"collectionData | paginate:config\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Incident Table\">\n        <ng-container matColumnDef = \"fireName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireNumber\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Number</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertFireNumber(item)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"lastUpdated\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Updated</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertFromTimestamp(item.lastUpdatedTimestamp)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"stageOfControl\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Stage of Control</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertToStageOfControlDescription(item.stageOfControlCode)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"wildfireOfNote\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Wildfire of Note</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireOfNoteInd? 'Yes' : 'No'}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireCentreName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Centre</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireCentreName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"location\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Location</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentLocation}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"addToWatchlist\">\n            <th mat-header-cell *matHeaderCellDef mat-non-sort-header> Add to Watch List</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"onWatchlist(item) ? removeFromWatchlist(item) : addToWatchlist(item)\">\n                <span #el ><mat-icon style=\"color:#1A5A96\">{{onWatchlist(item) ? 'bookmark' : 'bookmark_border'}}</mat-icon></span>\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"viewMap\">\n            <th mat-header-cell *matHeaderCellDef> View Map</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"viewMap(item)\"><span #el ><mat-icon style=\"color:#1A5A96\" svgIcon=\"map\"></mat-icon></span></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n\n\n<div class=\"bottom-summary flex-y-fixed\">\n    <div class=\"showing-summary\">{{summaryString}}</div>\n    <pagination-controls style = \"text-align:center\" [id]=\"config.id\"\n                         [maxSize]=\"5\"\n                         [responsive]=\"false\"\n                         [directionLinks]=\"true\"\n                         [previousLabel]=\"paginatorLabels.previousLabel\"\n                         [nextLabel]=\"paginatorLabels.nextLabel\"\n                         [autoHide]=\"false\"\n                         (pageChange)=\"onPageChange($event)\"></pagination-controls>\n    <div class=\"show-entries-info\">\n                    <span>\n                        Show\n                    </span>\n        <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                class=\"select-showEntriesSelection\"\n                aria-label=\"Show entries\"\n                [position]=\"'top'\"\n                [selected]=\"showEntriesSelection\"\n                [options]=\"showEntriesOptions\"\n                (updated)=\"selectShowEntriesUpdated('showEntriesSelection', $event)\"\n                [(ngModel)]=\"showEntriesSelection\">\n            <option *ngFor=\"let option of showEntriesOptions\" value=\"{{option.value}}\">\n                <span>{{option.label}}</span>\n            </option>\n        </select>\n        <span>entries</span>\n    </div>\n</div>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class WildFiresListComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): WildFiresListComponentModel {\n        let clonedModel: WildFiresListComponentModel = new WildFiresListComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, ChangeDetectorRef, Directive, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormControl } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport * as moment from 'moment';\nimport { debounceTime } from 'rxjs/operators';\nimport { PagedCollection } from '../../conversion/models';\nimport { ApplicationStateService } from '../../services/application-state.service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { PlaceData } from '../../services/wfnews-map.service/place-data';\nimport { RootState } from '../../store';\nimport { searchWildfires } from '../../store/wildfiresList/wildfiresList.action';\nimport { initWildfiresListPaging, SEARCH_WILDFIRES_COMPONENT_ID } from '../../store/wildfiresList/wildfiresList.stats';\nimport { convertFromTimestamp, convertToStageOfControlDescription, FireCentres, convertToFireCentreDescription, ResourcesRoutes, snowPlowHelper, convertFireNumber } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { WildFiresListComponentModel } from './wildfires-list.component.model';\n\n@Directive()\nexport class WildFiresListComponent extends CollectionComponent implements OnChanges, AfterViewInit, OnInit {\n\n  @Input() collection: PagedCollection;\n\n\n  public currentYearString;\n  public currentDateTimeString;\n  filteredOptions: any[];\n  placeData: PlaceData;\n  searchByLocationControl=new UntypedFormControl\n  selectedLat:number;\n  selectedLong:number;\n  url;\n  displayLabel = \"Simple Wildfires Search\"\n  selectedFireCentreCode = \"\";\n  wildfiresOfNoteInd = false;\n  newFires = false;\n  activeWildfiresInd = true;\n  outWildfiresInd = false;\n  selectedRadius = 50;\n  radiusOptions = [\n    50,\n    10,\n    20,\n    30,\n    40,\n    60,\n    70,\n    80,\n    90,\n    100,\n  ]\n  fireCentreOptions = FireCentres;\n  locationName: string;\n  sortedAddressList: string[];\n\n  convertFromTimestamp = convertFromTimestamp;\n  convertToStageOfControlDescription = convertToStageOfControlDescription\n  convertToFireCentreDescription = convertToFireCentreDescription\n  snowPlowHelper = snowPlowHelper\n  convertFireNumber = convertFireNumber;\n\n\n  constructor ( router: Router, route: ActivatedRoute, sanitizer: DomSanitizer, store: Store<RootState>, fb: UntypedFormBuilder, dialog: MatDialog, applicationStateService: ApplicationStateService, tokenService: TokenService, snackbarService: MatSnackBar, overlay: Overlay, cdr: ChangeDetectorRef, appConfigService: AppConfigService, http: HttpClient, watchlistService: WatchlistService, commonUtilityService: CommonUtilityService)\n  {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService,commonUtilityService);\n    this.placeData = new PlaceData();\n    let self = this;\n    this.searchByLocationControl.valueChanges.pipe(debounceTime(200)).subscribe((val:string)=>{\n      this.locationName = val;\n\n      if(!val) {\n          this.filteredOptions = [];\n          this.selectedLat = undefined;\n          this.selectedLong = undefined;\n          this.searchTextUpdated();\n          return;\n      }\n\n      if (val.length > 2) {\n        this.filteredOptions = [];\n        this.placeData.searchAddresses(val).then(function (results) {\n          if (results) {\n            results.forEach((result) => {\n              self.sortedAddressList = self.commonUtilityService.sortAddressList(results, val);\n            });\n            self.filteredOptions = self.sortedAddressList;\n          }\n        });\n      }\n    });\n\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n  }\n\n  initModels() {\n    this.model = new WildFiresListComponentModel(this.sanitizer);\n    this.viewModel = new WildFiresListComponentModel(this.sanitizer);\n  }\n\n  loadPage() {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.placeData = new PlaceData();\n    this.componentId = SEARCH_WILDFIRES_COMPONENT_ID;\n    this.updateView();\n    this.initSortingAndPaging(initWildfiresListPaging);\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.doSearch();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n  }\n\n  doSearch() {\n    if (!this.activeWildfiresInd && !this.outWildfiresInd && !this.newFires && !this.wildfiresOfNoteInd) {\n      this.collectionData = []\n      this.collection = null;\n      this.summaryString = 'No records to display.'\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n    } else {\n      // set stages of control to return\n      const stageOfControlList = []\n      if (this.outWildfiresInd) {\n        stageOfControlList.push('OUT')\n      }\n      if(this.activeWildfiresInd) {\n        stageOfControlList.push('OUT_CNTRL')\n        stageOfControlList.push('HOLDING')\n        stageOfControlList.push('UNDR_CNTRL')\n      }\n      // We use a boolean in the postgres model so this shouldn't be needed\n      //if(this.wildfiresOfNoteInd) {\n      //  stageOfControlList.push('FIRE_OF_NOTE')\n      //}\n\n      this.store.dispatch(searchWildfires(this.componentId, {\n        pageNumber: this.config.currentPage,\n        pageRowCount: this.config.itemsPerPage,\n        sortColumn: this.currentSort,\n        sortDirection: this.currentSortDirection,\n        query: this.searchText\n      },\n        this.selectedFireCentreCode, this.wildfiresOfNoteInd, stageOfControlList, this.newFires, undefined, this.displayLabel,this.selectedLat,this.selectedLong,this.selectedRadius));\n    }\n  }\n\n  onChangeFilters() {\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n  clearSearchAndFilters() {\n    this.searchText = null;\n    this.locationName = null;\n    this.selectedFireCentreCode = null;\n    this.wildfiresOfNoteInd = false;\n    this.newFires = false;\n    this.activeWildfiresInd = true;\n    this.outWildfiresInd = false;\n    this.selectedRadius = 50\n    this.selectedLat = null;\n    this.selectedLong = null;\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n\n  getViewModel(): WildFiresListComponentModel {\n    return <WildFiresListComponentModel>this.viewModel;\n  }\n\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes)\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD HH:mm:ss')\n    }\n  }\n\n  selectIncident(incident: any) {\n      const url = this.router.serializeUrl(\n        this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: incident.fireYear, incidentNumber: incident.incidentNumberLabel } })\n      )\n      window.open(url, '_blank')\n  }\n\n  onWatchlist (incident: any): boolean {\n    return this.watchlistService.getWatchlist().includes(incident.fireYear + ':' + incident.incidentNumberLabel)\n  }\n\n  addToWatchlist(incident: any) {\n    if (this.onWatchlist(incident)) {\n      this.removeFromWatchlist(incident)\n    } else {\n      this.watchlistService.saveToWatchlist(incident.fireYear, incident.incidentNumberLabel)\n    }\n  }\n\n  removeFromWatchlist (incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  viewMap(incident: any) {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ACTIVEWILDFIREMAP], { queryParams: {longitude: incident.longitude, latitude: incident.latitude} });\n    }, 100);\n\n  }\n\n\n  stageOfControlChanges(event: any) {\n    this.onChangeFilters();\n    this.doSearch()\n  }\n\n  async useMyCurrentLocation() {\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    const lat = location.coords.latitude;\n    const long = location.coords.longitude;\n    this.locationName = lat.toString() + ', ' + long.toString()\n    this.selectedLat = lat;\n    this.selectedLong = long;\n    this.doSearch()\n  }\n\n  onlyOneControlSelected() {\n    // unused\n  }\n\n  getFullAddress(location) {\n    let result = \"\";\n\n    if(location.civicNumber) {\n        result += location.civicNumber\n    }\n\n    if(location.streetName) {\n        result += \" \" + location.streetName\n    }\n\n    if(location.streetQualifier) {\n        result += \" \" + location.streetQualifier\n    }\n\n    if(location.streetType) {\n        result += \" \" + location.streetType\n    }\n\n    return result;\n  }\n\n  onLocationSelected(selectedOption) {\n    let locationControlValue = selectedOption.address ? selectedOption.address : selectedOption.localityName;\n    this.searchByLocationControl.setValue(locationControlValue.trim(), { onlySelf: true, emitEvent: false });\n    this.selectedLat=selectedOption.loc[1];\n    this.selectedLong=selectedOption.loc[0]\n    this.doSearch()\n  }\n\n  isLocationName() {\n    if (this.locationName && this.locationName !== '') {\n      return true\n    }\n  }\n\n  isSearchText() {\n    if (this.searchText && this.searchText !== '') {\n      return true\n    }\n  }\n\n}\n","import { Component } from \"@angular/core\";\nimport { AdminContainer } from \"./admin-container.component\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\n\n\n@Component({\n    selector: \"wf-admin-panel-container-desktop\",\n    template: `\n        <wf-admin-panel-desktop\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></wf-admin-panel-desktop>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class AdminContainerDesktop extends AdminContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState, selectIncidentsErrorState, selectIncidentsLoadState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentIncidentsSearch } from \"../../store/incidents/incidents.selector\";\nimport { SEARCH_INCIDENTS_COMPONENT_ID } from \"../../store/incidents/incidents.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class AdminContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentIncidentsSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_INCIDENTS_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectIncidentsLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectIncidentsErrorState()));\n}","import {Directive, HostListener, Injectable, OnDestroy} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {select, Store} from '@ngrx/store';\nimport {RootState} from '../../store';\nimport {ApplicationStateService} from '../../services/application-state.service';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {Observable, Subscription} from 'rxjs';\nimport { selectFormStatesUnsaved } from '../../store/application/application.selector';\n\n@Directive()\n@Injectable()\nexport class BaseContainer implements OnDestroy {\n    unsavedForms$: Observable<boolean>;\n    hasUnsavedForms = false;\n    unsavedFormsSub: Subscription;\n    displayLabel = '';\n\n    constructor(\n        protected store: Store<RootState>,\n        protected router: Router,\n        public snackBar: MatSnackBar,\n        protected applicationStateService: ApplicationStateService\n    ) {\n        this.unsavedForms$ = this.store.pipe(select(selectFormStatesUnsaved(this.getAssociatedComponentIds())));\n        if (this.unsavedForms$) {\n            this.unsavedFormsSub = this.unsavedForms$.subscribe((value) => {\n                this.hasUnsavedForms = value;\n            });\n        }\n\n    }\n\n    ngOnDestroy() {\n        if (this.unsavedFormsSub) {\n            this.unsavedFormsSub.unsubscribe();\n        }\n    }\n\n\n\n    getAssociatedComponentIds(): string[] {\n        return [];\n    }\n\n    public getHasUnsavedForms(): boolean {\n        return this.hasUnsavedForms;\n    }\n\n    public getDisplayLabel(): string {\n        return this.displayLabel;\n    }\n\n    @HostListener('window:beforeunload', ['$event'])\n    onBeforeUnload(event) {\n        if (this.hasUnsavedForms) {\n            event.preventDefault();\n            event.returnValue = true; //force a browser confirmation before closing the tab/window\n        }\n    }\n}\n","import { Component } from \"@angular/core\";\nimport { IncidentContainer } from \"./incident-container.component\";\nimport { Location, LocationStrategy, PathLocationStrategy } from \"@angular/common\";\nimport { Observable } from \"rxjs\";\nimport { CheckUnsavedChanges } from \"../../components/common/guards/unsaved-changes.guard\";\nimport { UnsavedChangesDialog } from \"../../components/common/unsaved-changes-dialog/unsaved-changes-dialog.component\";\nimport { MatDialog } from '@angular/material/dialog';\nimport { RootState } from \"../../store\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { ApplicationStateService } from \"../../services/application-state.service\";\nimport { Router } from \"@angular/router\";\nimport { Store } from \"@ngrx/store\";\n\n\n@Component({\n    selector: \"wf-incident-container-desktop\",\n    template: `\n        <wf-admin-incident-desktop\n            [adminIncident]=\"adminIncident$ | async\"\n            [adminIncidentCause]=\"adminIncidentCause$ | async\"\n            (changesSavedEvent)=\"updateChangesSaved($event)\"\n        ></wf-admin-incident-desktop>`,\n    providers: [Location, { provide: LocationStrategy, useClass: PathLocationStrategy }]\n})\nexport class IncidentContainerDesktop extends IncidentContainer implements CheckUnsavedChanges {\n\n    constructor(\n        public dialog: MatDialog,\n        store: Store<RootState>,\n        router: Router,\n        snackBar: MatSnackBar,\n        applicationStateService: ApplicationStateService,\n    ) {\n        super(store, router, snackBar, applicationStateService);\n    }\n\n    isFormClean: boolean = true;\n\n    updateChangesSaved(changesSaved: boolean) {\n        this.isFormClean = changesSaved;\n    }\n\n    changesSaved: () => boolean | Observable<boolean> = () => this.isFormClean;\n    confirmDialog: () => boolean | Observable<boolean> = () => {\n        return this.dialog.open(UnsavedChangesDialog, {\n            width: '450px',\n        }).afterClosed();\n    }\n}","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { Observable } from \"rxjs\";\nimport { selectCurrentIncident, selectCurrentIncidentCause } from \"../../store/incident/incident.selector\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class IncidentContainer extends BaseContainer {\n    adminIncident$: Observable<any> = this.store.pipe(select(selectCurrentIncident()));\n    adminIncidentCause$: Observable<any> = this.store.pipe(select(selectCurrentIncidentCause()));\n\n}\n","import { Component } from \"@angular/core\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\nimport { PanelWildfireStageOfControlContainer } from \"./panelWildfireStageOfControl-container.component\";\n\n\n@Component({\n    selector: \"panel-wildfire-stage-of-control-container-desktop\",\n    template: `\n        <panel-wildfire-stage-of-control\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></panel-wildfire-stage-of-control>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class PanelWildfireStageOfControlContainerDesktop extends PanelWildfireStageOfControlContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState,selectWildfiresLoadState, selectWildfiresErrorState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentWildfiresSearch } from \"../../store/wildfiresList/wildfiresList.selector\";\nimport { SEARCH_WILDFIRES_COMPONENT_ID, } from \"../../store/wildfiresList/wildfiresList.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class PanelWildfireStageOfControlContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentWildfiresSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_WILDFIRES_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectWildfiresLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectWildfiresErrorState()));\n}","import { Component } from \"@angular/core\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\nimport { WildfiresListContainer } from \"./wildfiresList-container.component\";\n\n\n@Component({\n    selector: \"wf-list-container-desktop\",\n    template: `\n        <wf-list-desktop\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></wf-list-desktop>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class WildfiresListContainerDesktop extends WildfiresListContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState,selectWildfiresLoadState, selectWildfiresErrorState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentWildfiresSearch } from \"../../store/wildfiresList/wildfiresList.selector\";\nimport { SEARCH_WILDFIRES_COMPONENT_ID } from \"../../store/wildfiresList/wildfiresList.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class WildfiresListContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentWildfiresSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_WILDFIRES_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectWildfiresLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectWildfiresErrorState()));\n}","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnChanges,\n    Output,\n    SimpleChanges\n} from \"@angular/core\";\nimport { arrayEquals } from \"../utils\";\n\n@Directive({\n    selector: '[appWFSingleSelect]'\n})\nexport class SingleSelectDirective implements AfterViewInit, OnChanges {\n    @Input() appWFPlaceholder?: string;\n    @Output() updated: EventEmitter<any> = new EventEmitter();\n    @Input() options: any[];\n    @Input() selected: any;\n    @Input() position: string = \"bottom\";\n    @Input() filter: boolean = true;\n    selectHtmlElement: HTMLSelectElement;\n    multiselect;\n    \n\n    constructor(\n        private element: ElementRef,\n        private cdr: ChangeDetectorRef) {\n    }\n\n    ngAfterViewInit() {\n        this.selectHtmlElement = this.element.nativeElement;\n        let self = this;\n        this.selectHtmlElement.addEventListener(\"change\", function () {\n            self.onClick();\n        });\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.options && !arrayEquals(changes.options.currentValue, changes.options.previousValue)) {\n            this.options = changes.options.currentValue;\n            setTimeout(() => {\n                this.cdr.detectChanges();\n                // this.multiselect.multipleSelect(\"refresh\");\n            });\n        }\n        if (changes.selected) {\n            setTimeout(() => {\n                this.selected = changes.selected.currentValue;\n                // this.multiselect.multipleSelect(\"setSelects\", [this.selected]);\n            });\n        }\n        if (changes.appWFPlaceholder) {\n            this.appWFPlaceholder = changes.appWFPlaceholder.currentValue;\n            setTimeout(() => {\n                this.cdr.detectChanges();\n                // this.multiselect.multipleSelect(\"refreshOptions\", {\"placeholder\": this.appWFPlaceholder});\n            });\n        }\n    }\n\n    onClick() {\n        let selected = \"\";\n        if (this.selectHtmlElement.selectedOptions && this.selectHtmlElement.selectedOptions.length) {\n            selected = this.selectHtmlElement.selectedOptions.item(0).value;\n        }\n        this.updated.emit(selected);\n    }\n}\n","import {Injectable, Injector} from \"@angular/core\";\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {AppConfigService, AuthenticationInterceptor, TokenService} from \"@wf1/core-ui\";\nimport {UUID} from \"angular2-uuid\";\nimport {catchError, filter, mergeMap, switchMap, take} from \"rxjs/operators\";\nimport {Router} from \"@angular/router\";\nimport {RouterExtService} from \"../services/router-ext.service\";\nimport {MatSnackBar} from \"@angular/material/snack-bar\";\nimport { ErrorHandlingInstructions } from \"../utils/user-feedback-utils\";\nimport { ApplicationStateService } from \"../services/application-state.service\";\nimport { ResourcesRoutes } from \"../utils\";\n\n@Injectable()\nexport class WfnewsInterceptor extends AuthenticationInterceptor implements HttpInterceptor {\n    private tokenService;\n    private asyncTokenRefresh;\n    private refreshSnackbar;\n\n    constructor(protected appConfig: AppConfigService, private snackbarService: MatSnackBar, protected injector: Injector,\n                private router: Router, private routerExtService: RouterExtService) {\n        super(injector);\n    }\n\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        let processedRequest = req;\n        let requestId;\n        requestId = `WFNEWSUI${UUID.UUID().toUpperCase()}`.replace(/-/g, \"\");\n\n        if (this.isUrlSecured(req.url)) {\n            if (!this.tokenService) {\n                this.tokenService = this.injector.get(TokenService);\n            }\n            return this.handleLogin(req, next, this.tokenService, requestId);\n\n        } else {\n            return this.handleRequest(requestId, next, processedRequest);\n        }\n    }\n\n    handleLogin(req: HttpRequest<any>, next: HttpHandler, tokenService: TokenService, requestId: string): Observable<any> {\n        let processedRequest = req;\n\n        return tokenService.authTokenEmitter.pipe(\n            filter(token => token != null)\n            , take(1)\n            , switchMap(token => {\n                if (this.tokenService.getTokenDetails()) {\n                    let appStateService = this.injector.get(ApplicationStateService);\n                    if (!appStateService.isAdminPageAccessable()){\n                        this.router.navigate([ResourcesRoutes.ERROR_PAGE])\n                    }\n                    if (this.tokenService.isTokenExpired(this.tokenService.getTokenDetails())) {\n                        return this.refreshWindow().pipe(mergeMap((tokenResponse) => {\n                            this.tokenService.updateToken(tokenResponse);\n                            let headers = req.headers.set(\"Authorization\", `Bearer ${tokenResponse[\"access_token\"]}`)\n                                .set(\"RequestId\", requestId);\n\n                            processedRequest = req.clone({headers});\n                            if (this.asyncTokenRefresh.isComplete) {\n                                this.asyncTokenRefresh = undefined;\n                            }\n                            if (this.refreshSnackbar) {\n                                this.refreshSnackbar.dismiss();\n                                this.refreshSnackbar = undefined;\n                            }\n                            return this.handleRequest(requestId, next, processedRequest);\n                        }));\n                    } else {\n                        if (requestId) {\n                            let authToken = this.tokenService.getOauthToken();\n                            processedRequest = req.clone({\n                                headers: req.headers.set('Authorization', 'Bearer ' + authToken).set(\"RequestId\", requestId).set(\"Accept\", \"*/*\")\n                                .set(\"Cache-Control\", \"no-cache\")\n                                    .set(\"Pragma\", \"no-cache\")\n                            });\n                        }\n                        return this.handleRequest(requestId, next, processedRequest);\n                    }\n                } else {\n                    return this.handleRequest(requestId, next, processedRequest);\n                }\n            }));\n    }\n\n    handleRequest(requestId, next, processedRequest): Observable<any> {\n        return next.handle(processedRequest).pipe(\n            catchError((response: HttpErrorResponse) => {\n                const errorHandlingInstructions = this.retrieveErrorHandlingInstructions(response, processedRequest, requestId);\n                this.handleError(errorHandlingInstructions);\n                throw response;\n            }));\n    }\n\n\n    retrieveErrorHandlingInstructions(response, processedRequest, requestId): ErrorHandlingInstructions {\n        console.log(\"ERROR HANDLE\", response, processedRequest);\n        if (response.url && response.url.endsWith(\"codeTables\")) {\n            return this.createErrorHandlingInstructions(null, null, `Unable to initialize application (${response.status}). ${response.url}`);\n        } else if (response.status === 0) {\n            if (window.navigator.onLine) {\n                return this.createErrorHandlingInstructions(null, null, \"An unexpected error has occurred.\");\n            } else {\n                return this.createErrorHandlingInstructions(null, null, \"No Connectivity. Please try again when you have reconnected.\");\n            }\n        } else if (response.status === 504) {\n            return this.createErrorHandlingInstructions(null, null, \"No Connectivity. Please try again when you have reconnected.\");\n        } else if (response.status === 500) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Error 500: ' + response.error.messages[0].message;\n            } else {\n                message = requestId ? `Server Error (500). RequestId: ${requestId}` : \"Server Error (500)\";\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n\n        } else if (response.status >= 501) {\n            return this.createErrorHandlingInstructions(null, null, `Server Error (${response.status}).`);\n        } else if (response.status == 401) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Insufficient Permissions: ' + response.error.messages[0].message;\n            } else {\n                message = `Insufficient Permissions (${response.status}). ${response.url}`;\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n        } else if (response.status == 403) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Insufficient Permissions: ' + response.error.messages[0].message;\n            } else {\n                message = `Insufficient Permissions (${response.status}). ${response.url}`;\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n\n        }\n\n        return null;\n    }\n\n    handleError(errorHandlingInstructions: ErrorHandlingInstructions) {\n        if (!errorHandlingInstructions) {\n            return;\n        }\n\n        if (errorHandlingInstructions.redirectToRoute) {\n            this.router.navigate([errorHandlingInstructions.redirectToRoute], {queryParams: {message: errorHandlingInstructions.redirectToRouteData}});\n        }\n    }\n\n\n    createErrorHandlingInstructions(redirectToRoute, redirectToRouteData, snackBarErrorMsg): ErrorHandlingInstructions {\n        return {\n            redirectToRoute: redirectToRoute,\n            redirectToRouteData: redirectToRouteData,\n            snackBarErrorMsg: snackBarErrorMsg\n        };\n\n    }\n\n    updateErrorPageRouteData(routeName, data) {\n        let route = this.router.config.find(r => r.path === routeName);\n        if (data) {\n            route.data = {errorMsg: data};\n        }\n    }\n\n    isUrlSecured(url: string): boolean {\n        let isSecured = false;\n        const config = this.appConfig.getConfig();\n        if (config && config.rest) {\n            let wfdmProxy = config.externalAppConfig['wfdmProxy'];\n            if(url.startsWith(wfdmProxy.toString())) {\n                return true; // if the request is from Document Service proxy\n            }\n            if (url.startsWith(config.rest['wfnews']) || url.includes('wfss-pointid-api')) {\n                return false; // if the request is from wfnews-server, no need to hanldeLogin\n            }\n            for (let endpoint in config.rest) {\n                if (url.startsWith(config.rest[endpoint])) {\n                    isSecured = true;\n                    break;\n                }\n            }\n        }\n        return isSecured;\n    }\n\n    displayRefreshErrorMessage(message: string) {\n      // unused. Why is this empty?\n    }\n\n    refreshWindow() {\n        if (this.asyncTokenRefresh) {\n            return this.asyncTokenRefresh;\n        }\n        let baseUrl = this.appConfig.getConfig().application.baseUrl;\n        let refreshPage = \"refresh-token.html\";\n        if (baseUrl && !baseUrl.endsWith(\"/\")) {\n            refreshPage = `/${refreshPage}`;\n        }\n        let clientId = this.appConfig.getConfig().webade.clientId;\n        let authorizeUrl = this.appConfig.getConfig().webade.oauth2Url;\n        let authScopes = this.appConfig.getConfig().webade.authScopes;\n\n        let redirectUrl = `${baseUrl}${refreshPage}`;\n        this.asyncTokenRefresh = this.tokenService.initRefreshTokenImplicitFlow(`${authorizeUrl}?response_type=token&client_id=${clientId}&redirect_uri=${redirectUrl}&scope=${authScopes}`\n            , \"wfim-incidents-token\",\n            (errorMessage) => {\n                this.displayRefreshErrorMessage(errorMessage);\n            });\n        return this.asyncTokenRefresh;\n\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from \"@angular/platform-browser\"; \n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) { }\n\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}","import { HttpClient, HttpHeaders } from '@angular/common/http'\nimport { AppConfigService } from '@wf1/core-ui'\nimport { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nexport type AgolOptions = {\n  returnCentroid?: boolean,\n  returnGeometry?: boolean,\n  returnExtent?: boolean\n};\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AGOLService {\n  constructor (private appConfigService: AppConfigService, protected http: HttpClient) { /* empty */ }\n\n  getFirePerimetre (fireNumber: string, options: AgolOptions = null) {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLperimetres'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=FIRE_NUMBER='${fireNumber}'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getEvacOrdersByEventNumber (eventNumber: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLevacOrders'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=EVENT_NUMBER='${eventNumber}'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getEvacOrders (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLevacOrders'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=EVENT_TYPE='fire'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getAreaRestrictionsByID (sysId: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLareaRestrictions'].toString();\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query\n    url += `query?where=PROT_RA_SYSID=${sysId}&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getAreaRestrictions (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLareaRestrictions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=1=1&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getBansAndProhibitionsById (sysId: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLBansAndProhibitions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=PROT_BAP_SYSID=${sysId}&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getBansAndProhibitions (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLBansAndProhibitions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=1=1&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getAreaRestrictionsWfs () {\n    const url = 'https://openmaps.gov.bc.ca/geo/pub/WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP/ows?service=wfs&version=1.1.0&request=GetFeature&typename=WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP&outputFormat=application/json&SRSName=urn:x-ogc:def:crs:EPSG:4326'\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  // Wont be needed when we point to our internal cache\n  getActiveFireCount (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS <> 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getActiveFiresNoGeom (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS <> 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getOutFiresNoGeom (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS = 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getCurrentYearFireLastXDaysStats(lastXDays: number): Observable<any> {\n    let startdate = new Date();\n    const enddate = new Date();\n    startdate.setDate(startdate.getDate() - lastXDays);\n    const sStartdate = `${startdate.getFullYear()}-${startdate.getMonth() + 1}-${startdate.getDate()} ${startdate.getHours() < 10 ? '0' : ''}${startdate.getHours()}:${startdate.getMinutes() < 10 ? '0' : ''}${startdate.getMinutes()}:${startdate.getSeconds() < 10 ? '0' : ''}${startdate.getSeconds()}`\n    const sEnddate = `${enddate.getFullYear()}-${enddate.getMonth() + 1}-${enddate.getDate()} ${enddate.getHours() < 10 ? '0' : ''}${enddate.getHours()}:${enddate.getMinutes() < 10 ? '0' : ''}${enddate.getMinutes()}:${enddate.getSeconds() < 10 ? '0' : ''}${enddate.getSeconds()}`\n\n    let url = `${this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest']}/query?f=json&` +\n        `where=IGNITION_DATE<=timestamp '${sEnddate}' AND IGNITION_DATE>=timestamp '${sStartdate}'` +\n        `&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*` +\n        `&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`;\n    url = encodeURI(url);\n    return this.http.get<any>(url);\n  }\n\n  getCurrentYearFireStats(): Observable<any> {\n    let url = `${this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest']}/query?f=json&where=1=1&returnGeometry=false&spatialRel=esriSpatialRelIntersects&\n    outFields=*&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`;\n    url = encodeURI(url);\n    return this.http.get<any>(url);\n}\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { TokenService} from '@wf1/core-ui';\nimport { WfDevice } from '@wf1/wfcc-application-ui';\nimport { ROLES_UI } from '../shared/scopes/scopes';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ApplicationStateService {\n\n    tokenService: TokenService;\n\n    constructor(private injector: Injector\n    ) {\n\n    }\n\n    getDevice(): WfDevice {\n        if ( window.innerWidth < 768 || ( window.innerWidth >= 768 && window.innerHeight < 450 ) ) {\nreturn 'mobile';\n}\n\n        return 'desktop';\n    }\n\n    getOrientation(): 'landscape'|'portrait' {\n        if ( window.innerWidth > window.innerHeight ) {\nreturn 'landscape';\n}\n\n        return 'portrait';\n    }\n\n    private checkMobileResolution() {\n        if (window.innerWidth < 768 || (window.innerWidth < 900 && window.innerHeight < 450)/*support for landscape mobile views*/) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public getIsMobileResolution(): boolean {\n        return this.checkMobileResolution();\n    }\n\n    public doesUserHaveScopes(scopes: string[]): boolean {\n        return this.getTokenService().doesUserHaveApplicationPermissions(\n            scopes);\n    }\n\n    public getUserCredentialsEmitter() {\n        return this.getTokenService().credentialsEmitter;\n    }\n\n    public getUserDetails() {\n        return this.getTokenService() ? this.getTokenService().getTokenDetails() : null;\n    }\n\n    private getTokenService() {\n        return this.tokenService ? this.tokenService : this.injector.get(TokenService);\n    }\n\n    public isAdminPageAccessable(): boolean {\n      return this.doesUserHaveScopes([ROLES_UI.ADMIN]) || this.doesUserHaveScopes([ROLES_UI.IM_ADMIN])\n    }\n\n}\n","import { NumberFormatStyle } from \"@angular/common\";\nimport { Injectable } from \"@angular/core\";\nimport { Geolocation } from '@capacitor/geolocation';\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\n\nconst MAX_CACHE_AGE = 30 * 1000\n\nexport interface Coordinates {\n    readonly accuracy: number;\n    readonly altitude: number | null;\n    readonly altitudeAccuracy: number | null;\n    readonly heading: number | null;\n    readonly latitude: number;\n    readonly longitude: number;\n    readonly speed: number | null;\n}\n\nexport interface Position {\n    readonly coords: Coordinates;\n    readonly timestamp: NumberFormatStyle;\n}\n\n@Injectable()\nexport class CommonUtilityService {\n    private myLocation;\n    private locationTime;\n    private location;\n\n    constructor (\n        protected snackbarService : MatSnackBar\n     ) {}\n\n     getCurrentLocationPromise(): Promise<Position> {\n        const self = this\n        const now = Date.now()\n        if (this.locationTime && (now - this.locationTime) < MAX_CACHE_AGE){\n            return this.location\n        }\n\n        this.locationTime = now\n        this.location = Geolocation.getCurrentPosition();\n        return this.location\n    }\n\n    getCurrentLocation(callback?: (p: Position) => void) {\n        if (navigator && navigator.geolocation) {\n            return Geolocation.getCurrentPosition().then((position) => {\n                this.myLocation = position ? position.coords : undefined;\n                if (callback) {\n                    callback(position);\n                }\n                return position ? position.coords : undefined;\n            }, error => {\n                this.snackbarService.open('Unable to retrieve the current location.', '', {\n                    duration: 5,\n                });\n            });\n        }\n        else {\n            console.warn('Unable to access geolocation');\n            this.snackbarService.open('Unable to access location services.', '', {\n                duration: 5,\n            });\n        }\n    }\n\n    preloadGeolocation() {\n      Geolocation.getCurrentPosition().then((position) => {\n            this.myLocation = position.coords;\n        }, error => {\n            this.snackbarService.open('Unable to retrieve the current location','Cancel', {\n                duration: 5000\n            })\n        });\n    }\n\n    sortAddressList(results: any, value: string) {\n        let address = null;\n        let trimmedAddress = null;\n        let valueLength = null;\n        let valueMatch = null;\n        results.forEach((result) => {\n            address = this.getFullAddress(result);\n            result.address = address.trim();\n            trimmedAddress = result.address;\n            valueLength = value.length;\n            if (trimmedAddress != null) valueMatch = trimmedAddress.substring(0, valueLength);\n\n            if (address != null && valueLength != null && valueMatch != null &&\n              (value.toUpperCase() === address.toUpperCase() || value.toUpperCase() === valueMatch.toUpperCase())) {\n                const index = results.indexOf(result);\n                if (index !== -1) {\n                  results.splice(index, 1);\n                }\n                let resultToBeUnshifted = result;\n\n                results.unshift(resultToBeUnshifted);\n            }\n\n          });\n\n          return results;\n\n    }\n\n    getFullAddress(location) {\n        let result = \"\";\n\n        if(location.civicNumber) {\n            result += location.civicNumber\n        }\n\n        if(location.streetName) {\n            result += \" \" + location.streetName\n        }\n\n        if(location.streetQualifier) {\n            result += \" \" + location.streetQualifier\n        }\n\n        if(location.streetType) {\n            result += \" \" + location.streetType\n        }\n\n        return result;\n      }\n\n}\n","import { HttpClient, HttpEventType, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, TokenService } from \"@wf1/core-ui\";\nimport { FileDetailsRsrc, FileMetadataRsrc } from \"@wf1/wfdm-document-management-api\";\nimport { UUID } from 'angular2-uuid';\nimport { environment } from '../../environments/environment';\n\nexport const UPLOAD_DIRECTORY = '/WFIM/uploads'\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DocumentManagementService {\n    wfdmBaseUrl: string\n    userGuid: string\n\n    constructor(\n        private appConfigService: AppConfigService,\n        private tokenService: TokenService,\n        private httpClient: HttpClient\n    ) {\n        this.tokenService.credentialsEmitter.subscribe( ( cred ) => {\n            this.userGuid = cred.user_guid || cred.userGuid\n        } )\n\n        this.appConfigService.loadAppConfig().then( () => {\n            this.wfdmBaseUrl = this.appConfigService.getConfig().rest[ 'wfdm' ]\n\n            this.tokenService.authTokenEmitter.subscribe( ( token ) => {\n                this.installServiceWorkerPathHandlers( token )\n            } )\n        } )\n    }\n\n    downloadDocument (fileId) {\n      const url = `${this.makeDocumentUrl(fileId)}`\n      return this.httpClient.request( new HttpRequest( 'GET', url, {\n        reportProgress: true,\n        responseType: 'blob'\n      }))\n    }\n\n    uploadDocument( {\n        file,\n        fileName,\n        userId = this.userGuid,\n        uploadDirectory = UPLOAD_DIRECTORY,\n        onProgress = () => {}\n    }: {\n        file: File,\n        fileName?: string,\n        userId?: string,\n        uploadDirectory?: string,\n        onProgress?: ( percent: number, loaded: number, total: number ) => void\n    } ): Promise<FileDetailsRsrc> {\n        if ( !fileName ) fileName = file.name\n\n        const unique = UUID.UUID()\n        const path = `${ uploadDirectory }/users/${ userId }/${ unique }--${ fileName }`\n\n        const formData = new FormData()\n        formData.append( 'resource', new Blob( [\n            JSON.stringify( makeFileDetail( file.size, path, [\n                makeMetadata( 'actual-filename', file.name ),\n                makeMetadata( 'content-type', file.type ),\n            ] ) )\n        ], { type: 'application/json' } ) )\n\n        formData.append( 'file', file )\n\n        const url = `${ this.wfdmBaseUrl }/documents`\n\n        let req = this.httpClient.request( new HttpRequest( 'POST', url, formData, {\n            reportProgress: true,\n            responseType: 'json',\n        } ) )\n\n        return new Promise( ( res, rej ) => {\n            req.subscribe(\n                ( ev ) => {\n                    if ( ev.type == HttpEventType.UploadProgress ) {\n                        onProgress( Math.round( 100 * ev.loaded / ev.total ), ev.loaded, ev.total )\n                    }\n                    else if ( ev.type == HttpEventType.Sent ) {\n                    }\n                    else if ( ev instanceof HttpResponse ) {\n                        onProgress( 100, file.size, file.size )\n                        res( ev.body as FileDetailsRsrc )\n                    }\n                },\n                ( err ) => rej( err )\n            )\n        } )\n    }\n\n    installServiceWorkerPathHandlers( token: string ) {\n        if ( environment[ 'document_management_proxy_auth_url' ] ) {\n            let url = environment[ 'document_management_proxy_auth_url' ] + '/' + token\n            fetch( url, {\n                method: 'PUT',\n                cache: 'no-cache',\n                body: new FormData()\n            } ).catch( console.warn )\n        }\n        else {\n            navigator.serviceWorker.controller.postMessage( {\n                type: 'token-for-path',\n                id: 'wfim-uploads',\n                pathPattern: new RegExp( `^${ this.wfdmBaseUrl }/documents/[0-9]+/bytes` ),\n                token: token\n            } )\n        }\n    }\n\n    makeDocumentUrl( fileId: string ): string {\n        if ( environment[ 'document_management_proxy_auth_url' ] )\n            return `${ this.wfdmBaseUrl }/documents/${ fileId }/bytes`\n\n        let proxy = this.appConfigService.getConfig().externalAppConfig['wfdmProxy'];\n        return `${proxy}?documentId=${ fileId }`;\n    }\n}\n\nconst FileDetailsType = 'http://resources.wfdm.nrs.gov.bc.ca/fileDetails';\nfunction makeFileDetail( fileSize: number, fileName: string, metadata: Array<FileMetadataRsrc> ): FileDetailsRsrc {\n    return {\n        '@type': FileDetailsType,\n        type: FileDetailsType,\n        // fileId: undefined,\n        // parent: undefined,\n        fileSize: fileSize,\n        fileType: \"DOCUMENT\",\n        filePath: fileName,\n        // retention: undefined,\n        security: [],\n        metadata: metadata\n        // fileCheckout: null,\n        // lockedInd: null,\n        // uploadedOnTimestamp: null\n    } as FileDetailsRsrc;\n}\n\nconst MetadataType =  'http://resources.wfdm.nrs.gov.bc.ca/fileMetadataResource';\nfunction makeMetadata( name: string, value: string, etag?: string ): FileMetadataRsrc {\n    return {\n        '@type': MetadataType,\n        type: MetadataType,\n        metadataName: name,\n        metadataValue: value,\n        etag: etag\n    } as FileMetadataRsrc\n}\n","import { Injectable } from '@angular/core'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n  public saveData (key: string, value: string) {\n    localStorage.setItem(key, value)\n  }\n\n  public getData (key: string) {\n    return localStorage.getItem(key)\n  }\n  public removeData (key: string) {\n    localStorage.removeItem(key)\n  }\n\n  public clearData () {\n    localStorage.clear()\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { mapConfig, reportOfFireMapConfig } from './map.config';\nimport { AppConfigService } from '@wf1/core-ui';\n\nexport interface MapServiceStatus {\n    useSecure: boolean;\n    token?: string;\n}\n\nexport interface MapServices {\n    [service: string]: string;\n};\n\n@Injectable()\nexport class MapConfigService {\n\tconstructor(\n\t\tprivate appConfig: AppConfigService\n\t) {}\n\n\tgetMapConfig(): Promise<any> {\n        const status: MapServiceStatus = {\n            useSecure: true,\n            token: null,\n        };\n\n\t\treturn this.appConfig.loadAppConfig().then( ( config ) => mapConfig( this.appConfig.getConfig()[ 'mapServices' ], status, 'desktop', this.appConfig ) );\n\t}\n\n    getReportOfFireMapConfig( ): Promise<any> {\n        const status: MapServiceStatus = {\n            useSecure: true,\n            token: null,\n        };\n\n\t\treturn this.appConfig.loadAppConfig().then( ( config ) => reportOfFireMapConfig( this.appConfig.getConfig()[ 'mapServices' ], status, 'desktop', this.appConfig ) );\n\t}\n}\n","import { MapServices } from '.';\n\nexport function LayerDisplayConfig(mapServices: MapServices) {\n    return [\n        {\n          id: \"fire-group\",\n          type: \"group\",\n          title: \"BC Wildfires - Active Fires\",\n          isVisible: true,\n          items: [\n            {\n              id: 'active-wildfires-fire-of-note',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-out-of-control',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-holding',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-under-control',\n              isVisible: true,\n              alwaysShowLegend: false\n            }\n          ]\n        },\n        {\n            id: 'evacuation-orders-and-alerts-wms',\n            isVisible: true,\n            alwaysShowLegend: false\n        },\n        {\n            id: 'evacuation-orders-and-alerts-wms-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: 'danger-rating',\n            isVisible: false,\n            alwaysShowLegend: false\n        },\n        {\n            id: 'bans-and-prohibitions',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'bans-and-prohibitions-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: 'area-restrictions',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'area-restrictions-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: \"hourly-currentforecast-firesmoke\",\n            isVisible: false\n        },\n        {\n            id: 'fire-perimeters',\n            isVisible: true,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'bcws-activefires-publicview-inactive',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'protected-lands-access-restrictions',\n            isVisible: false\n        },\n        {\n            id: 'closed-recreation-sites',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'drive-bc-active-events',\n            isVisible: false\n        },\n        {\n          id: 'bc-fsr',\n          isVisible: false\n        },\n        {\n            id: \"radar-1km-rrai--radarurpprecipr14-linear\",\n            isVisible: false\n        },\n        {\n            id: \"precipitation\",\n            isVisible: false\n        },\n        {\n            id: \"current-conditions--default\",\n            isVisible: false\n        },\n        {\n            id: 'bc-fire-centres',\n            isVisible: true,\n            class: 'smk-inline-legend'\n        },\n        //{\n        //    id: 'prescribed-fire',\n        //   isVisible: false,\n        //   class: 'smk-inline-legend'\n        //},\n        //{\n        //  id: 'active-wildfires-heatmap',\n        //  isVisible: false\n        //},\n        {\n            id: \"weather-stations\",\n            isVisible: false,\n            showItem: true  // false to hide in layer list\n        },\n        {\n            id: \"clab-indian-reserves\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"fnt-treaty-land\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"abms-municipalities\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"abms-regional-districts\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AbmsMunicipalitiesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'abms-municipalities',\n            title: 'Municipalities',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.ABMS_MUNICIPALITIES_SP',\n            styleName: '410',\n            titleAttribute: 'ADMIN_AREA_NAME',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n              {\n                name: 'ADMIN_AREA_NAME',\n                title: 'Admin Area Name'\n              },\n              {\n                name: 'ADMIN_AREA_BOUNDARY_TYPE',\n                title: 'Type'\n              },\n              {\n                name: 'ADMIN_AREA_GROUP_NAME',\n                title: 'Group'\n              },\n              {\n                name: 'WEBSITE_URL',\n                title: 'URL'\n              },\n              {\n                name: 'IMAGE_URL',\n                title: 'Image'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_municipalities.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AbmsRegionalDistrictsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'abms-regional-districts',\n            title: 'Regional Districts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.ABMS_REGIONAL_DISTRICTS_SP',\n            styleName: '447',\n            titleAttribute: 'ADMIN_AREA_NAME',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n              {\n                name: 'ADMIN_AREA_NAME',\n                title: 'Admin Area Name'\n              },\n              {\n                name: 'ADMIN_AREA_BOUNDARY_TYPE',\n                title: 'Type'\n              },\n              {\n                name: 'ADMIN_AREA_GROUP_NAME',\n                title: 'Group'\n              },\n              {\n                name: 'WEBSITE_URL',\n                title: 'URL'\n              },\n              {\n                name: 'IMAGE_URL',\n                title: 'Image'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_regional_districts.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ActiveWildfiresLayerConfig(ls: layerSettings, key: string) {\n    return [\n        {\n          type: 'vector',\n          id: 'active-wildfires-fire-of-note',\n          title: 'BC Wildfires - Active Fires - Fire of Note',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=FIRE_OF_NOTE\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n           markerSize:[\n              \"24\",\n              \"24\"\n           ],\n           markerOffset:[\n              \"12\",\n              \"12\"\n           ],\n           markerUrl: \"/assets/images/local_fire_department.png\"\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-out-of-control',\n          title: 'BC Wildfires - Active Fires - Out of Control',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=OUT_CNTRL\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#FF0000\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-holding',\n          title: 'BC Wildfires - Active Fires - Being Held',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=HOLDING\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#FFFF00\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-under-control',\n          title: 'BC Wildfires - Active Fires - Under Control',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=UNDR_CNTRL\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#98E600\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ActiveWildfiresHeatmapLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'vector',\n          id: 'active-wildfires-heatmap',\n          title: 'BC Wildfires - Active Fires Heatmap',\n          isQueryable: false,\n          useClustering: false,\n          useHeatmap: true,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?cacheBust=\" + Math.floor(new Date().getTime() / 600000),\n          titleAttribute: \"incident_name\",\n          attributes: []\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AreaRestrictionsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'area-restrictions',\n            title: 'BC Wildfire Area Restrictions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n            styleName: '7735',\n            titleAttribute: 'NAME',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate mat-primary\" aria-hidden=\"true\" ng-reflect-svg-icon=\"map-signs\" data-mat-icon-type=\"svg\" data-mat-icon-name=\"map-signs\"><svg style=\"color: #1a5a96\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M1745 297q10 10 10 23t-10 23l-141 141q-28 28-68 28h-1344q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h576v-64q0-26 19-45t45-19h128q26 0 45 19t19 45v64h512q40 0 68 28zm-977 919h256v512q0 26-19 45t-45 19h-128q-26 0-45-19t-19-45v-512zm832-448q26 0 45 19t19 45v256q0 26-19 45t-45 19h-1344q-40 0-68-28l-141-141q-10-10-10-23t10-23l141-141q28-28 68-28h512v-192h256v192h576z\"></path></svg></mat-icon><span class=\"title-label\">Area Restrictions</span></div><div class=\"popup-title\">{{feature.properties[\"NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Centre:</div><div class=\"attribute\">{{feature.properties[\"FIRE_CENTRE_NAME\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-if=\"feature.properties[\\'BULLETIN_URL\\']\" v-bind:href=\"feature.properties[\\'BULLETIN_URL\\']\">Learn More</a></div></div>',\n            attributes: [\n                {\n                    name: 'NAME',\n                    title: 'Name'\n                },\n                {\n                    name: 'ACCESS_STATUS_EFFECTIVE_DATE',\n                    title: 'Date Active',\n                },\n                {\n                    name: 'FIRE_CENTRE_NAME',\n                    title: 'Fire Centre'\n                },\n                {\n                    name: 'BULLETIN_URL',\n                    title: 'More Information'\n                }\n            ]\n        },\n        {\n            type: 'wms',\n            id: 'area-restrictions-highlight',\n            title: 'BC Wildfire Area Restrictions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/area-restrictions-highlight.sld`\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function BansAndProhibitionsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'bans-and-prohibitions',\n            title: 'BC Wildfire Bans and Prohibitions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n            styleName: '7733',\n            opacity: 0.2,\n            titleAttribute: 'ACCESS_PROHIBITION_DESCRIPTION',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">block</mat-icon><span class=\"title-label\">Wildfire Bans and Prohibitions</span></div><div class=\"popup-title\">{{feature.properties[\"TYPE\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Centre:</div><div class=\"attribute\">{{feature.properties[\"FIRE_CENTRE_NAME\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Bans:</div><div class=\"attribute attribute-red\">{{feature.properties[\"ACCESS_PROHIBITION_DESCRIPTION\"]}}</div></div><div class=\"popup-button-container\"><a v-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Prince George\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/prince-george-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Cariboo\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/cariboo-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Kamloops\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/kamloops-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Northwest\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/northwest-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Southeast\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/southeast-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Coastal\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/coastal-fire-centre-bans\">Learn More</a><a v-else class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\">Learn More</a></div></div>',\n            attributes: [\n                {\n                    name: 'FIRE_CENTRE_NAME',\n                    title: 'Fire Centre'\n                },\n                {\n                    name: 'ACCESS_STATUS_EFFECTIVE_DATE',\n                    title: 'Date Active',\n                },\n                {\n                    name: 'TYPE',\n                    title: 'Type'\n                },\n                {\n                    name: 'ACCESS_PROHIBITION_DESCRIPTION',\n                    title: 'Comments'\n                },\n                {\n                    name: 'BULLETIN_URL',\n                    title: 'More Information',\n                    value: 'See Here',\n                }\n            ]\n        },\n\n        {\n            type: 'wms',\n            id: 'bans-and-prohibitions-highlight',\n            title: 'BC Wildfire Bans and Prohibitions',\n            serviceUrl: ls.openmapsBaseUrl,\n            // \"serviceUrl\": \"https://delivery.openmaps.gov.bc.ca/geo/pub/ows\",\n            // \"#serviceUrl\": \"https://openmaps.gov.bc.ca/geo/pub/ows\",\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/bans-and-prohibitions-highlight.sld`\n        }\n\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FireCentresLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'esri-tiled',\n          id: 'bc-fire-centres',\n          title: 'BC Wildfire Fire Centres',\n          isQueryable: false,\n          attribution: 'Copyright 117 DataBC, Government of British Columbia',\n          serviceUrl: 'https://tiles.arcgis.com/tiles/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FireCenterBdys2/MapServer',\n          opacity: 1\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ProtectedLandsAccessRestrictionsLayerConfig(res: layerSettings) {\n  return [\n    {\n      type: \"wms\",\n      id: \"protected-lands-access-restrictions\",\n      title: \"Protected Lands Access Restrictions\",\n      serviceUrl: res.openmapsBaseUrl,\n      layerName: \"pub:WHSE_PARKS.PA_PRTCTD_LND_RSTRCTNS_SV\",\n      styleName: \"\",\n      opacity: 0.65,\n      titleAttribute: \"PROTECTED_LANDS_NAME\",\n      attributes: [\n        {\n          \"name\": \"PROTECTED_LANDS_NAME\",\n          \"title\": \"Protected Lands Name\"\n        }\n      ],\n      where: \"EVENT_TYPE = 'Wildfire'\",\n      geometryAttribute: \"SHAPE\",\n      popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><span class=\"title-label\" style=\"margin-left: 0px !important;\">Protected Lands Access Restrictions</span></div><div class=\"popup-title\" style=\"margin-top: 15px;\">{{feature.properties[\"PROTECTED_LANDS_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Access Status:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Access Details:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_DETAILS\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Campfires:</div><div class=\"attribute\">{{feature.properties[\"FACILITIES_CAMPFIRES_IND\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Campfire Ban:</div><div class=\"attribute\">{{feature.properties[\"CAMPFIRE_BAN_IND\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Effective Date:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"] ? feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"].slice(0, -1) : \"\"}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Rescinded Date:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS_RESCINDED_DATE\"] ? feature.properties[\"ACCESS_STATUS_RESCINDED_DATE\"].slice(0, -1) : \"\"}}</div></div></div>'\n    }\n  ]\n}\n","import { layerSettings } from '.';\n\nexport function WildfiresInactiveLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'vector',\n          id: 'bcws-activefires-publicview-inactive',\n          title: 'BC Wildfires - Declared Out',\n          isQueryable: true,\n          useClustering: true,\n          useHeatmap: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=OUT\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#5c6671\",\n            strokeOpacity:\"1\",\n            fillColor:\"#5c6671\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function CLABIndianReservesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'clab-indian-reserves',\n            title: 'Indian Reserve',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_ADMIN_BOUNDARIES.CLAB_INDIAN_RESERVES',\n            styleName: '375',\n            titleAttribute: 'ENGLISH_NAME',\n            geometryAttribute: 'GEOMETRY',\n            attributes: [\n              {\n                name: 'ENGLISH_NAME',\n                title: 'English Name'\n              },\n              {\n                name: 'FRENCH_NAME',\n                title: 'French Name'\n              }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ClosedRecreationSitesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'esri-feature',\n            id: 'closed-recreation-sites',\n            title: 'Closed Recreation Sites',\n            attribution: 'Copyright 117 DataBC, Government of British Columbia',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><span>Closed Recreation Site</span></div><div class=\"popup-title\">{{feature.properties[\"PROJECT_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Location:</div><div class=\"attribute\">{{feature.properties[\"SITE_LOCATION\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Closure Date:</div><div class=\"attribute\">{{new Date(feature.properties[\"CLOSURE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Comment:</div><div class=\"attribute\">{{feature.properties[\"CLOSURE_COMMENT\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\"v-bind:href=\"`http://www.sitesandtrailsbc.ca/search/search-result.aspx?site=${feature.properties[\\'FOREST_FILE_ID\\']}&type=${feature.properties[\\'PROJECT_TYPE\\'] === \\'SIT - Recreation Site\\' ? \\'SITE\\' : \\'TRAIL\\'}`\">Learn More</a></div></div>',\n\n            attributes: [\n                {\n                    name: 'PROJECT_NAME',\n                    title: 'Name'\n                },\n                {\n                  name: 'FOREST_FILE_ID',\n                  title: 'ID'\n                },\n                {\n                  name: 'PROJECT_TYPE',\n                  title: 'Type'\n                },\n                {\n                    name: 'SITE_LOCATION',\n                    title: 'Site Location'\n                },\n                {\n                    name: 'SITE_DESCRIPTION',\n                    title: 'Site Description'\n                },\n                {\n                    name: 'CLOSURE_IND',\n                    title: 'Closure Indicator'\n                },\n                {\n                    name: 'CLOSURE_DATE',\n                    title: 'Closure Date',\n                },\n                {\n                    name: 'CLOSURE_TYPE',\n                    title: 'Closure Type'\n                },\n                {\n                    name: 'CLOSURE_COMMENT',\n                    title: 'Closure Comments'\n                }\n            ],\n            serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/ArcGIS/rest/services/RecSitesReservesInterpForests_DetailsClosures_publicView/FeatureServer/0',\n            where: 'CLOSURE_IND = \\'Y\\'',\n            titleAttribute: 'PROJECT_NAME',\n            drawingInfo: {\n                renderer: {\n                    type: 'uniqueValue',\n                    field1: 'CLOSURE_IND',\n                    defaultSymbol: null,\n                    uniqueValueInfos: [\n                        {\n                            value: 'Y',\n                            symbol: {\n                                angle: 0,\n                                xoffset: 0,\n                                yoffset: 0,\n                                type: 'esriPMS',\n                                url: 'c99abdd1-24c7-47d8-b714-4ad35866dd99',\n                                width: 6.75,\n                                height: 8.620481927710843,\n                                imageData: 'iVBORw0KGgoAAAANSUhEUgAAAFMAAABqCAYAAADAx21lAAAAAXNSR0ICQMB9xQAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAABl0RVh0U29mdHdhcmUATWljcm9zb2Z0IE9mZmljZX/tNXEAAAOsSURBVHja7dwvdOJAEMfxysrKk0gkshKJRFYiK5HIQ1VG8lA1EN7DRCJPIiMjK5GVyF72XtPSHCH/fjM7uztidMvnZRnYb1/vlsvlnfSJ43jiwu8p/hdcr9f3Oeb7fr//pZg9Z7PZzHLMj+12+1sx+x/xP5+Yb4rZD3JoIC9G9HundMyohJkoZsfFk79fnkqYZ8mLSPJTOS1BFjNXzPZb/FCBmSlmizFHuQKymEfFbDjmM+UtzN1u96qYzY/4qebJPOcL6kExG3wPr4H8Nzn4s2LWYyZNMPNJFbN+8ZwbYpoZKWb1UzlvAWkmUsxqzKwl5rv5pqSY/0OOW0IWi2immKUxnx27YJorOsX8eanx0HLxlGeomN8f0p97QJp5Uczv98u0D6b5xiRhEUmAHPV8KouZBo+ZL54VAtNc2QWNWWRc0JP5YfsW3vbimaEgJeRg20f8CMZ8CxLzSsZFzSREzIgIMwkKsyLjosZaDrb1VE6JIK3mYFtb/ECMmQWBmb/QATFkMWPvMesyLmps5GAbR/zE9GSy52DuIz5hgrSSg7kxE05M7hzM9oM6ZFzUjLzDzF/UwgKkWUQrHzEzG5icOZgLcmwJkjUHc121vdrE5MrBHJcaD5YWD3sO5jjicwGQLH+XxIGZSsDkyMHUkCMhTyVLDqZePCtJmNQ5mPQ2HZlxXcjBlLdDM2mQ1DmY8ogfJWKaReQUJmHGFZ2DqTAj4ZiJE5jEGVd0DqZYPE/CIclyMAXmwRHMTDQmY8YVmYOhmFwZV2oORh9x6YuHNAcjj/jUMUj4InI544rLwa5nXFE52OmMKy0Hu55xReVg5zOupByMwNz5gGmuDK1iCsq4InKwLxlXRA72IuNKycE+ZVzrOdibjAt8Og+smJ8Z16fFU54BG6bUjIuarjnYq4yLXEQsmLH8jIuaCQdmFAhmQorpSMaF3cK3zcG+ZlzULCgxXcm4qMlIMGP3Mi5qxhSYLyFitsnBPmdc2CJqmoN9z7iomSMxk8AxUwimBxkXNaPemLHjGRe4iFa9Mc2/BFPMr0V03xkz9iTjAm+TZn0wvci4wKN+7ITpYcZFzbA1ZuxfxkVN1AUzVbir75uVObgK8lHhboI+Ncb0NeMCMQ+NMAPIuKgZ1GL6nnFRcy0HB5dxkYvoJmbs798PUc30FmakQK0muYoZWMaFXX5c5uCQMy5qFtcwQ8u4qMl+YMbhZlzUjC8xg8y4wNl9Yeri6b+IzJWlZlzczDXj4ib9C9b8q5ttvc3dAAAAAElFTkSuQmCC',\n                                contentType: 'image/png'\n                            },\n                            label: 'Closed'\n                        }\n                    ]\n                },\n                transparency: 0\n            }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function DangerRatingLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'danger-rating',\n            title: 'BC Wildfire Danger Rating',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_DANGER_RATING_SP',\n            styleName: '7734',\n            isQueryable: true,\n            titleAttribute: 'DANGER_RATING_DESC',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n                {\n                    name: 'DANGER_RATING_DESC',\n                    title: 'Danger Rating'\n                }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function DriveBCEventsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'drive-bc-active-events',\n            title: 'Drive BC Active Events',\n            isQueryable: true,\n            serviceUrl: ls.drivebcBaseUrl,\n            layerName: 'op5:OP5_EVENT511_ACTIVE_V',\n            titleAttribute: 'HEADLINE',\n            geometryAttribute: 'GEOMETRY',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">directions_car_filled</mat-icon><span class=\"title-label\">Road Conditions</span></div><div class=\"popup-title\">{{feature.properties[\"HEADLINE\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Description:</div><div class=\"attribute\">{{feature.properties[\"DESCRIPTION\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Area:</div><div class=\"attribute\">{{feature.properties[\"AREA\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Created:</div><div class=\"attribute\">{{new Date(feature.properties[\"CREATED_TIME\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Severity:</div><div class=\"attribute\">{{feature.properties[\"SEVERITY\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Status:</div><div class=\"attribute attribute-red\">{{feature.properties[\"STATUS\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-bind:href=\"`https://drivebc.ca/mobile/pub/events/id/${feature.properties[\\'SOURCE_ID\\']}.html`\">Learn More</a></div></div>',\n            attributes: [\n                {\n                  name: 'SOURCE_ID',\n                  title: 'Source ID'\n                },\n                {\n                    name: 'HEADLINE',\n                    title: 'HEADLINE'\n                },\n                {\n                    name: 'DESCRIPTION',\n                    title: 'Description'\n                },\n                {\n                    name: 'CREATED_TIME',\n                    title: 'Created'\n                },\n                {\n                    name: 'SEVERITY',\n                    title: 'Severity'\n                },\n                {\n                    name: 'STATUS',\n                    title: 'Status'\n                },\n                {\n                    name: 'AREA',\n                    title: 'Area'\n                }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function EvacuationOrdersLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'evacuation-orders-and-alerts-wms',\n            title: 'Fire Evacuation Orders and Alerts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n            styleName: '6885',\n            isQueryable: true,\n            where: 'ORDER_ALERT_STATUS <> \\'All Clear\\' and EVENT_TYPE = \\'Fire\\'',\n            opacity: 0.65,\n            titleAttribute: 'EVENT_NAME',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">error</mat-icon><span class=\"title-label\">Evacuation Orders and Alerts</span></div><div class=\"popup-title\">{{feature.properties[\"EVENT_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"DATE_MODIFIED\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Agency:</div><div class=\"attribute\">{{feature.properties[\"ISSUING_AGENCY\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Status:</div><div class=\"attribute attribute-red\">{{feature.properties[\"ORDER_ALERT_STATUS\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-if=\"feature.properties[\\'BULLETIN_URL\\']\" v-bind:href=\"feature.properties[\\'BULLETIN_URL\\']\">Learn More</a></div></div>',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n                {\n                    name: 'EVENT_NAME',\n                    title: 'Name'\n                },\n                {\n                    name: 'EVENT_TYPE',\n                    title: 'Type'\n                },\n                {\n                    name: 'DATE_MODIFIED',\n                    title: 'Date',\n                },\n                {\n                    name: 'ISSUING_AGENCY',\n                    title: 'Issuing Agency'\n                },\n                {\n                    name: 'ORDER_ALERT_STATUS',\n                    title: 'Status'\n                }\n            ],\n            legend: {\n                clipHeight: 60\n            }\n        },\n        {\n            type: 'wms',\n            id: 'evacuation-orders-and-alerts-wms-highlight',\n            title: 'Fire Evacuation Orders and Alerts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/evacuation-orders-and-alerts-wms-highlight.sld`\n        }\n\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FirePerimetersLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'esri-feature',\n            id: 'fire-perimeters',\n            title: 'BC Wildfire Fire Perimeters',\n            attribution: 'Copyright 117 DataBC, Government of British Columbia',\n            serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FirePerimeters_PublicView/FeatureServer/0',\n            where: 'FIRE_STATUS <> \\'Out\\'',\n            opacity: 1,\n            attributes: [\n                {\n                    name: 'FIRE_NUMBER',\n                    title: 'Fire Perimeter Number'\n                },\n                {\n                    name: \"TRACK_DATE\",\n                    title: 'Track Date',\n                    value: '<%= this.asDate( \\'TRACK_DATE\\' ) %>',\n                    format: \"asLocalDate\"\n                },\n                {\n                    name: 'FIRE_STATUS',\n                    title: 'Stage of Control'\n                },\n                {\n                    name: 'FIRE_OF_NOTE_NAME',\n                    title: 'Fire of Note Information',\n                    format: 'asLink(this.feature.properties.FIRE_OF_NOTE_URL)'\n                }\n            ],\n            titleAttribute: 'FIRE_OF_NOTE_NAME',\n            popupTemplate: '@wf-incident-feature',\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FntTreatyLandLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'fnt-treaty-land',\n            title: 'First Nations Treaty Land',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.FNT_TREATY_LAND_SP',\n            styleName: '6214',\n            titleAttribute: 'FIRST_NATION_NAME',\n            geometryAttribute: 'GEOMETRY',\n            attributes: [\n              {\n                name: 'TREATY',\n                title: 'Treaty'\n              },\n              {\n                name: 'FIRST_NATION_NAME',\n                title: 'First Nation Name'\n              },\n              {\n                name: 'COMMENTS',\n                title: 'Comments'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_treaty_land.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ForestServiceRoadsLayerConfig(ls: layerSettings) {\n    return [\n      {\n        type: 'esri-feature',\n        id: 'bc-fsr',\n        title: 'Forest Service Roads',\n        isQueryable: true,\n        attribution: 'Copyright 117 DataBC, Government of British Columbia',\n        serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/ArcGIS/rest/services/FSR_Safety_Information_View/FeatureServer/0',\n        opacity: 1,\n        titleAttribute: 'LOCATION',\n        popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">road</mat-icon><span class=\"title-label\">Forest Service Road Safety Info</span></div><div class=\"popup-title\">{{feature.properties[\"LOCATION\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Type:</div><div class=\"attribute\">{{feature.properties[\"ALERT_TYPE\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Information:</div><div class=\"attribute\">{{feature.properties[\"INFORMATION\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\"v-bind:href=\"feature.properties[\\'NOTICE\\']\">Learn More</a></div></div>'\n      }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function SmokeForecastLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'image',\n            id: 'hourly-currentforecast-firesmoke',\n            title: 'Smoke Forecast, Hourly',\n            opacity: 0.65,\n            baseUrl: 'https://firesmoke.ca/forecasts/current/images/hourly_<%= timestamp %>.png',\n            bounds: [[32.0, -160.0], [70.0, -52.0]],\n            legend: {\n                title: ' ',\n                url: 'assets/images/firesmoke-legend.png'\n            }\n        }\n    ];\n}\n","import { ActiveWildfiresLayerConfig } from './active-wildfires.config';\nimport { AreaRestrictionsLayerConfig } from './area-restrictions.config';\nimport { BansAndProhibitionsLayerConfig } from './bans-and-prohibitions.config';\nimport { FireCentresLayerConfig } from './bc-fire-centres.config';\nimport { WildfiresInactiveLayerConfig } from './bcws-activefires-publicview-inactive.config';\nimport { ClosedRecreationSitesLayerConfig } from './closed-recreation-sites.config';\nimport { DangerRatingLayerConfig } from './danger-rating.config';\nimport { DriveBCEventsLayerConfig } from './drive-bc-active-events.config';\nimport { FirePerimetersLayerConfig } from './fire-perimeters.config';\nimport { WeatherLayerConfig } from './weather.config';\nimport { EvacuationOrdersLayerConfig } from './evacuation-orders-and-alerts-wms.config';\nimport { SmokeForecastLayerConfig } from './hourly-currentforecast-firesmoke.config';\nimport { WeatherStationsLayerConfig } from './weather-stations.config';\nimport { PrecipitationLayerConfig } from './precipitation.config';\nimport { ForestServiceRoadsLayerConfig } from './fsr-safety.config';\nimport { CLABIndianReservesLayerConfig } from './clab-indian-reserves.config';\nimport { FntTreatyLandLayerConfig } from './fnt-treaty-land.config';\nimport { AbmsMunicipalitiesLayerConfig } from './abms-municipalities.config';\nimport { AbmsRegionalDistrictsLayerConfig } from './abms-regional-districts.config';\nimport { MapServices, MapServiceStatus } from '..';\nimport { ActiveWildfiresHeatmapLayerConfig } from './active-wildfires.heatmap.config';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { ProtectedLandsAccessRestrictionsLayerConfig } from './bc-parks-closures.config';\n\nexport interface layerSettings {\n    openmapsBaseUrl: string;\n    drivebcBaseUrl: string;\n    wfnewsUrl: string;\n\n};\nexport function LayerConfig( mapServices: MapServices, serviceStatus: MapServiceStatus, appConfigService: AppConfigService ) {\n    const ls: layerSettings = {\n        openmapsBaseUrl: mapServices[ 'openmapsBaseUrl' ],\n        drivebcBaseUrl: mapServices[ 'drivebcBaseUrl' ],\n        wfnewsUrl: mapServices[ 'wfnews' ]\n    };\n\n\treturn [\n\t\t...ActiveWildfiresLayerConfig( ls, appConfigService.getConfig().application['wfnewsApiKey'] ),\n\t\t...AreaRestrictionsLayerConfig( ls ),\n\t\t...BansAndProhibitionsLayerConfig( ls ),\n\t\t...FireCentresLayerConfig( ls ),\n\t\t...WildfiresInactiveLayerConfig( ls ),\n\t\t...ClosedRecreationSitesLayerConfig( ls ),\n\t\t...DangerRatingLayerConfig( ls ),\n\t\t...DriveBCEventsLayerConfig( ls ),\n\t\t...EvacuationOrdersLayerConfig( ls ),\n\t\t...FirePerimetersLayerConfig( ls ),\n\t\t...SmokeForecastLayerConfig( ls ),\n    // Hiding temporarily as the dataset is reconfigured\n    // ...PrescribedFireLayerConfig( ls ),\n\t\t...WeatherLayerConfig( ls ),\n    ...WeatherStationsLayerConfig( ls ),\n    ...PrecipitationLayerConfig( ls ),\n    ...ForestServiceRoadsLayerConfig( ls ),\n    ...ActiveWildfiresHeatmapLayerConfig( ls ),\n    ...CLABIndianReservesLayerConfig( ls ),\n    ...FntTreatyLandLayerConfig( ls ),\n    ...AbmsMunicipalitiesLayerConfig( ls ),\n    ...AbmsRegionalDistrictsLayerConfig( ls ),\n    ...ProtectedLandsAccessRestrictionsLayerConfig( ls )\n\t];\n}\n","import { layerSettings } from '.';\n\nexport function PrecipitationLayerConfig( ls: layerSettings ) {\n\treturn [\n        {\n            type: 'wms-time',\n            id: 'precipitation',\n            title: 'Precipitation Forecast, Hourly',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            tiled: false,\n            version: '1.3.0',\n            serviceUrl:'https://geo.weather.gc.ca/geomet',\n            layerName: 'GDPS.ETA_RT',\n            styleName: 'PRECIPPRTMMH',\n            legend: {\n                title: ' ',\n                url: 'assets/images/precipitation-legend.png',\n            }\n\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function WeatherStationsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'weather-stations',\n            title: 'BC Wildfire Active Weather Stations',\n            isVisible: true,\n            isQueryable: false,\n            isDisplayed: false,\n            opacity: 1,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: 'STATION_NAME',\n            attributes: [\n                {\n                    id: 'station-name',\n                    name: 'STATION_NAME',\n                    title: 'STATION NAME',\n                    visible: true\n                },\n                {\n                    name: 'temp',\n                    title: 'Temperature',\n                    format: 'asUnit( \\'°C\\' )'\n                },\n                {\n                    name: 'relativeHumidity',\n                    title: 'Relative Humidity',\n                    format: 'asUnit( \\'%\\' )'\n                },\n                {\n                    name: 'windSpeed',\n                    title: 'Wind Speed',\n                    format: 'asUnit( \\'km/h\\' )'\n                },\n                {\n                    name: 'windDirection',\n                    title: 'Wind Direction',\n                    format: 'asUnit( \\'°\\' )'\n                },\n                {\n                    name: 'precipitation',\n                    title: 'Precipitation',\n                    format: 'asUnit( \\'mm\\' )'\n                },\n                {\n                    name: 'fineFuelMoistureCode',\n                    title: 'Fine Fuel Moisture Code'\n                },\n                {\n                    name: 'initialSpreadIndex',\n                    title: 'Initial Spread Index'\n                },\n                {\n                    name: 'fireWeatherIndex',\n                    title: 'Fire Weather Index'\n                },\n                {\n                    title: 'Recorded',\n                    name: 'recorded'\n                }\n            ],\n            queries: null,\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_WEATHER_STATIONS_SP',\n            styleName: '4881',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '@wf-weather-station-feature',\n            legend: {\n              title: ' ',\n              url: ''\n            },\n            style:{\n              strokeWidth:\"1\",\n              strokeStyle:\"1\",\n              strokeColor:\"#FFFFFF00\",\n              strokeOpacity:\"0\",\n              fillColor:\"#FFFFFF00\",\n              fillOpacity:\"0\",\n              fill: false\n            }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function WeatherLayerConfig(ls: layerSettings) {\n    return [\n        {\n            id: 'radar-1km-rrai--radarurpprecipr14-linear',\n            type: 'wms',\n            title: 'Current Precipitation Radar',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            serviceUrl: 'https://geo.weather.gc.ca/geomet',\n            layerName: 'RADAR_1KM_RRAI',\n            styleName: '',\n            legend: {\n                title: ' ',\n                url: 'assets/images/radar-1km-rrai--radarurpprecipr14-linear-legend.png'\n            }\n        },\n        {\n            id: 'current-conditions--default',\n            type: 'wms',\n            title: 'Current Weather Conditions',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            serviceUrl: 'https://geo.weather.gc.ca/geomet',\n            layerName: 'CURRENT_CONDITIONS',\n            styleName: 'default'\n        }\n    ];\n}\n","import { AppConfigService } from '@wf1/core-ui';\nimport { WfDevice } from '@wf1/wfcc-application-ui';\nimport { MapServices, MapServiceStatus } from '.';\nimport { LayerDisplayConfig } from './layer-display.config';\nimport { LayerConfig } from './layers';\n\nexport function mapConfig( mapServices: MapServices, serviceStatus: MapServiceStatus, device: WfDevice, appConfigService: AppConfigService ) {\n    return {\n        viewer: {\n            type: 'leaflet',\n            device,\n            location: {\n                extent: [ -136.3, 49, -116, 60.2 ],\n            },\n            baseMap: 'topographic',\n            minZoom: 4,\n        },\n        tools: [\n            {\n                type: 'location',\n                enabled: false\n            },\n\t\t\t{\n\t\t\t\ttype: 'layers',\n\t\t\t\tenabled: true,\n\t\t\t\tshowTitle: false,\n\t\t\t\tposition: 'shortcut-menu',\n\t\t\t\tglyph: {\n\t\t\t\t\tvisible: 'check_box',\n\t\t\t\t\thidden: 'check_box_outline_blank'\n\t\t\t\t},\n\t\t\t\tcommand: {\n\t\t\t\t\tallVisibility: false,\n\t\t\t\t\tfilter: false,\n\t\t\t\t\tlegend: false\n\t\t\t\t},\n\t\t\t\tlegend: true,\n\t\t\t\torder: 2,\n\t\t\t\tdisplay: LayerDisplayConfig( mapServices )\n\t\t\t},\n            {\n                type: 'identify',\n                title: 'Learn More',\n                enabled: true,\n                showTitle: false,\n                showWidget: false,\n                showPanel: true,\n                radius: 20,\n                command: {\n                    attributeMode: false,\n                    clear: false,\n                    nearBy: false,\n                    zoom: true,\n                    custom: true\n                },\n                internalLayers: [\n                   {\n                        id: 'search-area',\n                        style: {\n                            stroke: false,\n                            fill: true,\n                            fillColor: 'white',\n                            fillOpacity: 0.1,\n                        },\n                    },\n                    {\n                        id: 'search-border-1',\n                        style: {\n                            strokeWidth: 1,\n                            strokeColor: 'black',\n                            strokeOpacity: 1,\n                            strokeCap: 'butt',\n                        },\n                    },\n                    {\n                        id: 'search-border-2',\n                        style: {\n                            strokeWidth: 1,\n                            strokeColor: 'white',\n                            strokeOpacity: 1,\n                            strokeCap: 'butt',\n                        }\n                    },\n                    {\n                        id: 'location',\n                        title: 'Identify Location',\n                        style: {\n                            markerUrl: null,\n                        },\n                        legend: {\n                        }\n                    },\n                    {\n                        id: 'edit-search-area',\n                        style: {\n                            strokeWidth: 3,\n                            strokeColor: 'red',\n                            strokeOpacity: 1\n                        }\n                    }\n                ]\n            },\n            {\n                type: 'pan',\n                enabled: true\n            },\n            {\n                type: 'zoom',\n                enabled: true,\n                mouseWheel: true,\n                doubleClick: true,\n                box: true,\n                control: true\n            },\n\t\t\t{\n\t\t\t\ttype: 'baseMaps',\n\t\t\t\tenabled: true,\n\t\t\t\tshowTitle: false,\n\t\t\t\tshowPanel: false,\n\t\t\t\tchoices: [\n\t\t\t\t],\n\t\t\t\tposition: 'shortcut-menu',\n\t\t\t\tmapStyle: {\n\t\t\t\t\twidth: '60px',\n\t\t\t\t\theight: '100px'\n\t\t\t\t},\n\t\t\t\torder: 3\n\t\t\t},\n            {\n\t\t\t\ttype: \"time-dimension\",\n\t\t\t\tenabled: true,\n\t\t\t\ttimeDimensionOptions: {\n\t\t\t\t}\n\t\t\t},\n            {\n                type: \"scale\",\n                enabled: 'desktop',\n                showZoom: true,\n                order: 2\n            },\n            {\n                type: \"coordinate\",\n                enabled: 'desktop',\n                order: 3,\n                format: 'DDM'\n            },\n            {\n                type: \"measure\",\n                enabled: 'desktop',\n                unit: 'kilometers',\n                order: 5\n            },\n            {\n                type: 'search',\n                enabled: false\n            },\n],\n        layers: LayerConfig(mapServices, serviceStatus, appConfigService)\n    };\n}\n\nexport function reportOfFireMapConfig(\n    mapServices: MapServices, serviceStatus: MapServiceStatus, device: WfDevice, appConfigService: AppConfigService) {\n    return {\n        viewer: {\n            type: \"leaflet\",\n            device,\n            location: {\n                extent: [ -136.3, 49, -116, 60.2 ],\n            },\n            baseMap: \"imagery\",\n            minZoom: 4\n        },\n        tools: [\n            {\n                type: \"pan\",\n                enabled: true\n            },\n            {\n                type: \"zoom\",\n                enabled: true,\n                mouseWheel: true,\n                doubleClick: true,\n                box: true,\n                control: true\n            },\n            {\n                type: \"baseMaps\",\n                enabled: false,\n            },\n            {\n                type: \"search\",\n                enabled: false,\n            },\n            {\n                type: \"search-location\",\n                enabled: false\n            },\n            {\n                type: \"markup\",\n                enabled: false\n            },\n            {\n                type: \"location\",\n                enabled: false\n            },\n            {\n                type: \"scale\",\n                enabled: false\n            },\n            {\n                type: \"bespoke\",\n                instance: \"full-screen\",\n                title: \"Full Screen\",\n                position: \"toolbar\",\n                enabled: false,\n                order: 1,\n                icon: \"open_in_full\"\n            },\n        ],\n    }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { AppConfigService } from '@wf1/core-ui';\nimport { WeatherStationConditions, WeatherStationResult } from \"./interfaces\";\n\nexport { WeatherHourlyCondition, WeatherDailyCondition, WeatherStation, WeatherStationConditions, WeatherStationResult } from './interfaces'\n\nconst MAX_CACHE_AGE = 60 * 1000 //ms\n\n@Injectable({ providedIn: 'root' })\nexport class PointIdService {\n  baseAPIUrl\n  cache = {}\n\n  constructor(\n    private http: HttpClient,\n    private appConfigService: AppConfigService\n  ) {\n    this.baseAPIUrl = this.appConfigService.getConfig().rest.pointId;\n  }\n\n  fetch(url: string) {\n    const self = this\n\n    const now = Date.now()\n\n    if (this.cache[url] && (now - this.cache[url].ts) < MAX_CACHE_AGE)\n      return this.cache[url].result\n\n    Object.keys(this.cache).forEach(function (url) {\n      if ((now - self.cache[url].ts) < MAX_CACHE_AGE) return\n      delete self.cache[url]\n    })\n\n    this.cache[url] = {\n      ts: now,\n      result: this.http.get(url, {\n        headers: new HttpHeaders({\n          // 'x-api-key': this.apiKey\n        }),\n      }).toPromise()\n    }\n\n    return this.cache[url].result\n  }\n\n  fetchWeatherStation(weatherStationId: string): Promise<WeatherStationConditions> {\n    return this.fetch(`${this.baseAPIUrl}/weatherStation?code=${weatherStationId}&duration=3`)\n      .then(function (resp: WeatherStationResult) {\n        return resp.stations[0]\n      })\n  }\n\n  fetchNearestWeatherStation(latitude: number, longitude: number): Promise<WeatherStationConditions> {\n    return this.fetch(`${this.baseAPIUrl}/weather?lat=${latitude.toFixed(3)}&lon=${longitude.toFixed(3)}&duration=3`)\n      .then(function (resp: WeatherStationResult) {\n        return resp.stations[0]\n      })\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, TokenService } from \"@wf1/core-ui\";\nimport { Observable, of } from 'rxjs';\nimport { concatMap, map } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PublishedIncidentService {\n  constructor(private appConfigService: AppConfigService, private tokenService: TokenService, private httpClient: HttpClient) {  }\n\n  public async getActiveFireCount () : Promise<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=1&pageRowCount=1&out=false&stageOfControlList=OUT_CNTRL&stageOfControlList=HOLDING&stageOfControlList=UNDR_CNTRL`;\n    const result = await this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} }).toPromise();\n\n    return ((result as any).totalRowCount || 0)\n  }\n\n  public fetchOutIncidents (pageNum: number = 0, rowCount: number = 9999): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&stageOfControlList=OUT&newFires=false`\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  public fetchPublishedIncidents (pageNum: number = 0, rowCount: number = 9999, fireOfNote = false, out = false, orderBy: string = 'lastUpdatedTimestamp%20DESC'): Observable<any> {\n    const url = out ? `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&fireOfNote=${fireOfNote}&out=true` : `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&fireOfNote=${fireOfNote}&out=false&orderBy=${orderBy}&stageOfControlList=OUT_CNTRL&stageOfControlList=HOLDING&stageOfControlList=UNDR_CNTRL`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  // published incident guid, WF Incident Guid, WF year and incident sequence number?\n  public fetchPublishedIncident (guid: string, fireYear: string = null): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident/${guid}${fireYear ? '?fireYear=' + fireYear : ''}`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  public fetchIMIncident(fireYear: string, incidentNumber: string): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['incidents']}/incidents/${fireYear}/${incidentNumber}`\n\n    return this.httpClient.get(url, { headers: { Authorization: `bearer ${this.tokenService.getOauthToken()}`} })\n    .pipe(\n      map((response:any) => {\n        return {response: response, wildfireIncidentGuid: response.wildfireIncidentGuid};\n      })\n    )\n    .pipe(\n      concatMap((data) => {\n        const publishedUrl = `${this.appConfigService.getConfig().rest['incidents']}/publishedIncidents/byIncident/${data.wildfireIncidentGuid}`;\n        return of({response: data.response, getPublishedIncident: this.httpClient.get(publishedUrl, { headers: { 'Content-Type': 'application/json', Authorization: `bearer ${this.tokenService.getOauthToken()}`}})});\n      })\n    );\n  }\n\n  public saveIMPublishedIncident (publishedIncident: any): Observable<any> {\n    let publishedUrl = `${this.appConfigService.getConfig().rest['incidents']}/publishedIncidents`\n    const headers = {\n      headers: {\n        Authorization: `bearer ${this.tokenService.getOauthToken()}`\n      }\n    }\n\n    if (publishedIncident.publishedIncidentDetailGuid) {\n      return this.httpClient.put(publishedUrl + `/${publishedIncident.publishedIncidentDetailGuid}`, publishedIncident, headers)\n    } else {\n      return this.httpClient.post(publishedUrl, publishedIncident, headers)\n    }\n  }\n\n  public fetchPublishedIncidentAttachments (incidentName): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentName}/attachments`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchExternalUri (incidentNumber): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicExternalUri?sourceObjectUniqueId=${incidentNumber}&pageNumber=1&pageRowCount=100`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchAttachments (incidentNumber): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentNumber}/attachments`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchAttachmentBytes (incidentNumber, attachmentGuid): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentNumber}/attachments/${attachmentGuid}/bytes`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {NavigationEnd, Router} from '@angular/router';\n\n/** A router wrapper, adding extra functions. */\n@Injectable({providedIn: 'root'})\nexport class RouterExtService {\n\n  private previousUrl: string = undefined;\n  private currentUrl: string = undefined;\n\n  constructor(private router: Router) {\n    this.currentUrl = this.router.url;\n    router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.previousUrl = this.currentUrl;\n        this.currentUrl = event.url;\n      };\n    });\n  }\n\n  public getPreviousUrl(){\n    return this.previousUrl;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SwUpdate } from '@angular/service-worker';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { interval } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class UpdateService {\n    constructor(public swUpdate: SwUpdate, public snackbar: MatSnackBar) {\n        console.log('wfnews swUpdate, enabled:', swUpdate.isEnabled);\n        if (swUpdate.isEnabled) {\n            swUpdate.checkForUpdate();\n            interval(5 * 60 * 1000).subscribe(() => swUpdate.checkForUpdate());\n        }\n    }\n\n    public checkForUpdates(): void {\n        if (this.swUpdate.isEnabled) {\n            this.swUpdate.available.subscribe(event => {\n                console.log('current version is', event.current);\n                console.log('available version is', event.available);\n\n                this.snackbar.open('A new version is available', 'Update Now').onAction().subscribe(\n                    () => {\n                        this.swUpdate.activateUpdate().then(() => document.location.reload());\n                    }\n                );\n            });\n        }\n    }\n}\n","import {AppConfigService, AuthGuard, TokenService} from \"@wf1/core-ui\";\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot } from \"@angular/router\";\nimport {Injectable} from \"@angular/core\";\nimport {AsyncSubject, Observable, of} from \"rxjs\";\nimport {mergeMap} from \"rxjs/operators\";\nimport {MatSnackBar} from \"@angular/material/snack-bar\";\nimport {ResourcesRoutes} from \"../../utils\";\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class NewsAuthGuard extends AuthGuard {\n    private asyncCheckingToken;\n\n    constructor(tokenService: TokenService, router: Router, private appConfigService: AppConfigService, protected snackbarService: MatSnackBar) {\n        super(tokenService, router);\n        this.baseScopes = [];\n    }\n\n    canActivate(route: ActivatedRouteSnapshot,\n                state: RouterStateSnapshot): Observable<boolean> {\n\n        if (!window.navigator.onLine) {\n            return of(false);\n        }\n        if (route.data && route.data.scopes && route.data.scopes.length > 0) {\n            return this.getTokenInfo(route);\n        } else {\n            return of(true);\n        }\n    }\n\n    getTokenInfo(route) {\n        if (!this.tokenService.getOauthToken()) {\n            if (this.asyncCheckingToken) {\n                return this.asyncCheckingToken;\n            }\n            let redirectUri = this.appConfigService.getConfig().application.baseUrl;\n            let path = route.routeConfig.path;\n            let pathWithParamSubs = path;\n            let queryParamStr = \"?\";\n            if (route.params) {\n                Object.keys(route.params).forEach(paramKey => {\n                    pathWithParamSubs = pathWithParamSubs.replace(\":\" + paramKey, route.params[paramKey]);\n                });\n            }\n            redirectUri = redirectUri.concat(pathWithParamSubs);\n            if (route.queryParams) {\n                Object.keys(route.queryParams).forEach(paramKey => {\n                    queryParamStr += paramKey + \"=\" + route.queryParams[paramKey] + \"&\";\n                });\n                queryParamStr = queryParamStr.substr(0, queryParamStr.length - 1);\n                redirectUri = redirectUri.concat(queryParamStr);\n            }\n            return this.checkForToken(redirectUri, route).pipe(mergeMap((result) => {\n                this.asyncCheckingToken = undefined;\n                if (!result) {\n                    this.redirectToErrorPage();\n                    return of(result);\n                } else {\n                    return of(result);\n                }\n            }));\n\n        } else if (this.canAccessRoute(route.data.scopes, this.tokenService)) {\n            return of(true);\n        } else {\n            this.redirectToErrorPage();\n        }\n    }\n\n\n    canAccessRoute(scopes: string[][], tokenService: TokenService): boolean {\n        if (this.tokenService.getOauthToken()) {\n            return true\n        }\n        return false;\n    }\n\n    redirectToErrorPage() {\n        this.router.navigate([\"/\" + ResourcesRoutes.ERROR_PAGE]);\n    }\n\n    reloadPage() {\n        document.location.reload();\n    }\n\n    checkForToken(redirectUri: string, route: ActivatedRouteSnapshot): Observable<boolean> {\n        if (this.asyncCheckingToken) {\n            return this.asyncCheckingToken;\n        }\n\n        this.asyncCheckingToken = new AsyncSubject();\n        this.tokenService.checkForToken(redirectUri);\n\n        this.tokenService.authTokenEmitter.subscribe(() => {\n            if (!this.canAccessRoute(route.data.scopes, this.tokenService)) {\n                this.asyncCheckingToken.next(false);\n                this.asyncCheckingToken.complete();\n            } else {\n                this.asyncCheckingToken.next(true);\n                this.asyncCheckingToken.complete();\n            }\n        });\n        return this.asyncCheckingToken;\n    }\n\n}\n","import { Injectable } from '@angular/core'\nimport { LocalStorageService } from './local-storage-service'\nimport { PublishedIncidentService } from './published-incident-service'\n\nconst WATCHLIST_KEY = 'WFNEWS_WATCHLIST'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WatchlistService {\n  constructor(private localStorageService: LocalStorageService, private publishedIncidentService: PublishedIncidentService) {\n    this.verifyWatchlist()\n  }\n\n  public clearWatchlist () {\n    this.localStorageService.removeData(WATCHLIST_KEY)\n  }\n\n  public removeFromWatchlist (fireYear: string, incidentNumber: string): boolean {\n    let result = true\n    try {\n      const watchlist = this.getWatchlist()\n      if (watchlist.includes(fireYear + ':' + incidentNumber)) {\n        const index = watchlist.indexOf(fireYear + ':' + incidentNumber)\n        watchlist.splice(index, 1)\n        this.localStorageService.saveData(WATCHLIST_KEY, JSON.stringify(watchlist))\n      }\n    } catch (err) {\n      console.error(err)\n      result = false\n    }\n\n    return result\n  }\n\n  public async verifyWatchlist () {\n    console.warn('Verifying Watchlist')\n    for (const watchlistString of this.getWatchlist()) {\n      const fireYear = watchlistString.split(':')[0]\n      const incidentNumber = watchlistString.split(':')[1]\n      try {\n        const incident = await this.publishedIncidentService.fetchPublishedIncident(incidentNumber, fireYear).toPromise()\n        if (!incident) {\n          console.warn('Removing expired incident ' + incidentNumber + ' from Watchlist')\n          this.removeFromWatchlist(fireYear, incidentNumber)\n        }\n      } catch (err) {\n        console.error(err)\n      }\n    }\n  }\n\n  public getWatchlist (): string[] {\n    const watchlistString = this.localStorageService.getData(WATCHLIST_KEY)\n    if (watchlistString) {\n      return JSON.parse(watchlistString) as string[]\n    }\n    return []\n  }\n\n  public saveToWatchlist (fireYear: string, incidentNumber: string): boolean {\n    let result = true\n    try {\n      const watchlist = this.getWatchlist()\n      watchlist.push(`${fireYear}:${incidentNumber}`)\n      this.localStorageService.saveData(WATCHLIST_KEY, JSON.stringify(watchlist))\n    } catch (err) {\n      console.error(err)\n      result = false\n    }\n\n    return result\n  }\n}\n","import { Injectable } from '@angular/core';\n\nexport type Smk = any\nexport type SmkPromise = Promise< Smk >\n\n@Injectable( {\n    providedIn: 'root',\n} )\nexport class WFMapService {\n    private patchPromise: Promise<any>;\n    private smkBaseUrl = `${window.location.protocol}//${window.location.host}/assets/smk/`;\n    identifyCallback;\n    identifyDoneCallback;\n\n    setHandler( id, method, handler ): Promise<any> {\n        const SMK = window[ 'SMK' ];\n\n        return this.patch().then( function() {\n            SMK.HANDLER.set( id, method, handler );\n        } );\n    }\n\n    setIdentifyCallback( cb ) {\n        this.identifyCallback = cb;\n    }\n\n    setIdentifyDoneCallback( cb ) {\n        this.identifyDoneCallback = cb;\n    }\n\n    createSMK( option: any ) {\n        const self = this;\n\n        const SMK = window[ 'SMK' ];\n\n        const toggleHideListButton = (display) => {\n            const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--hide-list');\n            hideListButtonElement[0][\"style\"][\"display\"] = display;\n            const hideDetailsPanel = document.getElementById('panel-details');\n            if (display === 'none') {\n              hideDetailsPanel.style.width = '0px'\n              //hideDetailsPanel.style.visibility = 'hidden'\n              //hideDetailsPanel.style.display = 'none'\n            }\n        }\n\n        const toggleShowListButton = (display) => {\n            const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--show-list');\n            hideListButtonElement[0][\"style\"][\"display\"] = display;\n            const hideDetailsPanel = document.getElementById('panel-details');\n            if (display === 'none') {\n              hideDetailsPanel.style.width = '50vw'\n              //hideDetailsPanel.style.visibility = 'visible'\n              //hideDetailsPanel.style.display = 'block'\n            }\n        }\n\n        return this.patch()\n            .then( function() {\n                option.config.push( {\n                    // viewer: {\n                    //     baseMap: baseMapIds[ 0 ]\n                    // },\n                    tools: [\n                        {\n                            type: 'baseMaps',\n                            choices: baseMapIds\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"show-list\",\n                            title: \"Show list menu\",\n                            position: \"toolbar\",\n                            enabled: true,\n                            order: 0,\n                            icon: \"arrow_forward\"\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"hide-list\",\n                            title: \"Hide list menu\",\n                            position: \"toolbar\",\n                            enabled: true,\n                            order: 1,\n                            icon: \"arrow_back\"\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"full-extent\",\n                            title: \"Zoom to Full Extent\",\n                            enabled: true,\n                            position: \"actionbar\",\n                            showTitle: false,\n                            showPanel: false,\n                            icon: \"zoom_out_map\",\n                            order: 3\n                        },\n                    ]\n                } );\n\n                SMK.HANDLER.set('BespokeTool--show-list', 'triggered', (smk, tool) => {\n                    toggleHideListButton(\"flex\");\n                    toggleShowListButton(\"none\");\n                    option.toggleAccordion.emit();\n                    SMK.MAP[1].$viewer.mapResized();\n                });\n\n                SMK.HANDLER.set('BespokeTool--hide-list', 'triggered', (smk, tool) => {\n                    toggleHideListButton(\"none\");\n                    toggleShowListButton(\"flex\");\n                    option.toggleAccordion.emit();\n                    SMK.MAP[1].$viewer.mapResized();\n                });\n\n                SMK.HANDLER.set('BespokeTool--full-extent', 'triggered', (smk, tool) => {\n                    zoomToProvince()\n                });\n\n                SMK.HANDLER.set('BespokeTool--full-screen', 'triggered', (smk, tool) => {\n                    option.fullScreen.emit();\n                });\n\n                return SMK.INIT({\n                    baseUrl: self.smkBaseUrl,\n                    ...option\n                });\n            } );\n    }\n\n    public patch(): Promise<any> {\n        const self = this;\n\n        const include = window[ 'include' ];\n        const SMK = window[ 'SMK' ];\n\n        if ( !this.patchPromise ) {\n          this.patchPromise = Promise.resolve()\n            .then( function() {\n                console.log( 'start patching SMK' );\n\n                // Create a DIV for a temporary map.\n                // This map is used to ensure that SMK is completely loaded before monkey-patching\n                const temp = document.createElement( 'div' );\n                temp.style.display = 'none';\n                temp.style.visibility = 'hidden';\n                temp.style.position = 'absolute';\n                temp.style.left = '-5000px';\n                temp.style.top = '-5000px';\n                temp.style.right = '-4000px';\n                temp.style.bottom = '-4000px';\n                document.body.appendChild( temp );\n\n                return SMK.INIT( {\n                    id: 999,\n                    containerSel: temp,\n                    baseUrl: self.smkBaseUrl,\n                    config: 'show-tool=bespoke'\n                } )\n                .then( function( smk ) {\n                    const option2x = {\n                        tileSize: 512,\n                        zoomOffset: -1\n                    };\n\n                    const topographicOption = {\n                        maxNativeZoom: 20,\n                        maxZoom: 30\n                    }\n\n                    defineEsriBasemap( 'topographic', 'Topographic', [\n                        { id: 'Topographic', option: { ...topographicOption, ...option2x } }\n                    ] );\n\n                    const imageryOption = {\n                        maxZoom: 30\n                    };\n\n                    defineEsriBasemap( 'imagery', 'Imagery', [\n                        { id: 'Imagery', option: { maxNativeZoom: 20, ...imageryOption/*, ...option2x*/ } },\n                        { id: 'ImageryTransportation', option: { maxNativeZoom: 19, ...imageryOption, ...option2x } },\n                        { id: 'ImageryLabels', option: { maxNativeZoom: 19, ...imageryOption, ...option2x } },\n                    ] );\n\n\n                    const streetsOption = {\n                        maxNativeZoom: 19,\n                        maxZoom: 30\n                    };\n\n                    const bcOption = {\n                        maxNativeZoom: 17,\n                        maxZoom: 30\n                    };\n\n                    const lightGrayOption = {\n                        maxNativeZoom: 16,\n                        maxZoom: 30\n                    };\n\n                    smk.destroy();\n                    temp.parentElement.removeChild( temp );\n                } );\n            } )\n            .then( function() {\n                // add a component to Vue global used by SMK\n                const Vue = window['Vue'];\n                return include( 'component' ).then( function() {\n                    const f = Vue.component( 'wf-feature', {\n                        template: '#wf-feature-template',\n                        extends: SMK.COMPONENT.FeatureBase,\n                        methods: {\n                            asDate( attr ) {\n                                let v;\n                                try {\n                                    v = this.feature.properties[ attr ];\n                                } catch ( e ) {\n                                    return attr;\n                                }\n\n                                try {\n                                    return ( new Date( v ) ).toISOString().slice( 0, 10 );\n                                } catch ( e ) {\n                                    return v;\n                                }\n                            },\n                            zoomFeature() {\n                                this.$root.trigger( 'IdentifyFeatureTool', 'zoom' );\n                            }\n                        }\n                    } );\n\n                    Vue.component( 'wf-weather-station-feature', {\n                        template: '#wf-weather-station-feature-template',\n                        extends: f,\n                        computed: {\n                          content() {\n                            return {\n                              create: this.feature.properties.createContent\n                            };\n                          }\n                        },\n                    } );\n\n                    Vue.component( 'wf-incident-feature', {\n                      template: '#wf-incident-feature-template',\n                      extends: f,\n                      computed: {\n                        content() {\n                          return {\n                            create: this.feature.properties.createContent\n                          };\n                        }\n                      },\n                  } );\n\n                } );\n            } )\n            .then( function() {\n                include.tag( 'plugin-wfim-util',\n                    // { loader: \"group\", tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/util.js' }\n                    // ] }\n                );\n\n                include.tag( 'layer-incidents',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/layer/layer-incidents.js' }\n                    ] }\n                );\n\n                include.tag( 'layer-incidents-leaflet',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/layer/layer-incidents-leaflet.js' },\n                    ] }\n                );\n\n                include.tag( 'util-date',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/lib/date.js' }\n                    ] }\n                );\n                include.tag( 'layer-wms-time-cql',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/layer/layer-wms-time-cql.js' }\n                    ] }\n                );\n                include.tag( 'layer-wms-time-cql-leaflet',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/layer/layer-wms-time-cql-leaflet.js' }\n                    ] }\n                );\n\n                include.tag( 'leaflet-extensions',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-tooltip.js' },\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-arrow.js' },\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-crosshairs.js' },\n                        { loader: 'style', url: './assets/js/smk/plugin-wfnews/style/wfnews-markers2.css' },\n                        { loader: 'style', url: './assets/js/smk/plugin-wfnews/style/wfnews-info.css' }\n                    ] }\n                );\n\n                include.tag( \"layer-image\",\n                    { loader: \"group\", tags: [\n                        { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/layer/layer-image.js\" },\n                    ] }\n                )\n\n                include.tag( \"layer-image-leaflet\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/layer/layer-image-leaflet.js\" },\n                     ] }\n                 )\n\n                 include.tag( \"layer-wms-time\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/layer/layer-wms-time.js\" }\n                     ] }\n                 );\n\n                 include.tag( \"layer-wms-time-leaflet\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/layer/layer-wms-time-leaflet.js\" }\n                     ] }\n                 );\n\n                 include.tag( \"tool-time-dimension\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/tool/time-dimension/tool-time-dimension.js\" }\n                     ] }\n                 )\n\n                 include.tag( \"tool-time-dimension-leaflet\",\n                     { loader: \"sequence\", tags: [\n                         { loader: \"style\", url: \"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.min.css\" },\n                         { loader: \"script\", url: \"https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js\" },\n                         { loader: \"script\", url: \"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js\" },\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/tool/time-dimension/lib/time-dimension-layer-image-overlay.js\" },\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/tool/time-dimension/tool-time-dimension-leaflet.js\" }\n                     ] }\n                 )\n\n                return include(\n                    'leaflet-extensions',\n                    'layer-incidents-leaflet',\n                    'layer-wms-time-cql-leaflet',\n                    'layer-image-leaflet',\n                    'layer-wms-time-leaflet'\n                ).then( function() {\n                    console.log('custom smk layers loaded');\n                } );\n            } )\n            .then( function() {\n                SMK.TYPE.Viewer.leaflet.prototype.mapResized = function() {\n                    const self = this;\n                    setTimeout( function() {\n                        self.map.invalidateSize( { animate: false } );\n                    }, 500 );\n                };\n                const oldInit = SMK.TYPE.Viewer.leaflet.prototype.initialize;\n                SMK.TYPE.Viewer.leaflet.prototype.initialize = function(smk) {\n                    // Call the existing initializer\n                    oldInit.apply(this, arguments);\n\n                    // Set the maximum bounds that can be panned to.\n                    const L = window[ 'L' ];\n                    const maxBounds = L.latLngBounds( [L.latLng( 90, -180 ), L.latLng( 0, -90 )] );\n                    this.map.setMaxBounds(maxBounds);\n                };\n\n                SMK.TYPE.Viewer.leaflet.prototype.panToFeature = function( feature, zoomIn ) {\n                    // console.log('panToFeature')\n                    const turf = window[ 'turf' ]; const L = window[ 'L' ];\n\n                    let bounds;\n                    let maxZoom;\n                    switch ( turf.getType( feature ) ) {\n                    case 'Point':\n                        const ll = L.latLng( feature.geometry.coordinates[ 1 ], feature.geometry.coordinates[ 0 ] );\n                        bounds = L.latLngBounds( [ ll, ll ] );\n                        maxZoom = 16;\n                        break;\n\n                    default:\n                        const bbox = turf.bbox( feature );\n                        bounds = L.latLngBounds( [ bbox[ 1 ], bbox[ 0 ] ], [ bbox[ 3 ], bbox[ 2 ] ] );\n                    }\n                    if ( !bounds ) {\n                      return;\n                    }\n\n                    const padding = this.getPanelPadding();\n\n                    if ( !zoomIn ) {\n                        maxZoom = this.map.getZoom();\n                    } else if ( zoomIn === true ) {\n                        // maxZoom = null\n                    } else {\n                        maxZoom = parseFloat( zoomIn );\n                    }\n\n                    this.map\n                        .fitBounds( bounds, {\n                            paddingTopLeft: padding.topLeft,\n                            paddingBottomRight: padding.bottomRight,\n                            maxZoom,\n                            animate: true\n                        } );\n                };\n\n                const origIdentifyFeatures = SMK.TYPE.Viewer.leaflet.prototype.identifyFeatures;\n                SMK.TYPE.Viewer.leaflet.prototype.identifyFeatures = function( location, area ) {\n                    const vw = this;\n\n                    (document.getElementsByClassName('smk-sidepanel').item(0) as HTMLElement).style.removeProperty('width');\n                    if ( self.identifyCallback ) {\n                      self.identifyCallback( location, area );\n                    }\n\n                    return Promise.resolve()\n                        .then( function() {\n                            return origIdentifyFeatures.call( vw, location, area );\n                        } )\n                        .then( function() {\n                            if ( self.identifyDoneCallback ) {\n                              self.identifyDoneCallback( location, area );\n                            }\n                        } );\n                };\n\n                SMK.TYPE.Layer[ 'wms' ].prototype.canMergeWith = function( other ) {\n                    return this.config.combiningClass && this.config.combiningClass === other.config.combiningClass;\n                };\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.canMergeWith = function( other ) {\n                    return this.config.combiningClass && this.config.combiningClass === other.config.combiningClass;\n                };\n\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.getFeaturesInArea = function( area, view, option ) {\n                    const self = this;\n\n                    let extraFilter = this.config.where || '';\n                    if ( extraFilter ) {\n                      extraFilter = ' AND ' + extraFilter;\n                    }\n\n                    const polygon = 'SRID=4326;POLYGON ((' + area.geometry.coordinates[ 0 ].map( function( c ) {\n                      return c.join( ' ' );\n                    } ).join( ',' ) + '))';\n\n                    const data = {\n                        service:        'WFS',\n                        version:        '1.1.0',\n                        request:        'GetFeature',\n                        srsName:        'EPSG:4326',\n                        typename:       this.config.layerName,\n                        outputformat:   'application/json',\n                        cql_filter:     'INTERSECTS(' + (this.config.geometryAttribute||'GEOMETRY') + ',' + polygon + ')' + extraFilter\n                    };\n\n                    const url = encodeUrl( this.config.serviceUrl, data );\n\n                    return fetch( url, {\n                        method: 'GET',\n                        headers: this.config.header,\n                        mode: 'cors'\n                    } )\n                    .then( function( res ) {\n                        return res.blob();\n                    } )\n                    .then( function( blob ) {\n                        return new Promise( ( res, rej ) => {\n                            const reader = new FileReader();\n                            reader.onload = function() {\n                                try {\n                                    res( JSON.parse( reader.result.toString() ) );\n                                } catch ( e ) {\n                                  rej( e );\n                                }\n                            };\n                            reader.readAsBinaryString( blob );\n                        } );\n                    } )\n                    .then( function( data: any ) {\n                        if ( !data ) {\n                          throw new Error( 'no features' );\n                        }\n                        if ( !data.features || data.features.length == 0 ) {\n                          throw new Error( 'no features' );\n                        }\n\n                        return data.features.map( function( f, i ) {\n                            if ( self.config.titleAttribute ) {\n                              f.title = f.properties[ self.config.titleAttribute ];\n                            } else {\n                              f.title = 'Feature #' + ( i + 1 );\n                            }\n\n                            return f;\n                        } );\n                    } );\n                };\n\n                SMK.TYPE.Layer[ 'wms-time-cql' ]['leaflet'].prototype.initLegends =\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.initLegends = function() {\n                    const J = window['jQuery'];\n\n                    const url =  this.config.serviceUrl + '?' + J.param( {\n                        SERVICE:    'WMS',\n                        VERSION:    '1.1.1',\n                        REQUEST:    'getlegendgraphic',\n                        FORMAT:     'image/png',\n                        TRANSPARENT: 'true',\n                        LAYER:      this.config.layerName,\n                        STYLE:      this.config.styleName\n                    } );\n\n                    return fetch( url, {\n                        method: 'GET',\n                        headers: this.config.header,\n                        mode: 'cors'\n                    } )\n                    .then( ( res ) => res.blob() )\n                    .then( ( blob ) => new Promise( ( res, rej ) => {\n                            try {\n                                const reader = new FileReader();\n                                reader.onload = () => res( reader.result );\n                                reader.readAsDataURL( blob );\n                            } catch ( e ) {\n                              rej( e );\n                            }\n                        } ) )\n                    .then( ( dataUrl: string ) => new Promise( ( res, rej ) => {\n                            try {\n                                const img = new Image();\n                                img.onload = () => res( [ {\n                                    url: dataUrl,\n                                    width: img.width,\n                                    height: img.height,\n                                    ...this.config.legend\n                                } ] );\n                                img.onerror = ( ev ) => rej( ev );\n                                img.src = dataUrl;\n                            } catch ( e ) {\n                              rej( e );\n                            }\n                        } ) )\n                    .catch( ( e ) => {\n                        console.warn( e );\n                    } );\n                };\n            } )\n            .then( function() {\n                console.log( 'done patching SMK' );\n            } );\n}\n\n        return this.patchPromise;\n    }\n}\n\nfunction clone( obj ) {\n    return JSON.parse( JSON.stringify( obj ) );\n}\n\nlet order = 100;\nlet baseMapIds = [];\nfunction defineEsriBasemap( id: string, title: string, baseMaps: { id: string; option?: { [key: string]: any } }[] ) {\n    order += 1;\n    baseMapIds.push( id );\n    window[ 'SMK' ].TYPE.Viewer.prototype.basemap[ id ] = {\n        title,\n        order,\n        create() {\n            return baseMaps.map( function( bm ) {\n                const L = window[ 'L' ];\n\n                const orig = clone( L.esri.BasemapLayer.TILES[ bm.id ].options );\n                const bmly = window[ 'L' ].esri.basemapLayer( bm.id, clone( bm.option || {} ) );\n                L.esri.BasemapLayer.TILES[ bm.id ].options = orig;\n                return bmly;\n            } );\n        }\n    };\n}\n\nfunction defineWmsBasemap( id, title: string, baseMaps: { url: string; option?: { [key: string]: any } }[] ) {\n    order += 1;\n    baseMapIds.push( id );\n    window[ 'SMK' ].TYPE.Viewer.prototype.basemap[ id ] = {\n        title,\n        order,\n        create() {\n            return baseMaps.map( function( bm ) {\n                const L = window[ 'L' ];\n\n                return L.tileLayer( bm.url, bm.option );\n            } );\n        }\n    };\n}\n\nfunction encodeUrl( url, data ) {\n    if ( !data ) {\n      return url;\n    }\n\n    const params = Object.keys( data )\n        .filter( function( k ) {\n          return data[ k ];\n        } )\n        .map( function( k ) {\n            return `${ encodeURIComponent( k ) }=${ encodeURIComponent( data[ k ] ) }`;\n        } )\n        .join( '&' );\n\n    if ( /[?]\\S+$/.test( url ) ) {\n      return `${ url }&${ params }`;\n    }\n\n    if ( /[?]$/.test( url ) ) {\n      return `${ url }${ params }`;\n    }\n\n    return `${ url }?${ params }`;\n}\n\nfunction zoomToProvince() {\n    zoomToGeometry( window[ 'turf' ].bboxPolygon( [-136.3, 49, -116, 60.2] ))\n}\n\nfunction zoomToGeometry( geom: any, zoomLevel: number|boolean = 12 ) {\n    const SMK = window['SMK'];\n    let viewer = null;\n    for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n    }\n    viewer.panToFeature(geom, zoomLevel)\n}\n","import { direction, distance, fetchJsonP, LonLat } from './util';\n\nconst EPSILON = 0.01;\n\nexport interface Location {\n    name: string;\n    type: string;\n    dist: number;\n    loc: LonLat;\n    direction?: string;\n    isAnchor?: boolean;\n};\n\nexport class PlaceData {\n    private anchorPoint?: LonLat;\n    private maxDistance?: number;\n    private callback?: any;\n    private searchState: {\n        placeText?: string;\n        places?: Location[];\n        roadText?: string;\n        roads?: Location[];\n        intersectionsText?: [ string, string ];\n        intersections?: Location[];\n    } = {};\n\n    init() {\n        return this.updateResults();\n    }\n\n    setResultHandler( callback ) {\n        if ( callback != null && typeof( callback ) != 'function' ) {\nreturn;\n}\n\n        this.callback = callback;\n    }\n\n    setMaximumDistance( distance: number ) {\n        this.maxDistance = distance;\n        return this.updateResults();\n    }\n    getMaximumDistance(): number {\n        return this.maxDistance;\n    }\n\n    setAnchor( point: LonLat ) {\n        this.anchorPoint = point;\n        return this.updateResults();\n    }\n    getAnchor(): LonLat {\n        return this.anchorPoint;\n    }\n\n    getSearchState() {\n        return this.searchState;\n    }\n\n    findPlace( text: string ) {\n        this.searchState.places = [];\n        this.searchState.placeText = text;\n\n        return this.updateResults();\n    }\n\n    findRoad( text: string ) {\n        this.searchState.roads = [];\n        this.searchState.roadText = text;\n        // don't search for intersections\n        this.searchState.intersections = [];\n        this.searchState.intersectionsText = null;\n\n        return this.updateResults();\n    }\n\n    findIntersection( text1, text2 ) {\n        this.searchState.intersections = [];\n        this.searchState.intersectionsText = [ text1, text2 ];\n        // don't search for roads\n        this.searchState.roads = [];\n        this.searchState.roadText = null;\n\n        return this.updateResults();\n    }\n\n    searchAddresses( txt: string ) {\n        const query = {\n            ver:            1.2,\n            maxResults:     10,\n            outputSRS:      4326,\n            addressString:  txt,\n            autoComplete:   true\n        };\n    \n        return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n            .then( function( result ) {\n                const resultLoc = result.features\n                    .map( function( feature ) {\n                        if ( !feature.geometry.coordinates ) {\n                            return;\n                        }\n    \n                        // exclude whole province match\n                        if ( feature.properties.fullAddress == 'BC' ) {\n                            return;\n                        }\n                        \n                        const loc = {\n                            streetName: feature.properties.streetName,\n                            streetQualifier: feature.properties.streetQualifier,\n                            streetType: feature.properties.streetType,\n                            localityName: feature.properties.localityName,\n                            localityType: feature.properties.localityType,\n                            civicNumber: feature.properties.civicNumber,\n                            dist: null,\n                            dir: null,\n                            loc: feature.geometry.coordinates\n                        };\n\n                        return loc;\n                    } )\n                    .filter( function( item ) {\n                        return item;\n                    } );\n                    return resultLoc;\n            } )\n            .catch( function( e ) {\n                console.warn( 'address match:', e );\n            } );\n    }\n\n    updateResults(): Promise<any> {\n        const self = this;\n\n        if ( !this.callback ) {\nreturn Promise.resolve();\n}\n\n        return Promise.resolve()\n            .then( function() {\n return searchPlaces( self );\n} )\n            .then( function() {\n return searchRoads( self );\n} )\n            .then( function() {\n return searchOccupants( self );\n} )\n            .then( function() {\n return searchAddresses( self );\n} )\n            .then( function() {\n return searchIntersections( self );\n} )\n            .then(\n                function() {\n                    if ( !self.callback ) {\nreturn;\n}\n\n                    self.callback.call( null, Object.assign( {\n                        anchorPt:       self.anchorPoint,\n                        maxDistance:    self.maxDistance,\n                    }, self.searchState ) );\n                },\n                function( e ) {\n                    if ( !self.callback ) {\nreturn;\n}\n                    self.callback.call( null, Object.assign( {\n                        error:          e,\n                        anchorPt:       self.anchorPoint,\n                        maxDistance:    self.maxDistance,\n                    }, self.searchState ) );\n                }\n            );\n    }\n}\n\n//---------------------------------------------------------------\n\nconst fetchCache: { [url: string]: Promise<any> } = {};\n\nfunction fetchData( url: string ): Promise<any> {\n    if ( fetchCache[ url ] ) {\nreturn fetchCache[ url ];\n}\n\n    return fetchCache[ url ] = fetch( url, { credentials: 'same-origin' } )\n        .then( function( res ) {\n            if ( res.ok ) {\nreturn res.json();\n}\n\n            throw new Error( `fetching ${ url }: ${ res.statusText }` );\n        } );\n}\n\nfunction searchPlaces( data: PlaceData ) {\n    if ( data.getSearchState().placeText ) {\nreturn fetchData( 'assets/place-data/wf-search-places.json' )\n            .then( function( places: { n: string; t: string; x: number; y: number }[] ) {\n                data.getSearchState().places = sortData( searchData( places, data.getSearchState().placeText, data.getAnchor() ) );\n            } )\n            .catch( function( e ) {\n                console.warn( 'place match:', e );\n            } );\n} else {\ndata.getSearchState().places = [];\n}\n}\n\nfunction searchRoads( data: PlaceData ) {\n    if ( data.getSearchState().roadText ) {\nreturn fetchData( 'assets/place-data/wf-search-roads.json' )\n            .then( function( roads: { n: string; x: number; y: number }[] ) {\n                data.getSearchState().roads = sortData( searchData( roads, data.getSearchState().roadText, data.getAnchor(), data.getMaximumDistance() ) );\n            } )\n            .catch( function( e ) {\n                console.warn( 'road match:', e );\n            } );\n} else {\ndata.getSearchState().roads = [];\n}\n}\n\nfunction searchData( source: { n: string; t?: string; x: number; y: number }[], text: string, anchorPt: LonLat, maxDist?: number ): Location[] {\n    const locs = [];\n    if ( !text || !text.trim() ) {\nreturn locs;\n}\n\n    const t = text.toLowerCase();\n    // var strIn = ' ' + strLow;\n\n    for (let i = 0; i < source.length; i++) {\n        const place = source[i];\n        if ( place.n.toLowerCase().startsWith( t ) ) {\n            const location = {\n                name: place.n,\n                type: place.t,\n                dist: null,\n                loc: [ place.x, place.y ] as LonLat\n            };\n\n            setAnchorData( anchorPt, location );\n\n            if ( maxDist && location.dist > maxDist ) {\ncontinue;\n}\n\n            locs.push(location);\n        }\n    }\n\n    return locs;\n}\n\nfunction sortData( locations ) {\n    const sorted = locations.sort( function( a, b ) {\n        if ( a.dist == null || b.dist == null ) {\nreturn a.name > b.name ? 1 : -1;\n}\n\n        return a.dist - b.dist;\n    } );\n    return sorted;\n}\n\nfunction removeDuplicateIntersections( locations ) {\n    // remove contiguous entries with duplicate names (which will be close to one another)\n    const uniq = [];\n    for (let i = 0; i < locations.length; i++) {\n        const candidate = locations[i];\n        if (i > 0) {\n            const current = uniq[uniq.length-1];\n            // skip if duplicate\n            if (isDuplicateIntersection(current, candidate)) {\ncontinue;\n}\n        }\n        // keep this one\n        uniq.push( candidate );\n    }\n    return uniq;\n}\n\nfunction isDuplicateIntersection(intLoc1, intLoc2) {\n    if (intLoc1.name !== intLoc2.name) {\nreturn false;\n}\n    if (intLoc1.dist && intLoc2.dist) {\n        const distanceBetween = intLoc1.dist - intLoc2.dist;\n        if (distanceBetween > 1) {\nreturn false;\n}\n    }\n    return true;\n}\n\nfunction setAnchorData( anchorPt: LonLat, location: Location ) {\n    if ( ! anchorPt ) {\nreturn;\n}\n    location.dist = distance( anchorPt, location.loc ); // / 1000.0;\n    location.direction = direction( anchorPt, location.loc );\n    // MD not sure about this logic, since there can be more than one result with same coordinate\n    if ( location.dist < EPSILON ) {\nlocation.isAnchor = true;\n}\n}\n\nfunction searchIntersections( data: PlaceData ) {\n    if ( !data.getSearchState().intersectionsText ) {\n        data.getSearchState().intersections = [];\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     1000,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().intersectionsText.join( ' and ' ),\n        matchPrecision: 'INTERSECTION',\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n                    // only return intersections\n                    if ( ! feature.properties.intersectionName ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: 'intersection',\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().intersections = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'intersection match:', e );\n        } );\n}\n\nfunction searchAddresses( data: PlaceData ) {\n    if ( data.getSearchState().roads.length > 0 || !data.getSearchState().roadText || !data.getSearchState().roadText.trim() ) {\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     10,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().roadText,\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: null,\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().roads = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'address match:', e );\n        } );\n}\n\nfunction searchOccupants( data: PlaceData ) {\n    if ( data.getSearchState().places.length > 0 || !data.getSearchState().placeText || !data.getSearchState().placeText.trim() ) {\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     100,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().placeText,\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/occupants/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: null,\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().places = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'occupant match:', e );\n        } );\n}\n","import { SpatialUtilsService } from '@wf1/core-ui';\n\nexport type LonLat = [number, number];\nexport type LatLon = [number, number];\n\nexport function toPoint(lonLat: LonLat): any {\n  return window['turf'].point(lonLat);\n}\n\nexport function toLatLon(lonLat: LonLat): LatLon {\n  return [lonLat[1], lonLat[0]];\n}\n\nexport function encodeUrl(url: string, data: { [key: string]: string | number | boolean }): string {\n  if (!data) {\n    return url;\n  }\n\n  const params = Object.keys(data)\n    .filter(function (k) {\n      return data[k];\n    })\n    .map(function (k) {\n      return `${encodeURIComponent(k)}=${encodeURIComponent(data[k])}`;\n    })\n    .join('&');\n\n  if (/[?]\\S+$/.test(url)) {\n    return `${url}&${params}`;\n  }\n\n  if (/[?]$/.test(url)) {\n    return `${url}${params}`;\n  }\n\n  return `${url}?${params}`;\n}\n\n\nexport function fetchJsonP(url: string, data: { [key: string]: string | number | boolean }, opt = { timeout: 10000 }): { response: Promise<any>; abort: () => void } {\n  data['_'] = Math.round(Math.random() * 1e10);\n\n  const cbfn = `callback_${data['_']}`;\n  data.callback = cbfn;\n\n  let id;\n  let cancel;\n  const req = encodeUrl(url, data);\n  const promise = new Promise(function (res, rej) {\n    function cleanup() {\n      if (id) {\n        clearTimeout(id);\n      }\n      id = null;\n\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n\n      window[cbfn] = null;\n    }\n\n    window[cbfn] = function (payload) {\n      cleanup();\n      res(payload);\n    };\n\n    cancel = function () {\n      cleanup();\n      rej(new Error('cancelled'));\n    };\n    const script = window['L'].DomUtil.create('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.src = req;\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n\n  if (opt.timeout) {\n    id = setTimeout(cancel, opt.timeout);\n  }\n\n  return {\n    response: promise,\n    abort: cancel\n  };\n}\n\n// distance in km\nexport function distance(loc1: LonLat, loc2: LonLat): number {\n  return window['turf'].distance(toPoint(loc1), toPoint(loc2));\n}\n\nexport function formatDistance(dist: number, unit: string): string {\n  if (dist == null) {\n    return 'n/a';\n  }\n  if (dist < 10) {\n    return dist.toFixed(1) + ' ' + unit;\n  }\n  return dist.toFixed(0) + ' ' + unit;\n}\n\nconst DIRECTION = ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'];\n\nexport function direction(start: LonLat, end: LonLat): string {\n  const bearing = window['turf'].bearing(toPoint(start), toPoint(end));\n  return DIRECTION[Math.floor((bearing + 382.5) / 45) % 8];\n}\n\n\nconst TIME_FORMAT = Intl.DateTimeFormat('en-CA', {\n  timeZone: undefined,\n  hour12: false,\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric',\n  timeZoneName: 'short'\n});\nconst DATE_FORMAT = Intl.DateTimeFormat('en-CA', {\n  timeZone: undefined,\n  hour12: false,\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric'\n});\nconst CAD_FORMAT = Intl.NumberFormat('en-CA', {\n  style: 'currency',\n  currency: 'CAD'\n});\n\nexport interface NumberFormat {\n  precision: number;\n  fractionPlaces: number;\n}\nexport interface UnitWithFormat {\n  unit: string;\n  format: NumberFormat;\n}\n\nexport class Translate {\n  constructor(\n    private spatialUtils: SpatialUtilsService\n  ) { }\n\n  parseCoordinate(val: string): LonLat {\n    const c = this.spatialUtils.parseCoordinates(val);\n    if (!c) {\n      return;\n    }\n    return c as LonLat;\n  }\n\n  parseSexagesimal(val: string): number {\n    if (typeof val == 'number') {\n      return val;\n    } else if (/^-?\\d*(\\.\\d*)?$/.test(val)) {\n      return 0.0 + parseFloat(val);\n    } else {\n      let result = 0;\n      let divisor = 1;\n      let sign = 1;\n      if (/[NSEWnsew]$/.test(val)) {\n        sign = /[SWsw]$/.test(val) ? -1 : 1;\n        val = val.replace(/[NSEWnsew]$/, '');\n      }\n      val.split(/[°DMSdms'\"\\s]+/).forEach(part => {\n        const partVal = parseFloat(part);\n        if (!isNaN(partVal)) {\n          result += partVal / divisor;\n        }\n        divisor *= 60;\n      });\n\n      return result * sign;\n    }\n\n  }\n\n  formatCoordinate(lonLat: LonLat): string {\n    if (!lonLat[0] || !lonLat[1]) {\n      return '';\n    }\n    return this.spatialUtils.formatCoordinates(lonLat);\n  }\n\n  formatLatLon(lat, lon): string {\n    if (!lat || !lon) {\n      return '';\n    }\n    return this.formatCoordinate([lon, lat]);\n  }\n\n  parseYyyyMmDd(val): Date {\n    if (!val) {\n      return;\n    }\n    const s = '' + val;\n    return new Date(`${s.substring(0, 4)}-${s.substring(4, 6)}-${s.substring(6, 8)}`);\n  }\n  parseIsoDateTime(val): Date {\n    if (!val) {\n      return;\n    }\n    return new Date(val);\n  }\n\n  parseMilliseconds(val): Date {\n    if (val == null) {\n      return;\n    }\n    return new Date(1 * val);\n  }\n  parseEUDate(val?): Date {\n    // Fix European style dd/mm/yyyy dates.\n    if (!val) {\n      return val;\n    }\n    const date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/, (m, day, month, year) => `${year}-${month}-${day}`));\n    if (isNaN(date.getTime())) {\n      return null;\n    }\n    return date;\n  }\n  formatLocalDate(val: Date): string {\n    if (!val) {\n      return '';\n    }\n    return DATE_FORMAT.format(val);\n    // return val && new Date( val ).toLocaleDateString()\n  }\n\n  formatLocalTime(val: Date): string {\n    if (!val) {\n      return '';\n    }\n    return TIME_FORMAT.format(val);\n    // return val && new Date( val ).toLocaleDateString()\n  }\n\n  formatNumber(val: number, numberFormat?: NumberFormat): string {\n    if (val == null) {\n      return '';\n    }\n\n    numberFormat = { precision: 3, fractionPlaces: 1, ...numberFormat };\n\n    const rounded = parseFloat(val.toPrecision(numberFormat.precision));\n    if (!numberFormat.fractionPlaces) {\n      return rounded.toLocaleString();\n    }\n\n    const a = Math.abs(rounded);\n    const s = Math.sign(rounded);\n    const i = Math.floor(a);\n    const f = a - i;\n    return (s * i).toLocaleString() + f.toFixed(numberFormat.fractionPlaces).substr(1);\n  }\n\n  formatUnit(val: number, unit: string, numberFormat?: NumberFormat): string {\n    if (val == null) {\n      return '';\n    }\n    return `<span>${this.formatNumber(val, numberFormat)}\\u202F<span class=\"unit\">${unit}</span></span>`;\n  }\n\n  formatAndConvertUnit(val: number, unit: string, outputUnit: string | UnitWithFormat) {\n    if (typeof outputUnit === 'object') {\n      this.formatUnit(this.convertUnit(val, unit, outputUnit.unit), outputUnit.unit);\n    } else {\n      this.formatUnit(this.convertUnit(val, unit, outputUnit), outputUnit);\n    }\n  }\n\n  formatCAD(value?: number): string | null | undefined {\n    if (value === null || value === undefined) {\n      return value as null | undefined;\n    } else {\n      return CAD_FORMAT.format(value);\n    }\n  }\n\n  formatAngle(val?: number, numberFormat?: NumberFormat): string | undefined | null {\n    if (val) {\n      return `<span>${this.formatNumber(val, numberFormat)}<span class=\"unit\">°</span></span>`;\n    } else {\n      return val as undefined | null;\n    }\n  }\n\n  /**\n   * Converts and formats a value as two different units, the second in parentheses.\n   */\n  formatMultipleUnits(val: number, unit: string, standardUnit: string | UnitWithFormat, otherUnit: string | UnitWithFormat): string {\n    if (val == null) {\n      return '';\n    }\n    return `${this.formatAndConvertUnit(val, unit, standardUnit)} <span class='alternate-unit'>(${this.formatAndConvertUnit(val, unit, otherUnit)})</span>`;\n  }\n\n  convertUnit(val: number, unitFrom: string, unitTo: string = 'm'): number {\n    if (val == null) {\n      return;\n    }\n    if (!(unitFrom in metersPerUnit)) {\n      throw Error(`unitFrom \"${unitFrom}\" isn't defined`);\n    }\n    if (!(unitTo in metersPerUnit)) {\n      throw Error(`unitTo \"${unitTo}\" isn't defined`);\n    }\n\n    const valInMeters = val * metersPerUnit[unitFrom];\n    return valInMeters / metersPerUnit[unitTo];\n  }\n\n  formatFireZone(zoneName: string): string {\n    if (!zoneName) {\n      return;\n    }\n\n    const result = zoneName.match(/^(.+?) (?:Fire )?Zone(?: [(](.+?)[)])?(?: - (\\w\\d))?$/);\n    if (!result) {\n      return zoneName;\n    }\n\n    if (result[2]) {\n      return `${result[1]} (${result[2]})`;\n    }\n    return result[1];\n  }\n\n  formatFireCentre(centreName: string): string {\n    if (!centreName) {\n      return;\n    }\n\n    const result = centreName.match(/^(.+?) (?:Fire )?(?:Centre|Center)$/);\n    if (!result) {\n      return centreName;\n    }\n\n    return result[1];\n  }\n\n  formatIndicator(value: boolean | null, tString = '✔️ Yes', fString = '❌ No', nString = '❓ Unknown'): string {\n    if (value === undefined || value === null) {\n      return nString;\n    } else if (value) {\n      return tString;\n    } else {\n      return fString;\n    }\n  }\n\n  parseIndicator(indString: string, flip = false): boolean | null {\n    if (indString === 'Y') {\n      return !flip;\n    } else if (indString === 'N') {\n      return flip;\n    } else {\n      return null;\n    }\n  }\n\n  formatPhoneHtml(phoneNumber: string): string {\n    if (phoneNumber) {\n      return `<a href=\"tel:${encodeURIComponent(phoneNumber)}\">${phoneNumber}</a>`;\n    } else {\n      return null;\n    }\n  }\n\n  formatEmailHtml(emailAddress: string): string {\n    if (emailAddress) {\n      return `<a href=\"mailto:${encodeURIComponent(emailAddress)}\">${emailAddress}</a>`;\n    } else {\n      return null;\n    }\n  }\n\n}\n\n/**\n * This uses the ‘haversine’ formula to calculate the great-circle distance between two points – that is, the shortest distance over the earth’s surface – giving an ‘as-the-crow-flies’ distance between the points.\n * a = sin²(Δφ/2) + cos φ1 ⋅ cos φ2 ⋅ sin²(Δλ/2)\n * c = 2 ⋅ atan2( √a, √(1−a) )\n * d = R ⋅ c\n * Where\tφ is latitude, λ is longitude, R is earth’s radius (mean radius = 6,371km). note that angles need to be in radians to pass to trig functions\n * @param lat1 Latitude of the location\n * @param lat2 Latitude of the destination\n * @param lon1 Longitude of the location\n * @param lon2 Longitude of the destination\n * @returns\n */\nexport function haversineDistance(lat1, lat2, lon1, lon2) {\n  const R = 6371e3; // metres\n  const φ1 = lat1 * Math.PI / 180; // φ, λ in radians\n  const φ2 = lat2 * Math.PI / 180;\n  const Δφ = (lat2 - lat1) * Math.PI/180;\n  const Δλ = (lon2 - lon1) * Math.PI/180;\n\n  const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n            Math.cos(φ1)   * Math.cos(φ2)   *\n            Math.sin(Δλ/2) * Math.sin(Δλ/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  const d = R * c; // in metres\n  return d\n}\n\nconst metersPerUnit = {\n  Mil: 2.5399999999999996e-8,\n  MicroInch: 0.0000254,\n  mm: 0.001,\n  Millimeter: 0.001,\n  cm: 0.01,\n  Centimeter: 0.01,\n  IInch: 0.0254,\n  'us-in': 0.0254000508001016,\n  Inch: 0.0254000508001016,\n  in: 0.0254000508001016,\n  inches: 0.0254000508001016,\n  Decimeter: 0.1,\n  ClarkeLink: 0.201166194976,\n  SearsLink: 0.2011676512155,\n  BenoitLink: 0.20116782494375873,\n  IntnlLink: 0.201168,\n  link: 0.201168,\n  GunterLink: 0.2011684023368047,\n  CapeFoot: 0.3047972615,\n  ClarkeFoot: 0.3047972651151,\n  'ind-ft': 0.30479841,\n  IndianFt37: 0.30479841,\n  SearsFoot: 0.30479947153867626,\n  IndianFt75: 0.3047995,\n  IndianFoot: 0.30479951,\n  IndianFt62: 0.3047996,\n  GoldCoastFoot: 0.3047997101815088,\n  IFoot: 0.3048,\n  Foot: 0.3048006096012192,\n  ft: 0.3048006096012192,\n  'us-ft': 0.3048006096012192,\n  ModAmFt: 0.304812252984506,\n  'ind-yd': 0.9143952300000001,\n  IndianYd37: 0.9143952300000001,\n  SearsYard: 0.914398414616029,\n  IndianYd75: 0.9143985000000001,\n  IndianYard: 0.9143985307444409,\n  IndianYd62: 0.9143987999999998,\n  IYard: 0.9143999999999999,\n  Yard: 0.9144018288036576,\n  yd: 0.9144018288036576,\n  'us-yd': 0.9144018288036576,\n  CaGrid: 0.9997380000000001,\n  m: 1,\n  Meter: 1,\n  GermanMeter: 1.0000135965,\n  fath: 1.8287999999999998,\n  Fathom: 1.8287999999999998,\n  Rood: 3.7782668980000005,\n  Perch: 5.02921005842012,\n  Rod: 5.02921005842012,\n  Pole: 5.02921005842012,\n  Dekameter: 10,\n  Decameter: 10,\n  ClarkeChain: 20.1166194976,\n  'ind-ch': 20.11669506,\n  SearsChain: 20.11676512155,\n  BenoitChain: 20.116782494375872,\n  IntnlChain: 20.1168,\n  ch: 20.1168,\n  'us-ch': 20.11684023368047,\n  GunterChain: 20.11684023368047,\n  dm: 100,\n  Hectometer: 100,\n  Furlong: 201.1684023368046,\n  Brealey: 375,\n  km: 1000,\n  Kilometer: 1000,\n  IMile: 1609.344,\n  Mile: 1609.3472186944373,\n  mi: 1609.3472186944373,\n  'us-mi': 1609.3472186944373,\n  kmi: 1851.9999999999998,\n  nmi: 1851.9999999999998,\n  NautM: 1852.0000000000002,\n  'NautM-UK': 1853.1840000000002,\n  '50kilometers': 50000,\n  'Lat-66': 110943.31648893275,\n  'Lat-83': 110946.25736872235,\n  dd: 111118.97383794768,\n  degrees: 111118.97383794768,\n  '150kilometers': 150000\n};\n\n\n\n// const FORMATTERS = {\n//     // Convert everyhting to floats then format consistently.\n//     DD: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0].toFixed(3)}°`),\n//     DM: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0]}° ${components[1].toFixed(3)}′`),\n//     DMS: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″`),\n//     DDLat: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${components[0].toFixed(3)}°${latDir(sign)}`),\n//     DMLat: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′${latDir(sign)}`),\n//     DMSLat: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″${latDir(sign)}`),\n//     DDLon: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${components[0].toFixed(3)}°${lonDir(sign)}`),\n//     DMLon: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′${lonDir(sign)}`),\n//     DMSLon: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″${lonDir(sign)}`),\n//     LatLon: (lat, lon)=>[{value:lat,dir:latDir},{value:lon,dir:lonDir}].map(e=>sexagesimalFraction(unSexagesimal(e.value), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′ ${e.dir(sign)}`)).join(\" \"),\n\n//     // Convert to a date object then format consistently\n//     TimeStampMilli: (val)=> {\n// \t    var date = new Date(val*1)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     TimeStampSec: (val)=> {\n// \t    var date = new Date(val*1000)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     IsoTime: (val)=> {\n// \t    var date = new Date(val)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     IsoDate: (val)=> {\n// \t    var date = new Date(val.toString().replace(/Z$/,\"\"))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     IsoDateCompact: (val)=> {\n//         val = val.toString()\n//         val = `${val.substring(0,4)}-${val.substring(4,6)}-${val.substring(6,8)}`\n// \t    var date = new Date(val)\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     USDate: (val)=> {\n//         // Fix American style mm/dd/yyyy dates.\n// \t    var date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/,(m,month,day,year)=>`${year}-${month}-${day}`))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     EUDate: (val)=> {\n//         // Fix European style dd/mm/yyyy dates.\n// \t    var date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/,(m,day,month,year)=>`${year}-${month}-${day}`))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     LightningPolarityName: (val)=>{\n//         return val?\"Positive\":\"Negative\"\n//     },\n//     LightningPolaritySymbol: (val)=>{\n//         return val?\"🞣\":\"⭘\"\n//     },\n//     //Use the first value that's neither undefined nor null\n//     FirstPresent: (...vals)=>vals.find(val=>!(val==undefined || val==null)),\n//     Phone: (area, phone, ext)=>{\n//         phone = phone.trim()\n//         if(!phone) {\n//             return \"N/A\"\n//         } else {\n//             phone = phone.replace(/^(\\d{3})(\\d{4})$/, \"$1-$2\")\n//             if (area) phone = `${area}-${phone}`\n//             if (ext) phone = `${phone} (ext ${ext})`\n//             return phone\n//         }\n//     },\n//     Name: (first, last)=>[last,first].filter(name=>name).join(', '),\n\n//     // Display the given value first and the conversion second.\n//     DistM: (dist)=>`${dist}\\xa0m (${Math.round(dist*3.28084)}\\xa0ft)`,\n//     DistFt: (dist)=>`${dist}\\xa0ft (${Math.round(dist/3.28084)}\\xa0m)`,\n\n//     ShortenFireZone: (zoneName)=>{\n//         var result = /^(.+?) (?:Fire )?Zone(?: \\((.+?)\\))?(?: - (\\w\\d))?$/.exec(zoneName)\n//         if (result) {\n//             if(result[2]) {\n//                 return `${result[1]} (${result[2]})`\n//             } else {\n//                 return result[1]\n//             }\n//         } else {\n//             return zoneName\n//         }\n//     },\n//     ShortenFireCentre: (centreName)=>{\n//         var result = /^(.+?) (?:Fire )?(?:Centre|Center)$/.exec(centreName)\n//         if (result) {\n//             return result[1]\n//         } else {\n//             return centreName\n//         }\n//     },\n\n//     Indicator: (indString) => indicatorText(parseIndicator(indString)),\n//     NegIndicator: (indString) => indicatorText(parseIndicator(indString, true)),\n\n//     DollarValue: (value) => CAD_FORMAT.format(value),\n\n//     IncidentType: (code) => {\n//         return {\n//             \"FIRE\": \"Fire\",\n//             \"AGY_ASSIST\": \"Agency Assist\",\n//             \"FLD_TRAIN\": \"Field Training\"\n//         }[code.toUpperCase()] || code\n//     }\n// }\n","import {ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n\n  handlers: {[key: string]: DetachedRouteHandle} = {};\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldDetach', route);\n    return !!route.data && !!(route.data as any).shouldDetach;\n  }\n\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    //console.debug('CustomReuseStrategy:store', route, handle);\n    this.handlers[route.routeConfig.path] = handle;\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldAttach', route);\n    return !!route.routeConfig && !!this.handlers[route.routeConfig.path];\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    //console.debug('CustomReuseStrategy:retrieve', route);\n    if (!route.routeConfig) {\n return null; \n}\n    return this.handlers[route.routeConfig.path];\n  }\n\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldReuseRoute', future, curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n\n}\n","export const SCOPE_APPLICATION_PREFIX = 'WFIM.';\nexport const SCOPE_APPLICATION_PREFIX_NEWS = 'WFNEWS.';\n\n// export const SCOPES_UI = {\n//   CREATE_SIGN_UP:               `${SCOPE_APPLICATION_PREFIX}CREATE_ACCOUNT_REGISTRATION_REQUEST`,\n//   DELETE_SIGN_UP:               `${SCOPE_APPLICATION_PREFIX}DELETE_ACCOUNT_REGISTRATION_REQUEST`, //*****\n// }\n\nexport const ROLES_UI = {\n  GENERAL_STAFF: `${SCOPE_APPLICATION_PREFIX}INCIDENT_GENERAL_STAFF`, //*****\n  ADMIN: `${SCOPE_APPLICATION_PREFIX_NEWS}WFNEWS_PUBLISHER`, //*****\n  IM_ADMIN: `${SCOPE_APPLICATION_PREFIX}WFNEWS_ADMIN` //*****\n};\n","import { SearchState } from '@wf1/core-ui';\nimport { RootState } from '..';\nimport { ErrorState, LoadState } from './application.state';\n\nexport const selectSearchState = (componentId) => (state: RootState): SearchState => ((state[componentId]) ? state[componentId] : undefined);\n\n\nexport const selectIncidentsLoadState = () => (state: RootState): LoadState => ((state.application && state.application.loadStates.incidents) ? state.application.loadStates.incidents : undefined);\nexport const selectIncidentsErrorState = () => (state: RootState): ErrorState[] => ((state.application && state.application.errorStates.incidents) ? state.application.errorStates.incidents : undefined);\n\nexport const selectWildfiresLoadState = () => (state: RootState): LoadState => ((state.application && state.application.loadStates.wildfires) ? state.application.loadStates.wildfires : undefined);\nexport const selectWildfiresErrorState = () => (state: RootState): ErrorState[] => ((state.application && state.application.errorStates.wildfires) ? state.application.errorStates.wildfires : undefined);\n\n\n\n//------ code table cache ----\nexport const selectFormStatesUnsaved = (componentIds: string[]) => (state: RootState): boolean => {\n    let ret = false;\n    if (componentIds && componentIds.length) {\n        componentIds.forEach(componentId => {\n            const formUnsaved = state.application.formStates[componentId] ? state.application.formStates[componentId].isUnsaved : false;\n            ret = ret || formUnsaved;\n        });\n    }\n    return ret;\n};\n\n","import { SearchState } from \"@wf1/core-ui\";\n\nexport interface PagingSearchState extends SearchState {\n    pageIndex?: number;\n    pageSize?: number;\n}\nexport interface PagingInfoRequest {\n    query?: string;\n    pageNumber: number;\n    pageRowCount: number;\n    sortColumn?: string;\n    sortDirection?: string;\n}\n\nexport interface ErrorState {\n    uuid: string;\n    type: ERROR_TYPE;\n    status: number;\n    statusText?: string;\n    message?: string;\n    name: string;\n    validationErrors?: ValidationError[];\n    responseEtag: string;\n}\n\nexport enum ERROR_TYPE {\n    VALIDATION,\n    WARNING,\n    FATAL,\n    NOT_FOUND,\n    FAILED_PRECONDITION\n}\n\nexport interface ValidationError {\n    path: string;\n    message: string;\n    messageTemplate: string;\n    messageArguments: any[];\n}\n\nexport interface ApplicationState {\n    loadStates: LoadStates;\n    errorStates: ErrorStates;\n    formStates: FormStates;\n}\n\nexport interface LoadStates {\n    incidents: LoadState;\n    wildfires: LoadState;\n}\n\nexport interface ErrorStates {\n    incidents: ErrorState[];\n    wildfires: ErrorState[];\n}\n\nexport interface FormStates{\n    incidents: FormState;\n}\n\nexport interface FormState {\n    isUnsaved: boolean;\n}\n\nexport interface LoadState {\n    isLoading: boolean;\n}\n\n\nexport function getDefaultFormState(): FormState {\n    return {\n        isUnsaved: false,\n    };\n}\n\nexport function getDefaultLoadStates(): LoadStates {\n    return {\n        incidents: {isLoading: false},\n        wildfires: {isLoading: false}\n    };\n}\n\nexport function getDefaultApplicationState(): ApplicationState {\n    return {\n        loadStates: getDefaultLoadStates(),\n        errorStates: getDefaultErrorStates(),\n        formStates: getDefaultFormStates(),\n    };\n}\n\nexport function getDefaultErrorStates(): ErrorStates {\n    return {\n        incidents: [],\n        wildfires: []\n\n    };\n}\n\nexport function getDefaultFormStates(): FormStates {\n    return {\n        incidents: getDefaultFormState(),\n    };\n}\n\nexport function getDefaultPagingInfoRequest(pageNumber = 1, pageSize = 5, sortColumn?: string, sortDirection?: string, query?: string): PagingInfoRequest {\n    return {\n        query: query,\n        pageNumber: pageNumber,\n        pageRowCount: pageSize,\n        sortColumn: sortColumn,\n        sortDirection: sortDirection\n    };\n}\n","import {searchReducer, SearchState} from \"@wf1/core-ui\";\nimport {Action} from \"@ngrx/store\";\nimport {SearchActions} from \"@wf1/core-ui/lib/search/store/actions\";\nimport deepEqual from \"deep-equal\";\nimport { SearchIncidentsAction, SEARCH_INCIDENTS } from \"../incidents/incidents.action\";\n\nexport function pageSearchReducer(state, action: Action): SearchState {\n    if (action.type == SEARCH_INCIDENTS) {\n        const typedAction = <SearchIncidentsAction>action;\n        return pagingSearchHelper(state, typedAction);\n    } else {\n        let searchAction = action as SearchActions;\n        return searchReducer(state, searchAction)\n    }\n\n}\n\nexport function pagingSearchHelper(state, typedAction, updateFilters: boolean = true): SearchState {\n\n    if (state\n        && state.componentId == typedAction.componentId\n        && typedAction.payload.pageInfoRequest\n        && (state.pageSize !== typedAction.payload.pageInfoRequest.pageRowCount\n            || state.pageIndex !== typedAction.payload.pageInfoRequest.pageNumber\n            || state.sortParam !== typedAction.payload.pageInfoRequest.sortColumn\n            || state.sortDirection !== typedAction.payload.pageInfoRequest.sortDirection\n            || state.query !== typedAction.payload.pageInfoRequest.query\n            || state.filters !== typedAction.payload.filters)) {\n        if (updateFilters) {\n            return {\n                ...state,\n                pageSize: typedAction.payload.pageInfoRequest.pageRowCount,\n                pageIndex: typedAction.payload.pageInfoRequest.pageNumber,\n                sortParam: typedAction.payload.pageInfoRequest.sortColumn,\n                sortDirection: typedAction.payload.pageInfoRequest.sortDirection,\n                query: typedAction.payload.pageInfoRequest.query,\n                filters: typedAction.payload.filters ? typedAction.payload.filters : {}\n            };\n        } else {\n            return {\n                ...state,\n                pageSize: typedAction.payload.pageInfoRequest.pageRowCount,\n                pageIndex: typedAction.payload.pageInfoRequest.pageNumber,\n                sortParam: typedAction.payload.pageInfoRequest.sortColumn,\n                sortDirection: typedAction.payload.pageInfoRequest.sortDirection,\n                query: typedAction.payload.pageInfoRequest.query\n            };\n        }\n    } else {\n        return state;\n    }\n}\n\nexport function pagingFilterHelper(state, typedAction): SearchState {\n\n    if (state && state.componentId == typedAction.componentId\n        && !deepEqual(state.filters, typedAction.payload.filters)) {\n\n        return {\n            ...state,\n            filters: {...typedAction.payload.filters}\n        };\n    } else {\n        return state;\n    }\n}\n\n","import { Action } from \"@ngrx/store\";\nimport { IncidentCauseResource, WildfireIncidentResource } from \"@wf1/incidents-rest-api\";\nimport { ErrorState } from \"../application/application.state\";\n\nexport const GET_INCIDENT = \"GET_INCIDNT\";\nexport const GET_INCIDENT_SUCCESS = \"GET_INCIDENT_SUCCESS\";\nexport const GET_INCIDENT_ERROR = \"GET_INCIDENT_ERROR\";\n\nexport const GET_INCIDENT_CAUSE = \"GET_INCIDNT\";\nexport const GET_INCIDENT_CAUSE_SUCCESS = \"GET_INCIDENT_CAUSE_SUCCESS\";\nexport const GET_INCIDENT_CAUSE_ERROR = \"GET_INCIDENT_CAUSE_ERROR\";\n\nexport interface GetIncidentAction extends Action {\n    payload: {\n        fireYear: string,\n        incidentSequenceNumber: string\n    }\n}\n\nexport interface GetIncidentSuccessAction extends Action {\n    payload: {\n        incident: WildfireIncidentResource;\n    }\n}\n\nexport interface GetIncidentErrorAcion extends Action {\n    payload: {\n        error: ErrorState;\n    }\n}\n\nexport interface GetIncidentCauseAction extends Action {\n    payload: {\n        fireYear: string,\n        incidentSequenceNumber: string\n    }\n}\n\nexport interface GetIncidentCauseSuccessAction extends Action {\n    payload: {\n        incidentCause: IncidentCauseResource;\n    }\n}\n\nexport interface GetIncidentCauseErrorAcion extends Action {\n    payload: {\n        error: ErrorState;\n    }\n}\n\nexport function getIncident(fireYear: string, incidentSequenceNumber: string): GetIncidentAction {\n    return {\n        type: GET_INCIDENT,\n        payload: {\n            fireYear,\n            incidentSequenceNumber\n        }\n    }\n}\n\nexport function getIncidentSuccess(incident: WildfireIncidentResource): GetIncidentSuccessAction {\n    return {\n        type: GET_INCIDENT_SUCCESS,\n        payload: {\n            incident\n        }\n    }\n}\n\nexport function getIncidentError(error: ErrorState): GetIncidentErrorAcion {\n    return {\n        type: GET_INCIDENT_ERROR,\n        payload: {\n            error\n        }\n    }\n}\n\nexport function getIncidentCause(fireYear: string, incidentSequenceNumber: string): GetIncidentCauseAction {\n    return {\n        type: GET_INCIDENT_CAUSE,\n        payload: {\n            fireYear,\n            incidentSequenceNumber\n        }\n    }\n}\n\nexport function getIncidentCauseSuccess(incidentCause: IncidentCauseResource): GetIncidentCauseSuccessAction {\n    return {\n        type: GET_INCIDENT_CAUSE_SUCCESS,\n        payload: {\n            incidentCause\n        }\n    }\n}\n\nexport function getIncidentCauseError(error: ErrorState): GetIncidentCauseErrorAcion {\n    return {\n        type: GET_INCIDENT_CAUSE_ERROR,\n        payload: {\n            error\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { TokenService } from '@wf1/core-ui';\nimport { DefaultService as IncidentService } from '@wf1/incidents-rest-api';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport {\n  GET_INCIDENT,\n  GetIncidentAction,\n  getIncidentSuccess,\n  getIncidentError,\n  getIncidentCauseError,\n  getIncidentCauseSuccess,\n  GetIncidentCauseAction,\n  GET_INCIDENT_CAUSE\n} from './incident.action';\n\n@Injectable()\nexport class IncidentEffect {\n\n  getIncident$ = createEffect(() => this.actions.pipe(\n    ofType(GET_INCIDENT),\n    withLatestFrom(this.store),\n    debounceTime(500),\n    switchMap(\n      ([action, store]) => {\n        const typedAction = action as GetIncidentAction;\n        return this.incidentService.getWildfireIncident1(\n          typedAction.payload.fireYear,\n          typedAction.payload.incidentSequenceNumber,\n          1,\n          'response'\n        )\n          .pipe(\n            map((response: any) => getIncidentSuccess(response.body)),\n            catchError(error => of(getIncidentError(error)))\n          );\n      }\n    )\n  ));\n\n  getIncidentCause$ = createEffect(() => this.actions.pipe(\n    ofType(GET_INCIDENT_CAUSE),\n    withLatestFrom(this.store),\n    debounceTime(500),\n    switchMap(\n      ([action, store]) => {\n        const typedAction = action as GetIncidentCauseAction;\n        return this.incidentService.getIncidentCause(\n          typedAction.payload.fireYear,\n          typedAction.payload.incidentSequenceNumber,\n          1,\n          'response'\n        )\n          .pipe(\n            map((response: any) => getIncidentCauseSuccess(response.body)),\n            catchError(error => of(getIncidentCauseError(error)))\n          );\n      }\n    )\n  ));\n\n  constructor(\n    private actions: Actions,\n    private incidentService: IncidentService,\n    private store: Store<RootState>,\n    private tokenService: TokenService,\n  ) { }\n}\n","import { Action } from \"@ngrx/store\";\nimport { GetIncidentCauseSuccessAction, GetIncidentSuccessAction, GET_INCIDENT_CAUSE_SUCCESS, GET_INCIDENT_SUCCESS } from \"./incident.action\";\nimport { getDefaultIncidentState, IncidentState } from \"./incident.stats\";\n\nexport function incidentReducer (state: IncidentState = getDefaultIncidentState(), action: Action): IncidentState {\n  if (action.type === GET_INCIDENT_SUCCESS) {\n    const typedaction = <GetIncidentSuccessAction> action;\n    return {...state, currentIncident: typedaction.payload.incident}\n  } else if (action.type === GET_INCIDENT_CAUSE_SUCCESS) {\n    const typedaction = <GetIncidentCauseSuccessAction> action;\n    return {...state, currentIncidentCause: typedaction.payload.incidentCause}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentIncident = () => (state: RootState): any => ((state.incident) ? state.incident.currentIncident : undefined);\nexport const selectCurrentIncidentCause = () => (state: RootState): any => ((state.incident) ? state.incident.currentIncidentCause : undefined);\n\n","export const INCIDENT_COMPONENT_ID = \"Incident\";\n\nexport interface IncidentState { \n    currentIncident?: any;\n    currentIncidentCause?: any\n}\n\nexport function getDefaultIncidentState(): IncidentState {\n    return {\n        currentIncident: null,\n        currentIncidentCause: null,\n    };\n}\n","import { Action } from \"@ngrx/store\";\nimport { LabeledAction } from \"..\";\nimport { ErrorState, PagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_INCIDENTS = \"SEARCH_INCIDENTS\";\nexport const SEARCH_INCIDENTS_SUCCESS = \"SEARCH_INCIDENTS_SUCCESS\";\nexport const SEARCH_INCIDENTS_ERROR = \"SEARCH_INCIDENTS_ERROR\";\nexport interface SearchIncidentsAction extends LabeledAction {\n    componentId: string;\n    payload: {\n        pageInfoRequest: PagingInfoRequest,\n        filters: {\n            [param: string]: any[];\n        }\n    };\n}\n\nexport interface SearchIncidentsSuccessAction extends Action {\n    componentId: string;\n    payload: {\n        value: any;\n    };\n}\n\nexport interface SearchIncidentsErrorAction extends Action {\n    componentId: string;\n    payload: {\n        error: ErrorState;\n    };\n}\n\n\nexport function searchIncidents(componentId: string,\n    pageInfoRequest: PagingInfoRequest,\n    selectedFireCentre: string,\n    fireOfNotePublishedInd: boolean,\n    displayLabel: string): SearchIncidentsAction {\n        let filters = {};\n        filters[\"selectedFireCentreCode\"] = selectedFireCentre ? [selectedFireCentre] : [];\n        filters[\"selectedFireOfNotePublishedInd\"] = fireOfNotePublishedInd? [fireOfNotePublishedInd] : []\n\n        return {\n            type: SEARCH_INCIDENTS,\n            componentId: componentId,\n            displayLabel: displayLabel,\n            payload: {\n                pageInfoRequest,\n                filters: filters\n            }\n        };\n}\n\nexport function searchIncidentsSuccess(componentId: string, value: any): SearchIncidentsSuccessAction{\n    return {\n        type: SEARCH_INCIDENTS_SUCCESS,\n        componentId: componentId,\n        payload: {\n            value\n        }\n    };\n}\n\nexport function SearchIncidentsError(componentId: string, error: ErrorState): SearchIncidentsErrorAction {\n    return {\n        type: SEARCH_INCIDENTS_ERROR,\n        componentId: componentId,\n        payload: {\n            error\n        }\n    };\n}\n\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { SortDirection, TokenService } from '@wf1/core-ui';\nimport { DefaultService as WildfireIncidentListService } from '@wf1/incidents-rest-api';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport { formatSort, getPageInfoRequestForSearchState } from '../../utils';\nimport { SearchIncidentsAction, SearchIncidentsError, searchIncidentsSuccess, SEARCH_INCIDENTS } from './incidents.action';\nimport { initIncidentsPaging } from './incidents.stats';\n\n@Injectable()\nexport class IncidentsEffect {\n\n  getIncidentList$ = createEffect(() => this.actions.pipe(\n      ofType(SEARCH_INCIDENTS),\n      withLatestFrom(this.store),\n      debounceTime(1000),\n      switchMap(\n        ([action, store]) => {\n\n          const typedaction = action as SearchIncidentsAction;\n          const pagingInfoRequest = typedaction?.payload?.pageInfoRequest || getPageInfoRequestForSearchState(store.searchIncidents);\n          const savedFilters = store.searchIncidents.filters;\n\n          const pageNumber = pagingInfoRequest.pageNumber ? pagingInfoRequest.pageNumber : initIncidentsPaging.pageNumber;\n          const pageSize = pagingInfoRequest.pageRowCount ? pagingInfoRequest.pageRowCount : initIncidentsPaging.pageRowCount;\n          let sortParam = pagingInfoRequest.sortColumn;\n          if (sortParam === 'fireNumber') {\n            sortParam = 'incidentLabel';\n          }\n          if (sortParam === 'fireName') {\n            sortParam = 'incidentName';\n          }\n          if (sortParam === 'fireCentre') {\n            sortParam = 'fireCentreOrgUnitName';\n          }\n          if (sortParam === 'wildFireOfNote') {\n            sortParam = 'fireOfNotePublishedInd';\n          }\n          if (sortParam === 'lastUpdated') {\n            sortParam = 'lastUpdatedTimestamp';\n          }\n\n\n          const orderBy = formatSort(sortParam, pagingInfoRequest.sortDirection as SortDirection);\n          let searchText = [];\n          if (pagingInfoRequest.query && pagingInfoRequest.query.length > 0) {\n            searchText[0] = pagingInfoRequest.query;\n          } else {\n            searchText = undefined;\n          }\n          const savedFireCentreFilter = savedFilters?.selectedFireCentreCode;\n          const savedFireOfNotePublishedIndFilter = savedFilters?.selectedFireOfNotePublishedInd;\n\n          const fireCentreFilter = typedaction.payload.filters['selectedFireCentreCode'] || savedFireCentreFilter;\n          const fireOfNotePublishedInd = typedaction.payload.filters['selectedFireOfNotePublishedInd'] || savedFireOfNotePublishedIndFilter;\n\n          const now = new Date();\n          let currentFireYear = now.getFullYear();\n          if (now.getMonth() < 3) {\n            currentFireYear -= 1;\n          }\n\n          return this.incidentListService.getWildfireIncidentList(\n            undefined,\n            searchText,\n            [`${currentFireYear - 1}`, `${currentFireYear}`],\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            fireCentreFilter,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            ['Active'],\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            ['FIRE'],\n            fireOfNotePublishedInd[0],\n            undefined,\n            `${pageNumber}`,\n            `${pageSize}`,\n            orderBy,\n            undefined,\n            'response'\n          )\n            .pipe(\n              map((response: any) => searchIncidentsSuccess(typedaction.componentId, response.body)),\n              catchError(error => of(SearchIncidentsError(typedaction.componentId, error)))\n            );\n        }\n      )\n    ));\n\n  constructor(\n    private actions: Actions,\n    private incidentListService: WildfireIncidentListService,\n    private store: Store<RootState>,\n    private tokenService: TokenService,\n  ) { }\n}\n","import { Action } from \"@ngrx/store\";\nimport { SearchIncidentsSuccessAction, SEARCH_INCIDENTS_SUCCESS } from \"./incidents.action\";\nimport { getDefaultIncidentsState, IncidentsState } from \"./incidents.stats\";\n\nexport function incidentsReducer (state: IncidentsState = getDefaultIncidentsState(), action: Action): IncidentsState {\n  if (action.type === SEARCH_INCIDENTS_SUCCESS) {\n    const typedaction = <SearchIncidentsSuccessAction> action;\n    return {...state, currentIncidentsSearch: typedaction.payload.value}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentIncidentsSearch = () => (state: RootState): any => ((state.incidents) ? state.incidents.currentIncidentsSearch : undefined);\n","import { SearchState } from \"@wf1/core-ui\";\nimport { getDefaultPagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_INCIDENTS_COMPONENT_ID = \"searchIncidents\";\nexport const INCIDENTS_COMPONENT_ID = \"Incidents\";\nexport const LOAD_INCIDENTS_COMPONENT_ID = \"loadIncidents\"\n\n\nconst EMPTY_INCIDENTS: any = {\n    pageNumber: null,\n    pageRowCount: null,\n    totalPageCount: null,\n    totalRowCount: null,\n    collection: []\n};\n\nexport interface IncidentsState { // will need to specify the type . use any for now\n    currentIncidentsSearch?: any;\n    selectedIncident?: any;\n    incidents?: any;\n}\n\nexport const initialIncidentsSearchState: SearchState = {\n    query: null,\n    sortParam: \"discoveryTimestamp\",\n    sortDirection: \"DESC\",\n    sortModalVisible: false,\n    filters: {},\n    hiddenFilters: {},\n    componentId: SEARCH_INCIDENTS_COMPONENT_ID\n};\n\nexport const initIncidentsPaging = getDefaultPagingInfoRequest(1, 20, \"discoveryTimestamp\", \"DESC\", undefined);\n\nexport function getDefaultIncidentsState(): IncidentsState {\n    return {\n        currentIncidentsSearch: EMPTY_INCIDENTS,\n    };\n}\n","import { routerReducer } from '@ngrx/router-store';\nimport { Action, ActionReducer, ActionReducerMap } from '@ngrx/store';\nimport { searchReducer, SearchState, SortDirection } from '@wf1/core-ui';\nimport { storeLogger } from 'ngrx-store-logger';\nimport { ApplicationState, PagingSearchState } from './application/application.state';\nimport { pageSearchReducer } from './common/page-search.reducer';\nimport { IncidentEffect } from './incident/incident.effect';\nimport { incidentReducer } from './incident/incident.reducer';\nimport { IncidentState } from './incident/incident.stats';\nimport { IncidentsEffect } from './incidents/incidents.effects';\n\nimport { incidentsReducer } from './incidents/incidents.reducer';\nimport { initialIncidentsSearchState, IncidentsState } from './incidents/incidents.stats';\nimport { WildfiresListEffect } from './wildfiresList/wildfiresList.effects';\nimport { wildfiresListReducer } from './wildfiresList/wildfiresList.reducer';\nimport { initialWildfiresSearchState, WildfiresState } from './wildfiresList/wildfiresList.stats';\n\nexport interface BaseRouterStoreState {\n    url: string;\n}\n\nexport interface RouterState {\n    state: BaseRouterStoreState;\n}\n\nexport const rootReducers: ActionReducerMap<any> = {\n    search: searchReducer,\n    router: routerReducer,\n    incidents: incidentsReducer,\n    searchIncidents: pageSearchReducer,\n    incident: incidentReducer,\n    wildfires: wildfiresListReducer,\n    searchWildfires: pageSearchReducer,\n};\n\nexport interface RootState {\n    application?: ApplicationState;\n    incidents?: IncidentsState;\n    searchIncidents?: PagingSearchState;\n    incident?: IncidentState;\n    wildfires?: WildfiresState;\n    searchWildfires?: PagingSearchState;\n};\n\nexport const initialRootState: RootState = {\n    searchIncidents: initialIncidentsSearchState,\n    searchWildfires: initialWildfiresSearchState,\n};\n\nexport const rootEffects: any[] = [\n    // PlaceNameSearchEffects,\n    IncidentsEffect,\n    IncidentEffect,\n    WildfiresListEffect,\n\n];\n\nexport function logger(reducer: ActionReducer<RootState>): any {\n    // default, no options\n    return storeLogger({\n        collapsed: true,\n        level: 'log',\n        filter: {\n            blacklist: []\n        }\n    })(reducer);\n}\n\nexport interface AudibleAlertState {\n    enableUnacknowledged: boolean;\n    enableReceivedFromPM: boolean;\n    selectedZoneIds?: string[];\n}\n\nexport class SearchStateAndConfig implements SearchState {\n    query: string;\n    sortParam: string;\n    sortDirection: SortDirection;\n    sortModalVisible: boolean;\n    filters: {\n        [param: string]: any[];\n    };\n    hiddenFilters: {\n        [param: string]: any[];\n    };\n    columns?: string[]; //ordered list of columns to display\n    componentId?: string;\n    audibleAlert?: AudibleAlertState;\n}\n\nexport function isEmpty(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\nreturn false;\n}\n    }\n    return true;\n}\n\nexport interface LabeledAction extends Action {\n    displayLabel: string;\n}\n\n\n","import { Action } from \"@ngrx/store\";\nimport { LabeledAction } from \"..\";\nimport { ErrorState, PagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_WILDFIRES = \"SEARCH_WILDFIRES\";\nexport const SEARCH_WILDFIRES_SUCCESS = \"SEARCH_WILDFIRES_SUCCESS\";\nexport const SEARCH_WILDFIRES_ERROR = \"SEARCH_WILDFIRES_ERROR\";\nexport interface SearchWildfiresAction extends LabeledAction {\n    componentId: string;\n    callback: Function;\n    payload: {\n        pageInfoRequest: PagingInfoRequest,\n        filters: {\n            [param: string]: any[];\n        }\n        lat: number;\n        long: number;\n        radius: number\n    };\n}\n\nexport interface SearchWildfiresSuccessAction extends Action {\n    componentId: string;\n    payload: {\n        value: any;\n    };\n}\n\nexport interface SearchWildfiresErrorAction extends Action {\n    componentId: string;\n    payload: {\n        error: ErrorState;\n    };\n}\n\n\nexport function searchWildfires(\n    componentId: string,\n    pageInfoRequest: PagingInfoRequest,\n    selectedFireCentre: string,\n    fireOfNoteInd: boolean,\n    stageOfControlList: string[],\n    newFires: boolean,\n    bbox: string,\n    displayLabel: string,\n    lat: number,\n    long: number,\n    radius: number,\n    callback: Function | null = null): SearchWildfiresAction {\n        let filters = {}\n        filters[\"fireCentreCode\"] = selectedFireCentre ? selectedFireCentre : undefined\n        filters[\"fireOfNote\"] = fireOfNoteInd ? fireOfNoteInd : undefined\n        filters[\"stageOfControlList\"] = stageOfControlList ? stageOfControlList : []\n        filters[\"newFires\"] = newFires ? newFires : false\n        filters[\"bbox\"] = bbox ? bbox : undefined\n\n        return {\n            type: SEARCH_WILDFIRES,\n            componentId: componentId,\n            displayLabel: displayLabel,\n            callback: callback ? callback : () => {},\n            payload: {\n                pageInfoRequest,\n                filters: filters,\n                lat: lat,\n                long: long,\n                radius: radius\n            }\n        };\n}\n\nexport function searchWildfiresSuccess(componentId: string, value: any): SearchWildfiresSuccessAction{\n    return {\n        type: SEARCH_WILDFIRES_SUCCESS,\n        componentId: componentId,\n        payload: {\n            value\n        }\n    };\n}\n\nexport function searchWildfiresError(componentId: string, error: ErrorState): SearchWildfiresErrorAction {\n    return {\n        type: SEARCH_WILDFIRES_ERROR,\n        componentId: componentId,\n        payload: {\n            error\n        }\n    };\n}\n\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, SortDirection } from '@wf1/core-ui';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport { formatSort, getPageInfoRequestForSearchState } from '../../utils';\nimport { SearchWildfiresAction, searchWildfiresError, searchWildfiresSuccess, SEARCH_WILDFIRES } from './wildfiresList.action';\nimport { initWildfiresListPaging } from './wildfiresList.stats';\n\n@Injectable()\nexport class WildfiresListEffect {\n  \n  getWildfiresList$ = createEffect(() => this.actions.pipe(\n      ofType(SEARCH_WILDFIRES),\n      withLatestFrom(this.store),\n      debounceTime(500),\n      switchMap(\n        ([action, store]) => {\n          const typedaction = action as SearchWildfiresAction;\n          try {\n            const pagingInfoRequest = typedaction.payload.pageInfoRequest ? typedaction.payload.pageInfoRequest : getPageInfoRequestForSearchState(store.searchWildfires);\n            const pageNumber = pagingInfoRequest.pageNumber ? pagingInfoRequest.pageNumber : initWildfiresListPaging.pageNumber;\n            const pageSize = pagingInfoRequest.pageRowCount ? pagingInfoRequest.pageRowCount : initWildfiresListPaging.pageRowCount;\n            let sortParam = pagingInfoRequest.sortColumn;\n            let searchText = '';\n            const lat = typedaction.payload.lat;\n            const long = typedaction.payload.long;\n            const radius = typedaction.payload.radius;\n            if (pagingInfoRequest.query && pagingInfoRequest.query.length > 0) {\n              searchText = pagingInfoRequest.query;\n            } else {\n              searchText = undefined;\n            }\n            if (sortParam === 'fireName') {\n              sortParam = 'incidentName';\n            }\n            if (sortParam === 'fireNumber') {\n              sortParam = 'incidentNumberLabel';\n            }\n            if (sortParam === 'lastUpdated') {\n              sortParam = 'lastUpdatedTimestamp';\n            }\n            if (sortParam === 'stageOfControl') {\n              sortParam = 'stageOfControlCode';\n            }\n            if (sortParam === 'wildfireOfNote') {\n              sortParam = 'fireOfNoteInd';\n            }\n            if (sortParam === 'location') {\n              sortParam = 'incidentLocation';\n            }\n            let orderBy = formatSort(sortParam, pagingInfoRequest.sortDirection as SortDirection);\n            let url = this.appConfigService.getConfig().rest['wfnews'].toString() + '/publicPublishedIncident' + '?pageNumber=' + pageNumber + '&pageRowCount=' + pageSize;\n\n            // add filters\n            const filters = typedaction.payload.filters;\n            for (const filter in filters) {\n              if (Object.prototype.hasOwnProperty.call(filters, filter) && filters[filter] !== undefined) {\n                if (filter === 'stageOfControlList') {\n                  for (const soc of filters[filter]) {\n                    url += `&${filter}=${soc}`;\n                  }\n                } else {\n                  url += `&${filter}=${filters[filter]}`;\n                }\n              }\n            }\n\n            if (lat && long && radius) {\n              url = url.concat('&latitude=').concat(lat.toString());\n              url = url.concat('&longitude=').concat(long.toString());\n              url = url.concat('&radius=').concat((radius * 1000).toString());\n            } else if (searchText) {\n              url += `&searchText=${searchText}`;\n            }\n\n            if (orderBy) {\n              orderBy = encodeURIComponent(orderBy.trim());\n              url = url.concat('&orderBy=');\n              url = url.concat(orderBy);\n            }\n\n            const headers = new HttpHeaders();\n            headers.append('Accept', '*/*');\n            headers.append('apikey', this.appConfigService.getConfig().application['wfnewsApiKey']);\n\n            return this.http.get<any>(url, {\n              headers: {\n                Accept: '*/*',\n                apikey: this.appConfigService.getConfig().application['wfnewsApiKey']\n              }\n            })\n              .pipe(\n                map((response: any) => {\n                  typedaction.callback();\n                  return searchWildfiresSuccess(typedaction.componentId, response);\n                }),\n                catchError(error => {\n                  typedaction.callback();\n                  return of(searchWildfiresError(typedaction.componentId, error));\n                }),\n              );\n          } catch (err) {\n            typedaction.callback();\n            console.error(err);\n          }\n        }\n      )\n    ));\n\n  constructor(\n    private actions: Actions,\n    private store: Store<RootState>,\n    private appConfigService: AppConfigService,\n    protected http: HttpClient\n  ) {}\n}\n","import { Action } from \"@ngrx/store\";\nimport { SearchWildfiresSuccessAction, SEARCH_WILDFIRES_SUCCESS } from \"./wildfiresList.action\";\nimport { getDefaultWildfiresListState, WildfiresState } from \"./wildfiresList.stats\";\n\nexport function wildfiresListReducer (state: WildfiresState = getDefaultWildfiresListState(), action: Action): WildfiresState {\n  if (action.type === SEARCH_WILDFIRES_SUCCESS) {\n    const typedaction = <SearchWildfiresSuccessAction> action;\n      return {...state, currentWildfiresSearch: typedaction.payload.value}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentWildfiresSearch = () => (state: RootState): any => ((state.wildfires) ? state.wildfires.currentWildfiresSearch : undefined);\n","import { SearchState } from \"@wf1/core-ui\";\nimport { getDefaultPagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_WILDFIRES_COMPONENT_ID = \"searchWildfires\";\nexport const WILDFIRESLIST_COMPONENT_ID = \"WildfiresList\";\nexport const LOAD_WILDFIRES_COMPONENT_ID = \"loadWildfires\";\n\n\nconst EMPTY_WILDFIRESLIST: any = {\n    pageNumber: null,\n    pageRowCount: null,\n    totalPageCount: null,\n    totalRowCount: null,\n    collection: []\n};\n\nexport interface WildfiresState { // will need to specify the type . use any for now\n    currentWildfiresSearch?: any;\n    selectedWildfire?: any;\n    wildfires?: any;\n}\n\nexport const initialWildfiresSearchState: SearchState = {\n    query: null,\n    sortParam: \"lastUpdatedTimestamp\",\n    sortDirection: \"DESC\",\n    sortModalVisible: false,\n    filters: {},\n    hiddenFilters: {},\n    componentId: SEARCH_WILDFIRES_COMPONENT_ID\n};\n\nexport const initWildfiresListPaging = getDefaultPagingInfoRequest(1, 20, \"discoveryTimestamp\", \"DESC\", undefined);\n\nexport function getDefaultWildfiresListState(): WildfiresState {\n    return {\n        currentWildfiresSearch: EMPTY_WILDFIRESLIST,\n    };\n}\n","import {ValidationError} from '../store/application/application.state';\n\nconst digits = () => `must contain only numbers`;\nconst required = () => `is required`;\nconst invalid = () => `is invalid`;\nconst notFound = () => `not found`;\nconst min = ([message, min]: any[]) => `cannot be less than ${min}`;\nconst max = ([message, max]: any[]) => `cannot be more than ${max}`;\nconst minMax = ([message, min, max]: any[]) => `must be between ${min} and ${max} characters`;\n\nexport const ErrorMessages = {\n    required: () => 'Value is required',\n    max: (x) => `Value cannot be more than ${x}`,\n    min: (x) => `Value cannot be less than ${x}`,\n    maxlength: (x) => `Value cannot exceed ${x} characters`,\n    minlength: (x) => `Value must be at least ${x} characters`,\n};\n\nexport function getDisplayErrorMessage(err: ValidationError){\n    \n    if(err && ErrorMessages[err.message]){\n        return ErrorMessages[err.message](err);\n    }else if (err && err.messageTemplate && err.messageTemplate != err.message) {\n        let msg: string = err.messageTemplate;\n        const args = err.messageArguments;\n        if(args && args.length > 0){\n            err.messageArguments.forEach(function(arg,index)  {\n                const paramLookup = '{' + index + '}';\n                msg = msg.replace(paramLookup, arg);\n            });\n        }\n        return msg;\n    }else{\n        return err.message;\n    }\n}\n","import { APP_BOOTSTRAP_LISTENER, Inject, InjectionToken, Type } from '@angular/core';\nimport { EffectSources } from '@ngrx/effects';\nimport { SortDirection } from '@wf1/core-ui';\nimport * as moment from 'moment';\nimport { PagingInfoRequest } from '../store/application/application.state';\n\ndeclare const window: any;\nexport enum ResourcesRoutes {\n    LANDING = '',\n    ACTIVEWILDFIREMAP = 'map',\n    WILDFIRESLIST = 'list',\n    CURRENTSTATISTICS = 'currentStatistics',\n    RESOURCES = 'resources',\n    ROF = \"reportOfFire\",\n    UNAUTHORIZED = 'unauthorized',\n    SIGN_OUT = 'sign-out-page',\n    ERROR_PAGE = 'error-page',\n    ADMIN = 'admin',\n    ADMIN_INCIDENT = 'incident',\n    PUBLIC_INCIDENT = 'incidents'\n}\n\nexport const FireCentres = [\n    {\n        code: '2',\n        agol: '7',\n        description: 'Cariboo Fire Centre',\n        displayOrder: 1,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'C'\n    },\n    {\n        code: '50',\n        agol: '2',\n        description: 'Coastal Fire Centre',\n        displayOrder: 2,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'V'\n    },\n    {\n        code: '25',\n        agol: '5',\n        description: 'Kamloops Fire Centre',\n        displayOrder: 3,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'K'\n    },\n    {\n        code: '42',\n        agol: '3',\n        description: 'Northwest Fire Centre',\n        displayOrder: 4,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'R'\n    },\n    {\n        code: '8',\n        agol: '4',\n        description: 'Prince George Fire Centre',\n        displayOrder: 5,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'G'\n    },\n    {\n        code: '34',\n        agol: '6',\n        description: 'Southeast Fire Centre',\n        displayOrder: 6,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'N'\n    }\n];\n\nexport const FireZones = [\n  { code: 3, alias: 1, description: 'Quesnel Zone', fireCentreOrgUnit: 2},\n  { code: 4, alias: 2, description: 'Central Cariboo Zone (Williams Lake)', fireCentreOrgUnit: 2},\n  { code: 5, alias: 3, description: 'Central Cariboo Zone (Horsefly)', fireCentreOrgUnit: 2},\n  { code: 6, alias: 4, description: '100 Mile House Zone', fireCentreOrgUnit: 2},\n  { code: 7, alias: 5, description: 'Chilcotin Zone', fireCentreOrgUnit: 2},\n  { code: 9, alias: 1, description: 'Prince George Zone', fireCentreOrgUnit: 8},\n  { code: 10, alias: 3, description: 'Robson Valley Zone', fireCentreOrgUnit: 8},\n  { code: 11, alias: 4, description: 'VanJam Zone (Vanderhoof)', fireCentreOrgUnit: 8},\n  { code: 12, alias: 5, description: 'VanJam Zone (Fort St. James)', fireCentreOrgUnit: 8},\n  { code: 13, alias: 6, description: 'Mackenzie Zone', fireCentreOrgUnit: 8},\n  { code: 14, alias: 7, description: 'Dawson Creek Zone', fireCentreOrgUnit: 8},\n  { code: 15, alias: 8, description: 'Fort St. John Zone', fireCentreOrgUnit: 8},\n  { code: 16, alias: 9, description: 'Fort Nelson Zone', fireCentreOrgUnit: 8},\n  { code: 26, alias: 1, description: 'Kamloops Zone (Clearwater)', fireCentreOrgUnit: 25},\n  { code: 27, alias: 2, description: 'Kamloops Zone (Kamloops)', fireCentreOrgUnit: 25},\n  { code: 28, alias: 3, description: 'Vernon Zone (Salmon Arm)', fireCentreOrgUnit: 25},\n  { code: 29, alias: 4, description: 'Vernon Zone (Vernon)', fireCentreOrgUnit: 25},\n  { code: 30, alias: 5, description: 'Penticton Zone', fireCentreOrgUnit: 25},\n  { code: 31, alias: 6, description: 'Merritt Zone', fireCentreOrgUnit: 25},\n  { code: 32, alias: 7, description: 'Lillooet Zone', fireCentreOrgUnit: 25},\n  { code: 35, alias: 1, description: 'Cranbrook Zone', fireCentreOrgUnit: 34},\n  { code: 36, alias: 2, description: 'Invermere Zone', fireCentreOrgUnit: 34},\n  { code: 37, alias: 4, description: 'Columbia Zone', fireCentreOrgUnit: 34},\n  { code: 38, alias: 5, description: 'Arrow Zone', fireCentreOrgUnit: 34},\n  { code: 39, alias: 6, description: 'Boundary Zone', fireCentreOrgUnit: 34},\n  { code: 40, alias: 7, description: 'Kootenay Lake Zone', fireCentreOrgUnit: 34},\n  { code: 43, alias: 1, description: 'Nadina Zone (Lakes)', fireCentreOrgUnit: 42},\n  { code: 44, alias: 2, description: 'Nadina Zone (Morice)', fireCentreOrgUnit: 42},\n  { code: 45, alias: 3, description: 'Bulkley Zone', fireCentreOrgUnit: 42},\n  { code: 46, alias: 4, description: 'Bulkley Zone (Kispiox)', fireCentreOrgUnit: 42},\n  { code: 47, alias: 5, description: 'Skeena Zone (Kalum)', fireCentreOrgUnit: 42},\n  { code: 48, alias: 8, description: 'Skeena Zone (North Coast)', fireCentreOrgUnit: 42},\n  { code: 49, alias: 9, description: 'Cassiar Zone', fireCentreOrgUnit: 42},\n  { code: 51, alias: 1, description: 'Fraser Zone', fireCentreOrgUnit: 50},\n  { code: 52, alias: 3, description: 'Pemberton Zone', fireCentreOrgUnit: 50},\n  { code: 53, alias: 5, description: 'Sunshine Coast Zone', fireCentreOrgUnit: 50},\n  { code: 54, alias: 6, description: 'South Island Zone', fireCentreOrgUnit: 50},\n  { code: 55, alias: 7, description: 'Mid Island Zone', fireCentreOrgUnit: 50},\n  { code: 56, alias: 8, description: 'North Island Mid Coast Zone (Campbell River)', fireCentreOrgUnit: 50},\n  { code: 57, alias: 9, description: 'North Island Mid Coast Zone (Port McNeill)', fireCentreOrgUnit: 50},\n  { code: 58, alias: 10, description: 'North Island Mid Coast Zone (Mid Coast)', fireCentreOrgUnit: 50},\n  { code: 59, alias: 11, description: 'Fraser Zone (Haida Gwaii)', fireCentreOrgUnit: 50}\n]\n\nexport function getPageInfoRequestForSearchState(searchState: any): PagingInfoRequest {\n    return {\n        pageRowCount: searchState.pageSize,\n        pageNumber: searchState.pageIndex,\n        sortColumn: searchState.sortParam,\n        sortDirection: searchState.sortDirection,\n        query: searchState.query\n    };\n}\n\nexport const BOOTSTRAP_EFFECTS = new InjectionToken('Bootstrap Effects');\n\nexport function createInstances(...instances: any[]) {\n    return instances;\n}\n\nexport function bootstrapEffects(effects: Type<any>[], sources: EffectSources) {\n    return () => {\n        effects.forEach(effect => sources.addEffects(effect));\n    };\n}\n\n\nexport function provideBootstrapEffects(effects: Type<any>[]): any {\n    return [\n        effects,\n        {\n            provide: BOOTSTRAP_EFFECTS, deps: effects, useFactory: createInstances\n        },\n        {\n            provide: APP_BOOTSTRAP_LISTENER,\n            multi: true,\n            useFactory: bootstrapEffects,\n            deps: [[new Inject(BOOTSTRAP_EFFECTS)], EffectSources]\n        }\n    ];\n}\n\nexport const DATE_FORMATS = {\n    fullPickerInput: 'Y-MM-DD HH:mm',\n    datePickerInput: 'Y-MM-DD',\n    timePickerInput: 'HH:mm',\n    monthYearLabel: 'Y-MM',\n    dateA11yLabel: 'Y-MMM-DD',\n    monthYearA11yLabel: 'YYYY-MMM',\n    simplifiedDate: 'MMM DD',\n    simplifiedDateWithYear: 'MMM DD YYYY',\n    simplifiedDateWithTime: 'MMM DD, YYYY - HH:mm',\n    simplifiedMonthDate: 'MM-DD',\n    fullPickerInputWithSlash: 'Y-MM-DD/ HH:mm',\n    API_DATE: 'Y-MM-DD',\n    API_TIMESTAMP: 'Y-MM-DD HH:mm:ss',\n    API_TIMESTAMP_WITH_SEP: 'Y-MM-DDTHH:mm:ss'\n};\n\nexport function getElementInnerText(el: HTMLElement): string {\n    return el.innerText;\n}\n\nexport  const hasValues = (obj) => Object.values(obj).some(v => v !== null && typeof v !== 'undefined');\n\nexport function isElementTruncated(el: HTMLElement): boolean {\n    return el.offsetWidth < el.scrollWidth;\n}\n\nexport const CONSTANTS= {\n    NO_RECORDS_MESSAGE: 'No records to display.',\n}\n\nexport function arrayEquals(a, b) {\n    return Array.isArray(a) &&\n        Array.isArray(b) &&\n        a.length === b.length &&\n        a.every((val, index) => val === b[index]);\n}\n\nexport const formatSort = (param: string, direction: SortDirection) => param && direction ? `${param} ${direction}` : undefined;\n\nexport const WF_SNACKBAR_TYPES = {SUCCESS: 'success', ERROR: 'error', WARNING: 'warning', INFO: 'info', UPDATE: 'update'};\n\n\nexport function convertFromTimestamp(date: string) {\n    if (date) {\n        return moment(date).format(DATE_FORMATS.simplifiedDateWithYear)\n    }\n}\n\nexport function convertToDateWithTime(date: string) {\n    if (date) {\n        return moment(date).format(DATE_FORMATS.simplifiedDateWithTime)\n    }\n}\n\nexport function convertToDateWithDayOfWeek(date: string) {\n    if (date){\n        return displayDay(date) + ' ' + moment(date).format(DATE_FORMATS.simplifiedDateWithYear)\n    }\n}\n\nexport function  convertToStageOfControlDescription(code: string) {\n    switch(code) {\n        case 'OUT_CNTRL':\n            return 'Out Of Control'\n        case 'HOLDING':\n            return 'Being Held'\n        case 'UNDR_CNTRL':\n            return 'Under Control'\n        case 'OUT':\n            return 'Out'\n        default:\n            break;\n      }\n}\n\nfunction displayDay(date: string): string{\n    if (date) {\n        const result = moment(date).format('dddd');\n        return (result.charAt(0).toUpperCase() + result.slice(1)).slice(0, 3); // abbreviate days of the week\n    } else {\n        return null;\n    }\n}\n\nexport function findFireCentreByName(fireCentreName: string): any {\n  if (fireCentreName) {\n      let nameResult = FireCentres.find(fireCentre => fireCentre.description.toLowerCase().trim() === fireCentreName.toLowerCase().trim() + '')\n      return nameResult ? nameResult : null;\n  }\n}\n\nexport function convertToFireCentreDescription(code: string): string {\n    if (code) {\n        const result = FireCentres.find(fireCentre => fireCentre.code === code + '')\n        // Some have the code from AGOL, which appears to be an objectid?\n        const agolResult = FireCentres.find(fireCentre => fireCentre.agol === code + '');\n        const nameResult = FireCentres.find(fireCentre => fireCentre.description === code + '')\n        return result ? result.description : agolResult ? agolResult.description : nameResult ? nameResult.description: code;\n    }\n}\n\nexport function isMobileView () {\n  return window.innerWidth <= 768\n}\n\nexport async function snowPlowHelper(page: string, data: any = null) {\n    let pageInfo = page;\n    if(data) {\n       window.snowplow('trackSelfDescribingEvent', {\n        schema: 'iglu:ca.bc.gov.wfnews/action/jsonschema/1-0-0',\n        data: data\n      });\n    } else {\n      window.snowplow('trackPageView', pageInfo);\n    }\n}\n\nexport function convertFireNumber(incident) {\n    if(incident.incidentNumberLabelFull) {\n        return incident.incidentNumberLabelFull\n    } else if(incident.incidentNumberLabel.length > 4) {\n      return incident.incidentNumberLabel\n    } else{\n        try {\n        const fcAlias = FireCentres.find(c => c.code === incident.fireCentreCode).characterAlias\n        const zoneAlias = FireZones.find(z => z.code === incident.fireZoneUnitIdentifier).alias\n        const incidentNumber = String(incident.incidentNumberLabel).padStart(4, '0')\n        return fcAlias + zoneAlias + incidentNumber\n        } catch (err) {\n        console.error(err)\n        return 'Unknown Incident Label'\n        }\n    }\n}\n\nexport function convertToYoutubeId (externalUri: string) {\n  if (externalUri) {\n    const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    let match = externalUri.match(regExp);\n    if( match && match[7].length == 11) {\n      return match[7]\n    }\n  }\n}\n\nexport function hideOnMobileView () {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n\n  export function convertToMobileFormat (dateString) {\n    const formattedDate = moment(dateString, \"dddd, MMMM D, YYYY [at] h:mm:ss A\").format(\"MMMM D, YYYY\");\n    return formattedDate\n\n  }\n","import { GeoJsonTypes } from 'geojson'\n\nexport type SmkMap = any;\n\nexport class SmkApi {\n    constructor(\n        private smkMap: SmkMap\n    ) {}\n\n    with<T>( block: ( smk: SmkMap ) => T, fail?: T ) {\n        if ( !this.smkMap ) {\n          return fail;\n        }\n\n        return block( this.smkMap );\n    }\n\n    showFeature( acetate: string, geometry?: GeoJsonTypes, opt?: object): void {\n        if ( !this.smkMap ) return\n\n        this.smkMap.showFeature( acetate, geometry, opt )\n    }\n\n    panToFeature( geometry: GeoJsonTypes, zoomIn? ) {\n        if ( !this.smkMap ) return\n\n        this.smkMap.$viewer.panToFeature( geometry, zoomIn )\n    }\n\n    setDisplayContextItemsVisible( ...layerVisibilities: { itemId: string; visible: boolean; reload?: boolean }[] ): Promise<any> {\n        if ( !this.smkMap ) {\n          return Promise.reject();\n        }\n\n        layerVisibilities.forEach( ( { itemId: id, visible, reload } ) => {\n            this.smkMap.$viewer.displayContext.layers.setItemVisible( id, visible );\n\n            if ( reload ) {\n        this.smkMap.$viewer.layerIdPromise[ id ] = null;\n}\n        } );\n\n        return this.smkMap.$viewer.updateLayersVisible();\n    }\n\n    withLayerConfig( layerId: string, block: ( config ) => void ) {\n        if ( !this.smkMap ) {\nreturn;\n}\n\n        block( this.smkMap.$viewer.layerId[ layerId ].config );\n    }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n\tproduction: false,\n\toverride_webade_preference_config: '',\n\twebade_preference_config: '',\n\tapp_config_location: '/assets/data/appConfig.json',\n\tapp_base: '/',\n    document_management_proxy_auth_url: '/auth'\n};\n\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif ( environment.production ) {\nenableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule( AppModule ).catch( console.warn );\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/* (ignored) */"],"names":["codeTableAndUserPrefFnInit","appConfig","http","injector","loadAppConfig","catch","e","console","warn","getEndpointUrl","baseUrl","endpoint","result","length","endsWith","RouterLink","moment","DisclaimerDialogComponent","ResourcesRoutes","snowPlowHelper","isMobileView","mobileView","i0","ICON","ADVISORIES","BACK_ICON","BOOKMARK","CLOUD_SUN","CONTACT_US","DOT","EXCLAMATION_CIRCLE","EXT_LINK","FACEBOOK_SQUARE","FACEBOOK","FILTER_CANCEL","FIRE","INCIDENT","MAP_SIGNS","MAP","TWITTER","CAMPING","LARGER","PHONE","ARROW_FORWARD_ENABLED","ARROW_FORWARD_DISABLED","CAMERA","IMAGE","CAMERA_GREY","IMAGE_GREY","AppComponent","constructor","appConfigService","router","location","updateService","applicationStateService","matIconRegistry","domSanitizer","tokenService","cdr","dialog","wfMapService","title","device","getDevice","userName","version","long","short","environment","menu","undefined","storeViewportSize","ngOnInit","patch","addCustomMaterialIcons","checkForUpdates","checkUserPermissions","path","startsWith","configEmitter","subscribe","config","applicationConfig","application","replace","onResize","tokenSubscription","credentialsEmitter","creds","first","given_name","givenName","last","family_name","familyName","initAppMenu","initFooterMenu","window","remove","localStorage","getItem","dialogRef","open","autoFocus","width","afterClosed","setItem","removeItem","mainApp","document","getElementById","setTimeout","classList","add","getElementsByTagName","removeAttribute","isIncidentsPage","pathname","redirectToPublicMobile","innerWidth","innerHeight","getAppStoreLink","navigator","userAgent","toLowerCase","indexOf","getConfig","externalAppConfig","toString","getAppStoreName","download","appMenu","ACTIVEWILDFIREMAP","WILDFIRESLIST","CURRENTSTATISTICS","RESOURCES","footerMenu","ngAfterViewInit","setInterval","getLastSync","headerImg","getElementsByClassName","node","createElement","style","color","marginLeft","append","appendChild","lastSyncDate","now","value","diff","lastSyncValue","toFixed","onOrientationChange","onSizeChange","updateMapSize","detectChanges","isAdminPage","contains","orientation","getOrientation","documentElement","setProperty","ngOnDestroy","lastSuccessPollSub","unsubscribe","hasAccess","isLoggedIn","navigateToBcWebsite","navigateToFooterPage","event","route","addSvgIcon","bypassSecurityTrustResourceUrl","url","includes","navigateToBcSupport","logOutCurrentUser","navigate","SIGN_OUT","selectors","hostBindings","ctx","DragDropModule","ScrollingModule","CdkTableModule","APP_BASE_HREF","CommonModule","HttpClient","HttpClientModule","HTTP_INTERCEPTORS","APP_INITIALIZER","Injector","FormsModule","ReactiveFormsModule","MatDialogRef","MatDialogModule","MatButtonModule","MAT_DIALOG_DATA","MatMdcDialogModule","MatDividerModule","MatExpansionModule","MatFormFieldModule","MatGridListModule","MatIconModule","MatSlideToggleModule","MatRadioModule","MatListModule","MatMenuModule","MatInputModule","MatSelectModule","MatSnackBarModule","MatToolbarModule","MatTooltipModule","MatAutocompleteModule","BrowserModule","BrowserAnimationsModule","RouteReuseStrategy","ServiceWorkerModule","OwlNativeDateTimeModule","EffectsModule","FullRouterStateSerializer","StoreRouterConnectingModule","StoreModule","StoreDevtoolsModule","AppConfigService","CoreUIModule","TokenService","ApiModule","IncidentsApiModule","Configuration","IncidentsConfiguration","OrgUnitApiModule","OrgUnitConfiguration","WildfireApplicationModule","DocumentAPIServiceConfiguration","OwlDateTimeModule","OWL_DATE_TIME_FORMATS","OwlMomentDateTimeModule","ROUTING","ActiveWildfireMapComponent","PanelEvacuationOrdersAndAlertsComponent","PanelWildfireStageOfControlComponentDesktop","WFMapContainerComponent","MapConfigService","UpdateService","WFMapService","CustomReuseStrategy","initialRootState","rootEffects","rootReducers","provideBootstrapEffects","MatTableModule","SingleSelectDirective","NgxPaginationModule","WfAdminPanelComponentDesktop","AdminContainerDesktop","WfnewsInterceptor","IncidentDetailsPanel","MatProgressSpinnerModule","MatSortModule","MatCardModule","ResponseDetailsPanel","MatCheckboxModule","ContactsDetailsPanel","EvacOrdersDetailsPanel","AreaRestrictionsDetailsPanel","AdminIncidentFormDesktop","IncidentContainerDesktop","CKEditorModule","MatTabsModule","AGOLService","PanelBansAndProhibitionsComponent","PanelSmokeForecastComponent","PanelAreaRestrictionsComponent","PanelFireDangerComponent","CommonUtilityService","MapsPanel","MessageDialogComponent","EditMapDialogComponent","UploadMapDialogComponent","DocumentManagementService","SignOutPageComponent","ImageGalleryPanel","EditImageDialogComponent","UploadImageDialogComponent","ImageCardPanel","WildfirewResourcesComponent","ResourcePanelComponent","WFStatsComponent","NgxChartsModule","LightgalleryModule","PointIdService","WeatherPanelComponent","PanelRoadConditionsComponent","ErrorPageComponent","WildFiresListComponentDesktop","WildfiresListContainerDesktop","PublishedIncidentService","IncidentIdentifyPanelComponent","StickyWidgetComponent","ContactWidgetDialogComponent","PanelLocalAuthorityComponent","PanelWildfireStageOfControlContainerDesktop","MatProgressBarModule","PublicIncidentPage","IncidentGalleryPanel","IncidentHeaderPanel","IncidentInfoPanel","IncidentMapsPanel","IncidentOverviewPanel","LocalStorageService","WatchlistService","CurrentAlertComponentComponent","WildfiresListHeaderComponent","SafePipe","VideoGalleryPanel","VideoCardPanel","EditVideoDialogComponent","UploadVideoDialogComponent","YouTubePlayerModule","PublishDialogComponent","SummaryPanel","IncidentInfoPanelMobileComponent","ContactUsDialogComponent","IncidentGalleryPanelMobileComponent","IncidentGalleryAllMediaMobileComponent","IncidentGalleryImagesMobileComponent","IncidentGalleryVideosMobileComponent","IncidentOverviewPanelMobileComponent","IncidentMapsPanelMobileComponent","VideoPanelComponent","ImagePanelComponent","ScrollToTopComponent","AlertOrderBannerComponent","CanDeactivateGuard","UnsavedChangesDialog","ReportOfFirePage","RoFTitlePage","RoFPermissionsPage","RoFSimpleQuestionPage","MatButtonToggleModule","RoFContactPage","RoFPhotoPage","RoFLocationPage","RoFComplexQuestionPage","RoFCommentsPage","RoFCompassPage","NgxMaskModule","DATE_FORMATS","fullPickerInput","datePickerInput","timePickerInput","monthYearLabel","dateA11yLabel","monthYearA11yLabel","AppModule","bootstrap","provide","useValue","app_base","useClass","useFactory","multi","deps","basePath","rest","incidents","orgunit","wfdm","imports","forRoot","configurationPath","app_config_location","initialState","runtimeChecks","strictStateImmutability","strictActionImmutability","serializer","stateKey","instrument","maxAge","logOnly","production","register","enabled","scope","declarations","RouterModule","UnauthorizedPageComponent","ROLES_UI","NewsAuthGuard","PROFILE_SCOPES","ADMIN","IM_ADMIN","PANEL_ROUTES","component","pathMatch","outlet","LANDING","redirectTo","ROF","data","scopes","canActivate","ADMIN_INCIDENT","canDeactivate","PUBLIC_INCIDENT","ERROR_PAGE","UntypedFormControl","PlaceData","SmkApi","L","debounceTime","activedRouter","mapConfigService","agolService","publishedIncidentService","commonUtilityService","incidentsServiceUrl","placeData","markers","Array","self","searchByLocationControl","valueChanges","pipe","val","filteredOptions","searchLayerGroup","clearLayers","searchAddresses","then","results","forEach","sortedAddressList","sortAddressList","locationOptions","changes","option","nativeElement","addEventListener","onLocationOptionOver","bind","onLocationOptionOut","mapConfig","getMapConfig","mapState","SMK","push","deviceConfig","viewer","queryParams","params","Number","lat","smkMap","Object","prototype","hasOwnProperty","call","$viewer","panToFeature","point","slice","showAccordion","getFullAddress","civicNumber","streetName","streetQualifier","streetType","leaflet","leafletInstance","searchLocationsLayerGroup","layerGroup","addTo","map","jQuery","currentTarget","removeMarker","largerIcon","iconSize","shadowAnchor","popupAnchor","shadowSize","highlight","loc","place","iconSettings","iconAnchor","geojsonFeature","starIcon","icon","iconUrl","geoJson","pointToLayer","feature","latlng","marker","serializeLatLng","latLng","latRounded","Math","round","EPSILON","longRounded","latLongRounded","JSON","stringify","lng","second","onLocationSelected","selectedOption","action","text","address","locationControlValue","localityName","setValue","trim","onlySelf","emitEvent","clearSearchLocationControl","reset","clearMyLocation","activeFireCount","activeFireCountPromise","getActiveFireCount","resp","error","initMap","smk","smkApi","onToggleAccordion","onSelectLayer","selectedLayer","selectedPanel","layers","itemId","visible","setDisplayContextItemsVisible","useMyCurrentLocation","searchText","getCurrentLocationPromise","coords","longitude","latitude","showAreaHighlight","showLocationMarker","type","coordinates","center","radius","circle","turf","steps","units","showFeature","geojson","latLong","divIcon","className","html","searchTextUpdated","grabberElement","grabber","resizeBoxElement","resizeBox","dragMove","height","pointerPosition","y","lastPointerPosition","lastTranslate","transform","top","borderRadius","borderBottomRightRadius","borderBottomLeftRadius","dragDropped","dropPoint","openLink","link","disclaimerText","screen","viewQuery","AdminIncidentForm","features","decls","vars","consts","template","EventEmitter","Validators","Editor","CustomImageUploader","CauseOptionDisclaimer","SizeTypeOptionDisclaimer","formBuilder","componentRouter","snackbarService","aviationComments","aviationInd","cause","causeComments","contact","isPrimary","fireCentre","phoneNumber","emailAddress","crewsComments","evacOrders","fireName","fireNumber","fireOfNote","geometry","x","heavyEquipmentComments","heavyEquipmentInd","incidentData","incidentManagementComments","incidentManagementInd","incidentNumberSequence","incidentOverview","lastPublished","mapAttachments","publishedStatus","responseComments","sizeComments","sizeHectares","sizeType","stageOfControlCode","structureProtectionComments","structureProtectionInd","traditionalTerritory","wildfireIncidentGuid","wildfireYear","Date","getFullYear","wildifreCrewsInd","incidentForm","group","pattern","array","incidentLocation","incidentSituation","setIsFormDirty","dirty","isDirty","changesSavedEvent","emit","getPublishedDate","incident","validFormCheck","contactControl","get","hasError","wildFireYear","incidentNumberSequnce","fetchIMIncident","incidentResponse","currentAdminIncident","response","publishedIncidentType","discoveryDate","discoveryTimestamp","toLocaleString","fireCentreOrgUnitName","incidentStatusCode","fireOfNotePublishedInd","incidentName","incidentLabel","geographicDescription","fireSizeHectares","detailsPanelComponent","setCauseDisclaimer","causeOptions","find","c","id","disclaimer","fireCentreOrgUnitIdentifier","areaRestrictionsDetailsPanel","getAreaRestrictions","phone","patchValue","getPublishedIncident","publishedIncidentDetailGuid","traditionalTerritoryDetail","publishedTimestamp","incidentSizeDetail","entries","index","parseInt","incidentCauseDetail","newsPublicationStatusCode","resourceDetail","wildfireCrewResourcesInd","wildfireCrewResourcesDetail","wildfireAviationResourceInd","wildfireAviationResourceDetail","incidentMgmtCrewRsrcInd","incidentMgmtCrewRsrcDetail","heavyEquipmentResourcesInd","heavyEquipmentResourcesDetail","structureProtectionRsrcInd","structureProtectionRsrcDetail","contactOrgUnitIdentifer","contactPhoneNumber","contactEmailAddress","markAsPristine","evacOrdersDetailsPanel","getEvacOrders","log","incidentResponseError","duration","panelClass","ngOnChanges","nullEmptyStrings","publishChanges","publishDisabled","toPromise","publish","publishedIncidentResource","valueOf","fireOfNoteInd","incidentGuid","newsCreatedTimestamp","doc","publishIncident","persistEvacOrders","err","message","saveIMPublishedIncident","onShowPreview","mappedIncident","controls","fireYear","generalIncidentCauseCatId","incidentNumberLabelFull","incidentSizeEstimatedHa","incidentSizeType","lastUpdatedTimestamp","serializeUrl","createUrlTree","preview","onReady","editor","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","plugins","createUploadAdapter","loader","areaRestrictions","protRsSysID","attributes","PROT_RA_SYSID","name","NAME","accessStatusEffectiveDate","ACCESS_STATUS_EFFECTIVE_DATE","FIRE_CENTRE_NAME","fireZone","FIRE_ZONE_NAME","bulletinUrl","BULLETIN_URL","inputs","formGroup","DialogData","callFireCentre","parsedPhoneNumber","emailFireCentre","recipientEmail","mailtoUrl","href","FireCentres","getFireCentres","getFireCentreContacts","contacts","setDefaultContactInfo","control","fireCentreOptions","externalUriService","evacOrderForm","addEvacOrder","orderAlertStatus","eventName","externalUri","externalUriDisplayLabel","publishedInd","privateInd","archivedInd","primaryInd","externalUriCategoryTag","sourceObjectNameCode","sourceObjectUniqueId","deleteEvacOrder","evac","splice","removeAt","externalUriGuid","deleteExternalUri","i","evacForm","at","updateExternalUri","createExternalUri","EVENT_NAME","eventType","EVENT_TYPE","ORDER_ALERT_STATUS","issuingAgency","ISSUING_AGENCY","preOcCode","PREOC_CODE","emrgOAAsysID","EMRG_OAA_SYSID","getExternalUriList","externalUriList","body","uri","collection","split","form","documentManagementService","incidentAttachmentService","sanitizer","changePrimary","attachment","removeFlags","attachmentGuid","updateIncidentAttachment","primary","commsSuitable","edit","includeInGallery","guid","removePrimaryFlags","loaded","loadPage","loadImage","ngDoCheck","convertToDate","format","downloadDocument","thumbnailIdentifier","fileIdentifier","blob","imageSrc","bypassSecurityTrustUrl","URL","createObjectURL","Error","outputs","BaseComponent","store","fb","overlay","watchlistService","incidentAttachmentsService","sortParam","sortDirection","getIncidentAttachmentList","searchState","docs","sort","a","b","dir","idx","mimeType","attachments","uris","ngOnchanges","updateTable","sortData","active","direction","upload","file","uploadFile","percent","total","uploadProgress","uploadStatus","floor","statusBar","instance","attachmentCreator","fileId","filePath","finally","progressCallback","uploadDocument","onProgress","uploadPath","description","category","fileName","attachmentDescription","attachmentTypeCode","archived","privateIndicator","attachmentTitle","createIncidentAttachment","videoLink","pdfInputChange","fileInputEvent","target","files","returnResult","Promise","resolve","reject","reader","FileReader","default","readAsDataURL","abort","OptionDisclaimer","optionValue","setSizeTypeDisclaimer","sizeTypeOptions","item","anchor","click","delete","deleteIncidentAttachment","responseDisclaimer","onWildfireCrewsChecked","checked","crewCommentsValue","initialAttackCrews","unitCrews","onAviationChecked","aviationCommentsValue","helicopters","airtankers","onIncidentManagementTeamsChecked","onHeavyEquipmentChecked","heavyEquipmentCommentsValue","pieces","onStructureProtectionChecked","structureProtectionCommentsValue","initialAttack","unityCrews","crewsValueChange","aviationValueChange","heavyEquipmentValueChange","structuretValueChange","convertToStageOfControlDescription","convertToYoutubeId","video","navigateToYoutube","videoUrl","watchListServce","pageNumber","pageRowCount","totalRowCount","totalPageCount","uploadVideoLink","matchYoutubeUrl","resource","p","match","getDisplayErrorMessage","BaseComponentModel","Map","clone","clonedModel","base","setErrorState","errorState","validationErrors","apply","formControlNameErrors","keys","elementErrors","setErrors","set","updateValidators","formControl","formControlErrorTemplates","formControlNameErrorMap","formControlValidationErrors","filter","validationError","valErrors","DISPLAY_ERROR_MESSAGE","msgs","join","getErrors","key","updateValueAndValidity","markAsTouched","getElementInnerText","hasValues","isElementTruncated","CONSTANTS","getIsMobileResolution","itemsPerPage","currentPage","totalItems","previousLabel","nextLabel","initModels","getPagingConfig","reload","loadState","currentValue","isLoading","previousValue","invokeAfterLoaded","viewModel","updateView","model","redirectWithOAuth","redirectRoutePath","getAsFormGroup","ac","disableSaveForm","fg","valid","disableBatchSaveForm","arrayProperty","fgArray","arrayHasDirtyFlag","some","contactFg","arrayHasInvalidFlag","unsavedForm","unsavedBatchForm","doUnsavedStateUpdateIfNeeded","componentId","hasAddedUnsavedItem","hasAddedUnsavedItemNotBlank","isUnsaved","newUnsavedState","fgMain","ret","getRawValue","getActionRowClass","saveErrorState","severeErrorState","factory","evacuation","areaRestriction","isOrder","isArea","isCard","NavigationEnd","CollectionComponent","label","initSortingAndPaging","initPaging","initPagingRequest","currentSort","currentSortDirection","currentSortObj","columnsToSortBy","col","def","currentSortLabel","pageIndex","showEntriesSelection","pageSize","baseRoute","isFirstLoad","events","doSearch","updateCollection","fixPaginationA11y","query","paginationUlEls","el","aEls","setAttribute","collectionData","summaryString","getSummaryString","onPageChange","number","onShowEntriesChange","onChangeFilters","doSort","newCol","configId","showNum","start","end","NO_RECORDS_MESSAGE","selectFilterUpdated","property","selectShowEntriesUpdated","selectSortParamUpdated","defaultItemClickAction","defaultItemActionPermitted","doDefaultItemAction","defaultItemKeyEnterAction","enterKey","spaceKey","of","changesSaved","confirmDialog","offset","getBoundingClientRect","isButtonVisible","scrollEvent","removeEventListener","onScrollToTop","scrollIntoView","behavior","haversineDistance","convertToDateWithDayOfWeek","DateTimeConvert","createMap","centroid","attributionControl","zoomControl","dragging","doubleClickZoom","boxZoom","trackResize","setView","fitBounds","LatLngBounds","ymin","xmin","ymax","xmax","tileLayer","attribution","databcUrl","toLocaleLowerCase","wms","styles","transparent","all","getBansProhibitions","selectAlertUpdated","bansAndProhibitions","nearmeChecked","currentLong","currentLat","nearmeToggleChanged","selectedAlertType","returnCentroid","returnGeometry","extentResponse","getEvacOrdersByEventNumber","EVENT_NUMBER","returnExtent","extent","dateModified","DATE_MODIFIED","noticeType","getAreaRestrictionsByID","getBansAndProhibitions","getBansAndProhibitionsById","PROT_BAP_SYSID","protBsSysID","TYPE","accessProhibitionDescription","ACCESS_PROHIBITION_DESCRIPTION","calculateDistance","openBcGovGuide","convertRestriction","cancel","close","dontShowAgain","convertToFireCentreDescription","convertFireNumber","ctx_r40","setIncident","incidentRef","identifyList","setIndex","featureSet","identifiedFeatures","count","fid","layerId","sourceId","properties","FIRE_NUMBER","incident_number_label","compareId","year","fire_year","fetchPublishedIncident","options","weekday","month","day","toLocaleTimeString","declaredOutDate","getExternalUriEvacOrders","failedToLoad","display","goToIncidentDetail","incidentNumber","incidentNumberLabel","next","previous","onWatchlist","getWatchlist","addToWatchlist","saveToWatchlist","removeFromWatchlist","fetchExternalUri","ZoomIn","zoomToArea","area","snowplow","latlngPoint","LatLng","fireEvent","layerPoint","latLngToLayerPoint","containerPoint","latLngToContainerPoint","identified","pick","snowPlowPackage","zoomToEvac","PanelWildfireStageOfControlComponent","ctx_r14","PanelWildfireStageOfControlComponentModel","NgZone","ViewContainerRef","searchWildfires","LOAD_WILDFIRES_COMPONENT_ID","StageOfControlConvert","delay","t","componentFactoryResolver","zone","panel","highlightLayer","_leaflet_id","removeLayer","clearInterval","initInterval","mapPanProgressBar","markerAnimation","clearTimeout","ignorePanDebounce","getViewModel","mapEventHandler","ignorePan","mapEventDebounce","tabIndex","bindMapEvents","on","onTabChanged","tab","textLabel","isFirstPage","isLastPage","activeWildfiresInd","outWildfiresInd","newFires","wildfiresOfNoteInd","loading","bbox","bounds","getBounds","_northEast","_southWest","stageOfControlList","dispatch","sortColumn","displayLabel","stageOfControlChanges","source","ariaLabel","toUpperCase","handlePanelEnter","onPanelMouseExit","lastPanned","progressValues","_zoom","addMarker","pointerIcon","querySelector","backgroundColor","marginTop","boxShadow","onPanelMouseEnter","handlePanelEnterTimeout","openPreview","run","compRef","makeComponent","identifyPanel","componentRef","destroy","listIdentifyContainer","clear","createComponent","resolveComponentFactory","onClickBookmark","stopPropagation","convertToMobileFormat","settings","onBeforeSlide","onInit","displayVideosAndImages","displayMediaStub","loadMoreMedia","allImagesAndVideosStub","displayLoadMore","displayImages","displayImagesStub","loadMoreImages","allImagesStub","displayLoadMoreImages","detail","lightGallery","itemToBeSpliced","unshift","ngAfterViewChecked","refreshGallery","refresh","allVideosAndImages","displayVideos","displayVideosStub","pushUrisToAllImagesAndVideos","fetchPublishedIncidentAttachments","pushAttachmentsToAllImagesAndVideos","convertedDate","setPrimaryToTop","pushToImages","pushToVideos","loadMoreVideos","allVideosStub","handleImageFallback","imgComponent","src","uploadedDate","createdTimestamp","toLocaleDateString","attachmentFileName","thumbnail","displayLoadMoreVideos","lgZoom","lgFullscreen","lgThumbnail","counter","showZoomInOutIcons","fullScreen","actualSize","onMediaTypeFilterChanged","showImages","showVideos","videos","images","currentMediaType","isPreview","imagesAndVideosStub","showImageWarning","invalidateSize","defaultEvacURL","scrollWheelZoom","colorToDisplay","circleMarker","fillOpacity","fillColor","displaySizeType","dateString","formattedDate","openContactUsWindow","fireCentreName","fireCentreCode","email","backToMap","shareContent","currentUrl","share","getTooltipText","navigateToMap","navigateToEvac","navigateToAreaRestriction","scrollToSection","sectionId","section","toCanvas","findFireCentreByName","fc","code","canvas","showWarning","fetchPrimaryImage","getStageOfControlLabel","getStageOfControlDescription","getCauseLabel","getCauseDescription","getResponseTypeDescription","printPage","printContents","innerHTML","appRoot","removeChild","print","copyToClipboard","clipboard","writeText","setMedia","primaryMedia","convertDate","date","loadMore","limit","HttpEventType","HttpRequest","HttpResponse","DownloadableMap","httpClient","loadMaps","maps","toDateString","fetchAttachments","downloadMap","mapLink","request","reportProgress","responseType","ev","Sent","downloadFile","downloadedFile","Blob","showMapsWarning","formatHtml","originalContents","enableReadOnlyMode","hideOnMobileView","getFirePerimetre","loadingFailed","loadPreview","parse","RoFPage","initialize","reportOfFire","compassFaceUrl","compassHandUrl","allowIDontKnowButton","allowMultiSelect","buttons","onValChange","PointerEvent","clickedButton","highlightedButton","updateAttribute","notSureButton","isArray","disableNext","elementRef","getReportOfFireMapConfig","cfg","dist","estimatedDistance","distanceEstimateMeter","head","currentHeading","photo","destination","poly","exp","transformScale","mapView","hasHeading","heading","trueHeading","toggleFullScreen","fullScreenMode","mapContainer","requestFullscreen","exitFullscreen","setLocation","fireLocation","T","connector","getCenter","arrow","confirmLocation","getView","lineStartOffsetPx","lineEndOffsetPx","arrowLine","lineString","arrowLen","arrowLenPx","metersPerPixel","startOffset","endOffset","headPt","along","headRot","bearing","interactive","startPt","line","weight","lineCap","onEachFeature","ft","ly","bindTooltip","formatDist","permanent","rounded","parseFloat","toPrecision","abs","s","sign","f","substr","dataShareAcceptedToggle","dataShareAccepted","Camera","CameraResultType","CameraSource","changeDetector","takePhoto","image","getPhoto","quality","allowEditing","resultType","DataUrl","saveToGallery","webUseInput","captureUrl","dataUrl","isCaptured","addFromCameraRoll","photos","pickImages","webPath","deleteImage","enterImageFullScreen","isFullScreen","imgElement","querySelectorAll","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitImageFullScreen","ReportOfFire","ConfigJson","RoFReviewPage","PageOperation","pageComponents","pages","page","dynamicContainer","showProgress","progressSteps","selectPage","previousId","nextId","Next","skip","skipId","Skip","exit","detach","ngAfterContentInit","isStartPage","pageId","operation","updateReportOfFire","nextPage","currentStep","insert","hostView","allowExit","allowSkip","attribute","att","navigateByUrl","parseJson","v4","uuidv4","ctx_r4","optionSelected","processToNext","imageUrl","closeButton","messages","openCallPage","clearLocalStorageToken","siteminderUrlPrefix","UntypedFormGroup","controlName","errorName","contactForm","contactInformationConfig","required","subject","maxLength","mailErrorMessages","emailControl","onSubmit","post","messageBody","closeProgressInterval","openContactForm","openIncident","showWatchlist","loadWatchlist","stopDelay","progressValue","delayClose","watchlist","watchlistItems","removeProperty","setWeatherStation","station","stationData","hourly","temperature","tempWindData","precipHumidityData","tempWindDataHolder","precipHumidityDataHolder","temp","series","humidity","precip","wind","hour","convertName","relativeHumidity","precipitation","windSpeed","substring","WfAdminPanelComponent","ctx_r6","WfAdminPanelComponentModel","searchIncidents","initIncidentsPaging","SEARCH_INCIDENTS_COMPONENT_ID","getCurrentYearString","selectedFireCentreCode","clearSearchAndFilters","currentYear","getMonth","currentYearString","todaysDate","minute","weekdays","todayString","getDay","liveDateTime","currentDateTimeString","selectIncident","fireTypeChange","mapIndexAuto","initPromise","wfMap","pointIdService","destroyMap","mapIndex","createSMK","containerSel","toggleAccordion","mapInitialized","hideListButtonElement","handlePick","lastClickedLocation","displayContext","isVisible","addNearbyWeatherStation","setIdentifyDoneCallback","addSelectedIncidentPanels","createContent","fetchNearestWeatherStation","stationName","stationCode","identifyContainer","o","interval","loadData","updateSubscription","activeFiresByCentre","fireStats","activeFiresByCause","activeFiresByStatus","fires","outFires","activeIncidents","fetchPublishedIncidents","activeFoNIncidents","outIncidents","fetchOutIncidents","concat","firesLast24","firesLast7Days","thisYearCount","totalFires","areaBurned","lightningStart","humanStart","fcData","fcAllData","fcStats","fire","fireValidator","centre","FIRE_CENTRES","fireCount","outFireCount","activeHectares","reduce","n","incidentSizeMappedHa","outHectares","lightningStarts","humanStarts","causeData","causeAllData","FIRE_CAUSE","statusData","statusAllData","status","FIRE_STATUS","allFiresByCentre","allFiresByCause","allFiresByStatus","getFireYear","getFiresByCentreTotals","includeOut","arr","r","String","displayOrder","panelInfo","resources","subtitle","openStageOfControlLink","WildFiresListComponent","ctx_r10","ctx_r18","ctx_r72","WildFiresListComponentModel","initWildfiresListPaging","SEARCH_WILDFIRES_COMPONENT_ID","convertFromTimestamp","locationName","selectedLat","selectedLong","selectedRadius","viewMap","onlyOneControlSelected","isLocationName","isSearchText","AdminContainer","Location","LocationStrategy","PathLocationStrategy","select","selectSearchState","selectIncidentsErrorState","selectIncidentsLoadState","selectCurrentIncidentsSearch","BaseContainer","selectFormStatesUnsaved","snackBar","unsavedForms$","getAssociatedComponentIds","unsavedFormsSub","hasUnsavedForms","getHasUnsavedForms","getDisplayLabel","onBeforeUnload","preventDefault","returnValue","IncidentContainer","isFormClean","updateChangesSaved","selectCurrentIncident","selectCurrentIncidentCause","PanelWildfireStageOfControlContainer","selectWildfiresLoadState","selectWildfiresErrorState","selectCurrentWildfiresSearch","WildfiresListContainer","arrayEquals","selectHtmlElement","onClick","selected","appWFPlaceholder","selectedOptions","updated","position","AuthenticationInterceptor","UUID","catchError","mergeMap","switchMap","take","ApplicationStateService","routerExtService","intercept","req","processedRequest","requestId","isUrlSecured","handleLogin","handleRequest","authTokenEmitter","token","getTokenDetails","appStateService","isAdminPageAccessable","isTokenExpired","refreshWindow","tokenResponse","updateToken","headers","asyncTokenRefresh","isComplete","refreshSnackbar","dismiss","authToken","getOauthToken","handle","errorHandlingInstructions","retrieveErrorHandlingInstructions","handleError","createErrorHandlingInstructions","onLine","redirectToRoute","redirectToRouteData","snackBarErrorMsg","updateErrorPageRouteData","routeName","errorMsg","isSecured","wfdmProxy","displayRefreshErrorMessage","refreshPage","clientId","webade","authorizeUrl","oauth2Url","authScopes","redirectUrl","initRefreshTokenImplicitFlow","errorMessage","pure","HttpHeaders","encodeURI","eventNumber","sysId","getAreaRestrictionsWfs","getActiveFiresNoGeom","getOutFiresNoGeom","getCurrentYearFireLastXDaysStats","lastXDays","startdate","enddate","setDate","getDate","sStartdate","getHours","getMinutes","getSeconds","sEnddate","getCurrentYearFireStats","providedIn","checkMobileResolution","doesUserHaveScopes","getTokenService","doesUserHaveApplicationPermissions","getUserCredentialsEmitter","getUserDetails","Geolocation","MAX_CACHE_AGE","locationTime","getCurrentPosition","getCurrentLocation","callback","geolocation","myLocation","preloadGeolocation","trimmedAddress","valueLength","valueMatch","resultToBeUnshifted","UPLOAD_DIRECTORY","cred","userGuid","user_guid","wfdmBaseUrl","installServiceWorkerPathHandlers","makeDocumentUrl","userId","uploadDirectory","unique","formData","FormData","makeFileDetail","size","makeMetadata","res","rej","UploadProgress","fetch","method","cache","serviceWorker","controller","postMessage","pathPattern","RegExp","proxy","FileDetailsType","fileSize","metadata","fileType","security","MetadataType","etag","metadataName","metadataValue","saveData","getData","removeData","clearData","reportOfFireMapConfig","useSecure","LayerDisplayConfig","mapServices","items","alwaysShowLegend","showItem","class","AbmsMunicipalitiesLayerConfig","ls","serviceUrl","openmapsBaseUrl","layerName","styleName","titleAttribute","geometryAttribute","legend","AbmsRegionalDistrictsLayerConfig","ActiveWildfiresLayerConfig","isQueryable","useClustering","wfnewsUrl","popupTemplate","header","markerSize","markerOffset","markerUrl","strokeWidth","strokeStyle","strokeColor","strokeOpacity","fill","ActiveWildfiresHeatmapLayerConfig","useHeatmap","getTime","AreaRestrictionsLayerConfig","opacity","sld","protocol","host","BansAndProhibitionsLayerConfig","FireCentresLayerConfig","ProtectedLandsAccessRestrictionsLayerConfig","where","WildfiresInactiveLayerConfig","CLABIndianReservesLayerConfig","ClosedRecreationSitesLayerConfig","drawingInfo","renderer","field1","defaultSymbol","uniqueValueInfos","symbol","angle","xoffset","yoffset","imageData","contentType","transparency","DangerRatingLayerConfig","DriveBCEventsLayerConfig","drivebcBaseUrl","EvacuationOrdersLayerConfig","clipHeight","FirePerimetersLayerConfig","FntTreatyLandLayerConfig","ForestServiceRoadsLayerConfig","SmokeForecastLayerConfig","WeatherLayerConfig","WeatherStationsLayerConfig","PrecipitationLayerConfig","LayerConfig","serviceStatus","minScale","maxScale","queries","tiled","isDisplayed","baseMap","minZoom","tools","showTitle","glyph","hidden","command","allVisibility","order","showWidget","showPanel","attributeMode","nearBy","zoom","custom","internalLayers","stroke","strokeCap","mouseWheel","doubleClick","box","choices","mapStyle","timeDimensionOptions","showZoom","unit","baseAPIUrl","pointId","ts","fetchWeatherStation","weatherStationId","stations","concatMap","apikey","pageNum","rowCount","out","orderBy","Authorization","publishedUrl","publishedIncident","put","fetchAttachmentBytes","RouterExtService","previousUrl","getPreviousUrl","swUpdate","snackbar","isEnabled","checkForUpdate","available","current","onAction","activateUpdate","AuthGuard","AsyncSubject","baseScopes","state","getTokenInfo","asyncCheckingToken","redirectUri","routeConfig","pathWithParamSubs","queryParamStr","paramKey","checkForToken","redirectToErrorPage","canAccessRoute","reloadPage","complete","WATCHLIST_KEY","localStorageService","verifyWatchlist","clearWatchlist","watchlistString","setHandler","handler","HANDLER","setIdentifyCallback","cb","identifyCallback","identifyDoneCallback","toggleHideListButton","hideDetailsPanel","toggleShowListButton","baseMapIds","tool","mapResized","zoomToProvince","INIT","smkBaseUrl","include","patchPromise","visibility","left","right","bottom","option2x","tileSize","zoomOffset","topographicOption","maxNativeZoom","maxZoom","defineEsriBasemap","imageryOption","streetsOption","bcOption","lightGrayOption","Vue","extends","COMPONENT","FeatureBase","methods","asDate","attr","v","toISOString","zoomFeature","$root","trigger","computed","content","create","tag","tags","Viewer","animate","oldInit","arguments","maxBounds","latLngBounds","setMaxBounds","zoomIn","getType","ll","padding","getPanelPadding","getZoom","paddingTopLeft","topLeft","paddingBottomRight","bottomRight","origIdentifyFeatures","identifyFeatures","vw","Layer","canMergeWith","other","combiningClass","getFeaturesInArea","extraFilter","polygon","service","srsName","typename","outputformat","cql_filter","encodeUrl","mode","onload","readAsBinaryString","initLegends","J","param","SERVICE","VERSION","REQUEST","FORMAT","TRANSPARENT","LAYER","STYLE","img","Image","onerror","obj","baseMaps","basemap","bm","orig","esri","BasemapLayer","TILES","bmly","basemapLayer","defineWmsBasemap","k","encodeURIComponent","test","zoomToGeometry","bboxPolygon","geom","zoomLevel","distance","fetchJsonP","init","updateResults","setResultHandler","setMaximumDistance","maxDistance","getMaximumDistance","setAnchor","anchorPoint","getAnchor","getSearchState","findPlace","places","placeText","findRoad","roads","roadText","intersections","intersectionsText","findIntersection","text1","text2","txt","ver","maxResults","outputSRS","addressString","autoComplete","resultLoc","fullAddress","localityType","searchPlaces","searchRoads","searchOccupants","searchIntersections","assign","anchorPt","fetchCache","fetchData","credentials","ok","json","statusText","searchData","maxDist","locs","setAnchorData","locations","sorted","removeDuplicateIntersections","uniq","candidate","isDuplicateIntersection","intLoc1","intLoc2","distanceBetween","isAnchor","matchPrecision","intersectionName","toPoint","lonLat","toLatLon","opt","timeout","random","cbfn","promise","cleanup","script","parentNode","payload","DomUtil","async","loc1","loc2","formatDistance","DIRECTION","TIME_FORMAT","Intl","DateTimeFormat","timeZone","hour12","timeZoneName","DATE_FORMAT","CAD_FORMAT","NumberFormat","currency","Translate","spatialUtils","parseCoordinate","parseCoordinates","parseSexagesimal","divisor","part","partVal","isNaN","formatCoordinate","formatCoordinates","formatLatLon","lon","parseYyyyMmDd","parseIsoDateTime","parseMilliseconds","parseEUDate","m","formatLocalDate","formatLocalTime","formatNumber","numberFormat","precision","fractionPlaces","formatUnit","formatAndConvertUnit","outputUnit","convertUnit","formatCAD","formatAngle","formatMultipleUnits","standardUnit","otherUnit","unitFrom","unitTo","metersPerUnit","valInMeters","formatFireZone","zoneName","formatFireCentre","centreName","formatIndicator","tString","fString","nString","parseIndicator","indString","flip","formatPhoneHtml","formatEmailHtml","lat1","lat2","lon1","lon2","R","φ1","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","d","Mil","MicroInch","mm","Millimeter","cm","Centimeter","IInch","Inch","in","inches","Decimeter","ClarkeLink","SearsLink","BenoitLink","IntnlLink","GunterLink","CapeFoot","ClarkeFoot","IndianFt37","SearsFoot","IndianFt75","IndianFoot","IndianFt62","GoldCoastFoot","IFoot","Foot","ModAmFt","IndianYd37","SearsYard","IndianYd75","IndianYard","IndianYd62","IYard","Yard","yd","CaGrid","Meter","GermanMeter","fath","Fathom","Rood","Perch","Rod","Pole","Dekameter","Decameter","ClarkeChain","SearsChain","BenoitChain","IntnlChain","ch","GunterChain","dm","Hectometer","Furlong","Brealey","km","Kilometer","IMile","Mile","mi","kmi","nmi","NautM","dd","degrees","shouldDetach","handlers","shouldAttach","retrieve","shouldReuseRoute","future","curr","SCOPE_APPLICATION_PREFIX","SCOPE_APPLICATION_PREFIX_NEWS","GENERAL_STAFF","loadStates","errorStates","wildfires","componentIds","formUnsaved","formStates","ERROR_TYPE","getDefaultFormState","getDefaultLoadStates","getDefaultApplicationState","getDefaultErrorStates","getDefaultFormStates","getDefaultPagingInfoRequest","searchReducer","deepEqual","SEARCH_INCIDENTS","pageSearchReducer","typedAction","pagingSearchHelper","searchAction","updateFilters","pageInfoRequest","filters","pagingFilterHelper","GET_INCIDENT","GET_INCIDENT_SUCCESS","GET_INCIDENT_ERROR","GET_INCIDENT_CAUSE","GET_INCIDENT_CAUSE_SUCCESS","GET_INCIDENT_CAUSE_ERROR","getIncident","incidentSequenceNumber","getIncidentSuccess","getIncidentError","getIncidentCause","getIncidentCauseSuccess","incidentCause","getIncidentCauseError","createEffect","ofType","withLatestFrom","IncidentEffect","actions","incidentService","getWildfireIncident1","getDefaultIncidentState","incidentReducer","typedaction","currentIncident","currentIncidentCause","INCIDENT_COMPONENT_ID","SEARCH_INCIDENTS_SUCCESS","SEARCH_INCIDENTS_ERROR","selectedFireCentre","searchIncidentsSuccess","SearchIncidentsError","formatSort","getPageInfoRequestForSearchState","IncidentsEffect","incidentListService","pagingInfoRequest","savedFilters","savedFireCentreFilter","savedFireOfNotePublishedIndFilter","selectedFireOfNotePublishedInd","fireCentreFilter","currentFireYear","getWildfireIncidentList","getDefaultIncidentsState","incidentsReducer","currentIncidentsSearch","INCIDENTS_COMPONENT_ID","LOAD_INCIDENTS_COMPONENT_ID","EMPTY_INCIDENTS","initialIncidentsSearchState","sortModalVisible","hiddenFilters","routerReducer","storeLogger","WildfiresListEffect","wildfiresListReducer","initialWildfiresSearchState","search","logger","reducer","collapsed","level","blacklist","SearchStateAndConfig","isEmpty","SEARCH_WILDFIRES","SEARCH_WILDFIRES_SUCCESS","SEARCH_WILDFIRES_ERROR","searchWildfiresSuccess","searchWildfiresError","soc","Accept","getDefaultWildfiresListState","currentWildfiresSearch","WILDFIRESLIST_COMPONENT_ID","EMPTY_WILDFIRESLIST","digits","invalid","notFound","min","max","minMax","ErrorMessages","maxlength","minlength","messageTemplate","msg","args","messageArguments","arg","paramLookup","APP_BOOTSTRAP_LISTENER","Inject","InjectionToken","EffectSources","agol","effectiveDate","expiryDate","characterAlias","FireZones","alias","fireCentreOrgUnit","BOOTSTRAP_EFFECTS","createInstances","instances","bootstrapEffects","effects","sources","effect","addEffects","simplifiedDate","simplifiedDateWithYear","simplifiedDateWithTime","simplifiedMonthDate","fullPickerInputWithSlash","API_DATE","API_TIMESTAMP","API_TIMESTAMP_WITH_SEP","innerText","values","offsetWidth","scrollWidth","every","WF_SNACKBAR_TYPES","SUCCESS","ERROR","WARNING","INFO","UPDATE","convertToDateWithTime","displayDay","charAt","nameResult","agolResult","pageInfo","schema","fcAlias","zoneAlias","z","fireZoneUnitIdentifier","padStart","regExp","with","block","fail","acetate","layerVisibilities","setItemVisible","layerIdPromise","updateLayersVisible","withLayerConfig","override_webade_preference_config","webade_preference_config","document_management_proxy_auth_url","enableProdMode","__NgCli_bootstrap_1","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[245,246]}